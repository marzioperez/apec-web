var __defProp = Object.defineProperty;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};

// node_modules/qr-scanner/qr-scanner-worker.min.js
var qr_scanner_worker_min_exports = {};
__export(qr_scanner_worker_min_exports, {
  createWorker: () => createWorker
});
var createWorker;
var init_qr_scanner_worker_min = __esm({
  "node_modules/qr-scanner/qr-scanner-worker.min.js"() {
    createWorker = () => new Worker(URL.createObjectURL(new Blob([`class x{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new x(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let g=a;g<a+c;g++)this.set(g,f,!!e)}}
class A{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}
class ba{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,
this.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var B,C=B||(B={});C.Numeric="numeric";C.Alphanumeric="alphanumeric";C.Byte="byte";C.Kanji="kanji";C.ECI="eci";C.StructuredAppend="structuredappend";var D,E=D||(D={});E[E.Terminator=0]="Terminator";E[E.Numeric=1]="Numeric";E[E.Alphanumeric=2]="Alphanumeric";E[E.Byte=4]="Byte";E[E.Kanji=8]="Kanji";E[E.ECI=7]="ECI";E[E.StructuredAppend=3]="StructuredAppend";let F="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");
function ca(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let e=0;e<b;e++){let f=a.readBits(8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>\`%\${("0"+e.toString(16)).substr(-2)}\`).join(""))}catch(e){}return{bytes:c,text:d}}
function da(a,b){a=new ba(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===D.Terminator)return b;if(d===D.ECI)0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(7)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:B.ECI,assignmentNumber:-1});else if(d===D.Numeric){var e=a,f=[];d="";for(var g=
e.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),m=Math.floor(h/10)%10;h%=10;f.push(48+k,48+m,48+h);d+=k.toString()+m.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=
d;b.bytes.push(...f);b.chunks.push({type:B.Numeric,text:d})}else if(d===D.Alphanumeric){e=a;f=[];d="";for(g=e.readBits([9,11,13][c]);2<=g;)m=e.readBits(11),k=Math.floor(m/45),m%=45,f.push(F[k].charCodeAt(0),F[m].charCodeAt(0)),d+=F[k]+F[m],g-=2;1===g&&(e=e.readBits(6),f.push(F[e].charCodeAt(0)),d+=F[e]);b.text+=d;b.bytes.push(...f);b.chunks.push({type:B.Alphanumeric,text:d})}else if(d===D.Byte)d=ca(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:B.Byte,bytes:d.bytes,text:d.text});
else if(d===D.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.bytes.push(...d);b.chunks.push({type:B.Kanji,bytes:d,text:f})}else d===D.StructuredAppend&&b.chunks.push({type:B.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}
class G{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;
if(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new G(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new G(this.field,c)}multiplyPoly(a){if(this.isZero()||
a.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let f=0;f<c;f++){let g=b[f];for(let h=0;h<d;h++)e[f+h]=H(e[f+h],this.field.multiply(g,a[h]))}return new G(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;let c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new G(this.field,
a)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(d=>{b^=d}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b}}function H(a,b){return a^b}
class ea{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);this.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new G(this,Uint8ClampedArray.from([0]));this.one=new G(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===
a)throw Error("Can't invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,b){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new G(this,a)}log(a){if(0===a)throw Error("Can't take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}
function fa(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let h=e;b=c;e=f;if(b.isZero())return null;c=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let k=c.degree()-b.degree(),m=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(k,m));c=c.addOrSubtract(b.multiplyByMonomial(k,m))}f=f.multiplyPoly(e).addOrSubtract(h);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);
if(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}
function ha(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new ea(285,256,0);var d=new G(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new G(a,e);d=fa(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];
f=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let m=0;m<f;m++)g!==m&&(k=a.multiply(k,H(1,a.multiply(b[m],h))));d[g]=a.multiply(e.evaluateAt(h),a.inverse(k));0!==a.generatorBase&&(d[g]=a.multiply(d[g],h))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}
let I=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,
dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,
ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},
{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,
34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,
ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},
{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},
{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,
dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,
dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},
{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},
{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},
{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,
ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,
74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,
versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,
dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,
dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},
{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},
{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},
{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},
{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},
{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,
ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,
dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,
dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},
{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},
{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,
ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,
26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},
{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},
{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,
dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},
{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,
dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},
{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,
dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},
{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,
dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],
errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,
versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},
{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function J(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function K(a,b){return b<<1|a}
let ia=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,
dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,
formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,
dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%
2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];
function ka(a,b,c){c=ja[c.dataMask];let d=a.height;var e=17+4*b.versionNumber;let f=x.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===
k&&k--;for(let m=0;m<d;m++){let l=e?d-1-m:m;for(let n=0;2>n;n++){let q=k-n;if(!f.get(q,l)){h++;let r=a.get(q,l);c({y:l,x:q})&&(r=!r);g=g<<1|r;8===h&&(b.push(g),g=h=0)}}}e=!e}return b}
function la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return I[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=K(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=K(a.get(e,g),d);a=Infinity;let f;for(let g of I){if(g.infoBits===c||g.infoBits===d)return g;b=J(c,g.infoBits);b<a&&(f=g,a=b);b=J(d,g.infoBits);b<a&&(f=g,a=b)}if(3>=a)return f}
function ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=K(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=K(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=K(a.get(8,e),c);for(e=d-8;e<d;e++)c=K(a.get(e,8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of ia){if(f===b||f===c)return g;e=J(b,f);e<a&&(d=g,a=e);b!==c&&(e=J(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}
function na(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(h=>{for(let k=0;k<h.numBlocks;k++)e.push({numDataCodewords:h.dataCodewordsPerBlock,codewords:[]}),f+=h.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());if(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let h of e)h.codewords.push(a.shift());
return e}function L(a){let b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((e,f)=>e+f.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let e of d){d=ha(e.codewords,e.codewords.length-e.numDataCodewords);if(!d)return null;for(let f=0;f<e.numDataCodewords;f++)c[a++]=d[f]}try{return da(c,b.versionNumber)}catch(e){return null}}
function M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};let g=b.x-c.x;var h=d.x-c.x;let k=b.y-c.y,m=d.y-c.y;c=g*m-h*k;h=(e*m-h*f)/c;e=(g*f-e*k)/c;return{a11:b.x-a.x+h*b.x,a12:b.y-a.y+h*b.y,a13:h,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}
function oa(a,b,c,d){a=M(a,b,c,d);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}
function pa(a,b){var c=oa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+d.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,m=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,l=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,n=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,q=d.a13*
c.a31+d.a23*c.a32+d.a33*c.a33;c=x.createEmpty(b.dimension,b.dimension);d=(r,u)=>{const p=g*r+m*u+q;return{x:(e*r+h*u+l)/p,y:(f*r+k*u+n)/p}};for(let r=0;r<b.dimension;r++)for(let u=0;u<b.dimension;u++){let p=d(u+.5,r+.5);c.set(u,r,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}let N=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function O(a){return a.reduce((b,c)=>b+c)}
function qa(a,b,c){let d=N(a,b),e=N(b,c),f=N(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}
function ra(a,b,c,d){d=(O(P(a,c,d,5))/7+O(P(a,b,d,5))/7+O(P(c,a,d,5))/7+O(P(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(N(a,b)/d);a=Math.round(N(a,c)/d);a=Math.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}
function Q(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),m=Math.abs(b-h),l=Math.floor(-k/2),n=g<a?1:-1,q=h<b?1:-1,r=!0;for(let u=g,p=h;u!==a+n;u+=n){g=f?p:u;h=f?u:p;if(c.get(g,h)!==r&&(r=!r,e.push({x:g,y:h}),e.length===d+1))break;l+=m;if(0<l){if(p===b)break;p+=q;l-=k}}c=
[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(N(e[f],e[f+1])):c.push(0);return c}function P(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=Q(a,b,c,Math.ceil(d/2));a=Q(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function R(a,b){let c=O(a)/O(b),d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{averageSize:c,error:d}}
function S(a,b,c){try{let d=P(a,{x:-1,y:a.y},c,b.length),e=P(a,{x:a.x,y:-1},c,b.length),f=P(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=P(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=R(d,b),k=R(e,b),m=R(f,b),l=R(g,b),n=(h.averageSize+k.averageSize+m.averageSize+l.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+m.error*m.error+l.error*l.error)+(Math.pow(h.averageSize-n,2)+Math.pow(k.averageSize-n,2)+Math.pow(m.averageSize-n,2)+
Math.pow(l.averageSize-n,2))/n}catch(d){return Infinity}}function T(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}
function sa(a){var b=[],c=[];let d=[];var e=[];for(let p=0;p<=a.height;p++){var f=0,g=!1;let t=[0,0,0,0,0];for(let v=-1;v<=a.width;v++){var h=a.get(v,p);if(h===g)f++;else{t=[t[1],t[2],t[3],t[4],f];f=1;g=h;var k=O(t)/7;k=Math.abs(t[0]-k)<k&&Math.abs(t[1]-k)<k&&Math.abs(t[2]-3*k)<3*k&&Math.abs(t[3]-k)<k&&Math.abs(t[4]-k)<k&&!h;var m=O(t.slice(-3))/3;h=Math.abs(t[2]-m)<m&&Math.abs(t[3]-m)<m&&Math.abs(t[4]-m)<m&&h;if(k){let z=v-t[3]-t[4],y=z-t[2];k={startX:y,endX:z,y:p};m=c.filter(w=>y>=w.bottom.startX&&
y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<m.length?m[0].bottom=k:c.push({top:k,bottom:k})}if(h){let z=v-t[4],y=z-t[3];h={startX:y,y:p,endX:z};k=e.filter(w=>y>=w.bottom.startX&&y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<k.length?
k[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(v=>v.bottom.y!==p&&2<=v.bottom.y-v.top.y));c=c.filter(v=>v.bottom.y===p);d.push(...e.filter(v=>v.bottom.y!==p));e=e.filter(v=>v.bottom.y===p)}b.push(...c.filter(p=>2<=p.bottom.y-p.top.y));d.push(...e);c=[];for(var l of b)2>l.bottom.y-l.top.y||(b=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4,e=(l.top.y+l.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[l.top.endX-l.top.startX,l.bottom.endX-l.bottom.startX,l.bottom.y-l.top.y+
1],f=O(f)/f.length,g=S({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((p,t)=>p.score-t.score);l=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{score:n.score+Math.pow(n.size-e.size,2)/e.size}));f.sort((p,t)=>p.score-t.score);l.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}l.sort((p,t)=>p.score-t.score);let {topRight:q,topLeft:r,bottomLeft:u}=qa(...l[0].points);
l=U(a,d,q,r,u);n=[];l&&n.push({alignmentPattern:{x:l.alignmentPattern.x,y:l.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:l.dimension,topLeft:{x:r.x,y:r.y},topRight:{x:q.x,y:q.y}});l=T(a,q);b=T(a,r);c=T(a,u);(a=U(a,d,l,b,c))&&n.push({alignmentPattern:{x:a.alignmentPattern.x,y:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:l.x,y:l.y},dimension:a.dimension});return 0===n.length?null:n}
function U(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ra(d,c,e,a))}catch(l){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(N(d,e)+N(d,c))/2/g;e=1-3/c;let m={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(l=>{const n=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(n),Math.floor(l))){var q=S({x:Math.floor(n),y:Math.floor(l)},[1,1,1],a)+N({x:n,y:l},m);return{x:n,y:l,score:q}}}).filter(l=>!!l).sort((l,n)=>l.score-n.score);return{alignmentPattern:15<=
c&&b.length?b[0]:m,dimension:f}}
function V(a){var b=sa(a);if(!b)return null;for(let e of b){b=pa(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,
e.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}let ta={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function W(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}
function X(a,b,c,d={}){let e=Object.create(null);W(e,ta);W(e,d);d="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var m=0;if(h){var l=new Uint8ClampedArray(a.buffer,m,k);m+=k}l=new A(b,c,l);if(g.useIntegerApproximation)for(var n=0;n<c;n++)for(var q=0;q<b;q++){var r=4*(n*b+q);l.set(q,n,g.red*a[r]+g.green*a[r+1]+
g.blue*a[r+2]+128>>8)}else for(n=0;n<c;n++)for(q=0;q<b;q++)r=4*(n*b+q),l.set(q,n,g.red*a[r]+g.green*a[r+1]+g.blue*a[r+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);q=g*n;if(h){var u=new Uint8ClampedArray(a.buffer,m,q);m+=q}u=new A(g,n,u);for(q=0;q<n;q++)for(r=0;r<g;r++){var p=Infinity,t=0;for(var v=0;8>v;v++)for(let w=0;8>w;w++){let aa=l.get(8*r+w,8*q+v);p=Math.min(p,aa);t=Math.max(t,aa)}v=(p+t)/2;v=Math.min(255,1.11*v);24>=t-p&&(v=p/2,0<q&&0<r&&(t=(u.get(r,q-1)+2*u.get(r-1,q)+u.get(r-1,q-1))/4,p<t&&(v=t)));
u.set(r,q,v)}h?(q=new Uint8ClampedArray(a.buffer,m,k),m+=k,q=new x(q,b)):q=x.createEmpty(b,c);r=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,m,k),r=new x(a,b)):r=x.createEmpty(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(m=-2;2>=m;m++)for(p=-2;2>=p;p++)k+=u.get(c+m,h+p);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)m=8*a+h,p=8*b+k,t=l.get(m,p),q.set(m,p,t<=c),f&&r.set(m,p,!(t<=c))}f=f?{binarized:q,inverted:r}:{binarized:q};let {binarized:z,inverted:y}=f;(f=V(d?
y:z))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||(f=V(d?z:y));return f}X.default=X;let Y="dontInvert",Z={red:77,green:150,blue:29,useIntegerApproximation:!0};
self.onmessage=a=>{let b=a.data.id,c=a.data.data;switch(a.data.type){case "decode":(a=X(c.data,c.width,c.height,{inversionAttempts:Y,greyScaleWeights:Z}))?self.postMessage({id:b,type:"qrResult",data:a.data,cornerPoints:[a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomRightCorner,a.location.bottomLeftCorner]}):self.postMessage({id:b,type:"qrResult",data:null});break;case "grayscaleWeights":Z.red=c.red;Z.green=c.green;Z.blue=c.blue;Z.useIntegerApproximation=c.useIntegerApproximation;
break;case "inversionMode":switch(c){case "original":Y="dontInvert";break;case "invert":Y="onlyInvert";break;case "both":Y="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}
`]), { type: "application/javascript" }));
  }
});

// node_modules/qr-scanner/qr-scanner.min.js
var e = class _e {
  constructor(a, b, c, d, f) {
    this._legacyCanvasSize = _e.DEFAULT_CANVAS_SIZE;
    this._preferredCamera = "environment";
    this._maxScansPerSecond = 25;
    this._lastScanTimestamp = -1;
    this._destroyed = this._flashOn = this._paused = this._active = false;
    this.$video = a;
    this.$canvas = document.createElement("canvas");
    c && "object" === typeof c ? this._onDecode = b : (c || d || f ? console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future") : console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."), this._legacyOnDecode = b);
    b = "object" === typeof c ? c : {};
    this._onDecodeError = b.onDecodeError || ("function" === typeof c ? c : this._onDecodeError);
    this._calculateScanRegion = b.calculateScanRegion || ("function" === typeof d ? d : this._calculateScanRegion);
    this._preferredCamera = b.preferredCamera || f || this._preferredCamera;
    this._legacyCanvasSize = "number" === typeof c ? c : "number" === typeof d ? d : this._legacyCanvasSize;
    this._maxScansPerSecond = b.maxScansPerSecond || this._maxScansPerSecond;
    this._onPlay = this._onPlay.bind(this);
    this._onLoadedMetaData = this._onLoadedMetaData.bind(this);
    this._onVisibilityChange = this._onVisibilityChange.bind(this);
    this._updateOverlay = this._updateOverlay.bind(this);
    a.disablePictureInPicture = true;
    a.playsInline = true;
    a.muted = true;
    let h = false;
    a.hidden && (a.hidden = false, h = true);
    document.body.contains(a) || (document.body.appendChild(a), h = true);
    c = a.parentElement;
    if (b.highlightScanRegion || b.highlightCodeOutline) {
      d = !!b.overlay;
      this.$overlay = b.overlay || document.createElement("div");
      f = this.$overlay.style;
      f.position = "absolute";
      f.display = "none";
      f.pointerEvents = "none";
      this.$overlay.classList.add("scan-region-highlight");
      if (!d && b.highlightScanRegion) {
        this.$overlay.innerHTML = '<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';
        try {
          this.$overlay.firstElementChild.animate({ transform: [
            "scale(.98)",
            "scale(1.01)"
          ] }, { duration: 400, iterations: Infinity, direction: "alternate", easing: "ease-in-out" });
        } catch (m) {
        }
        c.insertBefore(this.$overlay, this.$video.nextSibling);
      }
      b.highlightCodeOutline && (this.$overlay.insertAdjacentHTML("beforeend", '<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'), this.$codeOutlineHighlight = this.$overlay.lastElementChild);
    }
    this._scanRegion = this._calculateScanRegion(a);
    requestAnimationFrame(() => {
      let m = window.getComputedStyle(a);
      "none" === m.display && (a.style.setProperty("display", "block", "important"), h = true);
      "visible" !== m.visibility && (a.style.setProperty("visibility", "visible", "important"), h = true);
      h && (console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."), a.style.opacity = "0", a.style.width = "0", a.style.height = "0", this.$overlay && this.$overlay.parentElement && this.$overlay.parentElement.removeChild(this.$overlay), delete this.$overlay, delete this.$codeOutlineHighlight);
      this.$overlay && this._updateOverlay();
    });
    a.addEventListener("play", this._onPlay);
    a.addEventListener("loadedmetadata", this._onLoadedMetaData);
    document.addEventListener("visibilitychange", this._onVisibilityChange);
    window.addEventListener("resize", this._updateOverlay);
    this._qrEnginePromise = _e.createQrEngine();
  }
  static set WORKER_PATH(a) {
    console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.");
  }
  static async hasCamera() {
    try {
      return !!(await _e.listCameras(false)).length;
    } catch (a) {
      return false;
    }
  }
  static async listCameras(a = false) {
    if (!navigator.mediaDevices) return [];
    let b = async () => (await navigator.mediaDevices.enumerateDevices()).filter((d) => "videoinput" === d.kind), c;
    try {
      a && (await b()).every((d) => !d.label) && (c = await navigator.mediaDevices.getUserMedia({ audio: false, video: true }));
    } catch (d) {
    }
    try {
      return (await b()).map((d, f) => ({ id: d.deviceId, label: d.label || (0 === f ? "Default Camera" : `Camera ${f + 1}`) }));
    } finally {
      c && (console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"), _e._stopVideoStream(c));
    }
  }
  async hasFlash() {
    let a;
    try {
      if (this.$video.srcObject) {
        if (!(this.$video.srcObject instanceof MediaStream)) return false;
        a = this.$video.srcObject;
      } else a = (await this._getCameraStream()).stream;
      return "torch" in a.getVideoTracks()[0].getSettings();
    } catch (b) {
      return false;
    } finally {
      a && a !== this.$video.srcObject && (console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"), _e._stopVideoStream(a));
    }
  }
  isFlashOn() {
    return this._flashOn;
  }
  async toggleFlash() {
    this._flashOn ? await this.turnFlashOff() : await this.turnFlashOn();
  }
  async turnFlashOn() {
    if (!this._flashOn && !this._destroyed && (this._flashOn = true, this._active && !this._paused)) try {
      if (!await this.hasFlash()) throw "No flash available";
      await this.$video.srcObject.getVideoTracks()[0].applyConstraints({ advanced: [{ torch: true }] });
    } catch (a) {
      throw this._flashOn = false, a;
    }
  }
  async turnFlashOff() {
    this._flashOn && (this._flashOn = false, await this._restartVideoStream());
  }
  destroy() {
    this.$video.removeEventListener("loadedmetadata", this._onLoadedMetaData);
    this.$video.removeEventListener("play", this._onPlay);
    document.removeEventListener(
      "visibilitychange",
      this._onVisibilityChange
    );
    window.removeEventListener("resize", this._updateOverlay);
    this._destroyed = true;
    this._flashOn = false;
    this.stop();
    _e._postWorkerMessage(this._qrEnginePromise, "close");
  }
  async start() {
    if (this._destroyed) throw Error("The QR scanner can not be started as it had been destroyed.");
    if (!this._active || this._paused) {
      if ("https:" !== window.location.protocol && console.warn("The camera stream is only accessible if the page is transferred via https."), this._active = true, !document.hidden) if (this._paused = false, this.$video.srcObject) await this.$video.play();
      else try {
        let { stream: a, facingMode: b } = await this._getCameraStream();
        !this._active || this._paused ? _e._stopVideoStream(a) : (this._setVideoMirror(b), this.$video.srcObject = a, await this.$video.play(), this._flashOn && (this._flashOn = false, this.turnFlashOn().catch(() => {
        })));
      } catch (a) {
        if (!this._paused) throw this._active = false, a;
      }
    }
  }
  stop() {
    this.pause();
    this._active = false;
  }
  async pause(a = false) {
    this._paused = true;
    if (!this._active) return true;
    this.$video.pause();
    this.$overlay && (this.$overlay.style.display = "none");
    let b = () => {
      this.$video.srcObject instanceof MediaStream && (_e._stopVideoStream(this.$video.srcObject), this.$video.srcObject = null);
    };
    if (a) return b(), true;
    await new Promise((c) => setTimeout(c, 300));
    if (!this._paused) return false;
    b();
    return true;
  }
  async setCamera(a) {
    a !== this._preferredCamera && (this._preferredCamera = a, await this._restartVideoStream());
  }
  static async scanImage(a, b, c, d, f = false, h = false) {
    let m, n = false;
    b && ("scanRegion" in b || "qrEngine" in b || "canvas" in b || "disallowCanvasResizing" in b || "alsoTryWithoutScanRegion" in b || "returnDetailedScanResult" in b) ? (m = b.scanRegion, c = b.qrEngine, d = b.canvas, f = b.disallowCanvasResizing || false, h = b.alsoTryWithoutScanRegion || false, n = true) : b || c || d || f || h ? console.warn("You're using a deprecated api for scanImage which will be removed in the future.") : console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.");
    b = !!c;
    try {
      let p, k;
      [c, p] = await Promise.all([c || _e.createQrEngine(), _e._loadImage(a)]);
      [d, k] = _e._drawToCanvas(p, m, d, f);
      let q;
      if (c instanceof Worker) {
        let g = c;
        b || _e._postWorkerMessageSync(g, "inversionMode", "both");
        q = await new Promise((l, v) => {
          let w, u, r, y = -1;
          u = (t) => {
            t.data.id === y && (g.removeEventListener("message", u), g.removeEventListener("error", r), clearTimeout(w), null !== t.data.data ? l({ data: t.data.data, cornerPoints: _e._convertPoints(t.data.cornerPoints, m) }) : v(_e.NO_QR_CODE_FOUND));
          };
          r = (t) => {
            g.removeEventListener("message", u);
            g.removeEventListener("error", r);
            clearTimeout(w);
            v("Scanner error: " + (t ? t.message || t : "Unknown Error"));
          };
          g.addEventListener("message", u);
          g.addEventListener("error", r);
          w = setTimeout(() => r("timeout"), 1e4);
          let x = k.getImageData(0, 0, d.width, d.height);
          y = _e._postWorkerMessageSync(g, "decode", x, [x.data.buffer]);
        });
      } else q = await Promise.race([new Promise((g, l) => window.setTimeout(() => l("Scanner error: timeout"), 1e4)), (async () => {
        try {
          var [g] = await c.detect(d);
          if (!g) throw _e.NO_QR_CODE_FOUND;
          return { data: g.rawValue, cornerPoints: _e._convertPoints(g.cornerPoints, m) };
        } catch (l) {
          g = l.message || l;
          if (/not implemented|service unavailable/.test(g)) return _e._disableBarcodeDetector = true, _e.scanImage(a, { scanRegion: m, canvas: d, disallowCanvasResizing: f, alsoTryWithoutScanRegion: h });
          throw `Scanner error: ${g}`;
        }
      })()]);
      return n ? q : q.data;
    } catch (p) {
      if (!m || !h) throw p;
      let k = await _e.scanImage(a, { qrEngine: c, canvas: d, disallowCanvasResizing: f });
      return n ? k : k.data;
    } finally {
      b || _e._postWorkerMessage(c, "close");
    }
  }
  setGrayscaleWeights(a, b, c, d = true) {
    _e._postWorkerMessage(this._qrEnginePromise, "grayscaleWeights", {
      red: a,
      green: b,
      blue: c,
      useIntegerApproximation: d
    });
  }
  setInversionMode(a) {
    _e._postWorkerMessage(this._qrEnginePromise, "inversionMode", a);
  }
  static async createQrEngine(a) {
    a && console.warn("Specifying a worker path is not required and not supported anymore.");
    a = () => Promise.resolve().then(() => (init_qr_scanner_worker_min(), qr_scanner_worker_min_exports)).then((c) => c.createWorker());
    if (!(!_e._disableBarcodeDetector && "BarcodeDetector" in window && BarcodeDetector.getSupportedFormats && (await BarcodeDetector.getSupportedFormats()).includes("qr_code"))) return a();
    let b = navigator.userAgentData;
    return b && b.brands.some(({ brand: c }) => /Chromium/i.test(c)) && /mac ?OS/i.test(b.platform) && await b.getHighEntropyValues(["architecture", "platformVersion"]).then(({ architecture: c, platformVersion: d }) => /arm/i.test(c || "arm") && 13 <= parseInt(d || "13")).catch(() => true) ? a() : new BarcodeDetector({ formats: ["qr_code"] });
  }
  _onPlay() {
    this._scanRegion = this._calculateScanRegion(this.$video);
    this._updateOverlay();
    this.$overlay && (this.$overlay.style.display = "");
    this._scanFrame();
  }
  _onLoadedMetaData() {
    this._scanRegion = this._calculateScanRegion(this.$video);
    this._updateOverlay();
  }
  _onVisibilityChange() {
    document.hidden ? this.pause() : this._active && this.start();
  }
  _calculateScanRegion(a) {
    let b = Math.round(2 / 3 * Math.min(a.videoWidth, a.videoHeight));
    return { x: Math.round((a.videoWidth - b) / 2), y: Math.round((a.videoHeight - b) / 2), width: b, height: b, downScaledWidth: this._legacyCanvasSize, downScaledHeight: this._legacyCanvasSize };
  }
  _updateOverlay() {
    requestAnimationFrame(() => {
      if (this.$overlay) {
        var a = this.$video, b = a.videoWidth, c = a.videoHeight, d = a.offsetWidth, f = a.offsetHeight, h = a.offsetLeft, m = a.offsetTop, n = window.getComputedStyle(a), p = n.objectFit, k = b / c, q = d / f;
        switch (p) {
          case "none":
            var g = b;
            var l = c;
            break;
          case "fill":
            g = d;
            l = f;
            break;
          default:
            ("cover" === p ? k > q : k < q) ? (l = f, g = l * k) : (g = d, l = g / k), "scale-down" === p && (g = Math.min(g, b), l = Math.min(l, c));
        }
        var [v, w] = n.objectPosition.split(" ").map((r, y) => {
          const x = parseFloat(r);
          return r.endsWith("%") ? (y ? f - l : d - g) * x / 100 : x;
        });
        n = this._scanRegion.width || b;
        q = this._scanRegion.height || c;
        p = this._scanRegion.x || 0;
        var u = this._scanRegion.y || 0;
        k = this.$overlay.style;
        k.width = `${n / b * g}px`;
        k.height = `${q / c * l}px`;
        k.top = `${m + w + u / c * l}px`;
        c = /scaleX\(-1\)/.test(a.style.transform);
        k.left = `${h + (c ? d - v - g : v) + (c ? b - p - n : p) / b * g}px`;
        k.transform = a.style.transform;
      }
    });
  }
  static _convertPoints(a, b) {
    if (!b) return a;
    let c = b.x || 0, d = b.y || 0, f = b.width && b.downScaledWidth ? b.width / b.downScaledWidth : 1;
    b = b.height && b.downScaledHeight ? b.height / b.downScaledHeight : 1;
    for (let h of a) h.x = h.x * f + c, h.y = h.y * b + d;
    return a;
  }
  _scanFrame() {
    !this._active || this.$video.paused || this.$video.ended || ("requestVideoFrameCallback" in this.$video ? this.$video.requestVideoFrameCallback.bind(this.$video) : requestAnimationFrame)(async () => {
      if (!(1 >= this.$video.readyState)) {
        var a = Date.now() - this._lastScanTimestamp, b = 1e3 / this._maxScansPerSecond;
        a < b && await new Promise((d) => setTimeout(d, b - a));
        this._lastScanTimestamp = Date.now();
        try {
          var c = await _e.scanImage(this.$video, { scanRegion: this._scanRegion, qrEngine: this._qrEnginePromise, canvas: this.$canvas });
        } catch (d) {
          if (!this._active) return;
          this._onDecodeError(d);
        }
        !_e._disableBarcodeDetector || await this._qrEnginePromise instanceof Worker || (this._qrEnginePromise = _e.createQrEngine());
        c ? (this._onDecode ? this._onDecode(c) : this._legacyOnDecode && this._legacyOnDecode(c.data), this.$codeOutlineHighlight && (clearTimeout(this._codeOutlineHighlightRemovalTimeout), this._codeOutlineHighlightRemovalTimeout = void 0, this.$codeOutlineHighlight.setAttribute("viewBox", `${this._scanRegion.x || 0} ${this._scanRegion.y || 0} ${this._scanRegion.width || this.$video.videoWidth} ${this._scanRegion.height || this.$video.videoHeight}`), this.$codeOutlineHighlight.firstElementChild.setAttribute(
          "points",
          c.cornerPoints.map(({ x: d, y: f }) => `${d},${f}`).join(" ")
        ), this.$codeOutlineHighlight.style.display = "")) : this.$codeOutlineHighlight && !this._codeOutlineHighlightRemovalTimeout && (this._codeOutlineHighlightRemovalTimeout = setTimeout(() => this.$codeOutlineHighlight.style.display = "none", 100));
      }
      this._scanFrame();
    });
  }
  _onDecodeError(a) {
    a !== _e.NO_QR_CODE_FOUND && console.log(a);
  }
  async _getCameraStream() {
    if (!navigator.mediaDevices) throw "Camera not found.";
    let a = /^(environment|user)$/.test(this._preferredCamera) ? "facingMode" : "deviceId", b = [{ width: { min: 1024 } }, { width: { min: 768 } }, {}], c = b.map((d) => Object.assign({}, d, { [a]: { exact: this._preferredCamera } }));
    for (let d of [...c, ...b]) try {
      let f = await navigator.mediaDevices.getUserMedia({ video: d, audio: false }), h = this._getFacingMode(f) || (d.facingMode ? this._preferredCamera : "environment" === this._preferredCamera ? "user" : "environment");
      return { stream: f, facingMode: h };
    } catch (f) {
    }
    throw "Camera not found.";
  }
  async _restartVideoStream() {
    let a = this._paused;
    await this.pause(true) && !a && this._active && await this.start();
  }
  static _stopVideoStream(a) {
    for (let b of a.getTracks()) b.stop(), a.removeTrack(b);
  }
  _setVideoMirror(a) {
    this.$video.style.transform = "scaleX(" + ("user" === a ? -1 : 1) + ")";
  }
  _getFacingMode(a) {
    return (a = a.getVideoTracks()[0]) ? /rear|back|environment/i.test(a.label) ? "environment" : /front|user|face/i.test(a.label) ? "user" : null : null;
  }
  static _drawToCanvas(a, b, c, d = false) {
    c = c || document.createElement("canvas");
    let f = b && b.x ? b.x : 0, h = b && b.y ? b.y : 0, m = b && b.width ? b.width : a.videoWidth || a.width, n = b && b.height ? b.height : a.videoHeight || a.height;
    d || (d = b && b.downScaledWidth ? b.downScaledWidth : m, b = b && b.downScaledHeight ? b.downScaledHeight : n, c.width !== d && (c.width = d), c.height !== b && (c.height = b));
    b = c.getContext("2d", { alpha: false });
    b.imageSmoothingEnabled = false;
    b.drawImage(a, f, h, m, n, 0, 0, c.width, c.height);
    return [c, b];
  }
  static async _loadImage(a) {
    if (a instanceof Image) return await _e._awaitImageLoad(a), a;
    if (a instanceof HTMLVideoElement || a instanceof HTMLCanvasElement || a instanceof SVGImageElement || "OffscreenCanvas" in window && a instanceof OffscreenCanvas || "ImageBitmap" in window && a instanceof ImageBitmap) return a;
    if (a instanceof File || a instanceof Blob || a instanceof URL || "string" === typeof a) {
      let b = new Image();
      b.src = a instanceof File || a instanceof Blob ? URL.createObjectURL(a) : a.toString();
      try {
        return await _e._awaitImageLoad(b), b;
      } finally {
        (a instanceof File || a instanceof Blob) && URL.revokeObjectURL(b.src);
      }
    } else throw "Unsupported image type.";
  }
  static async _awaitImageLoad(a) {
    a.complete && 0 !== a.naturalWidth || await new Promise((b, c) => {
      let d = (f) => {
        a.removeEventListener("load", d);
        a.removeEventListener("error", d);
        f instanceof ErrorEvent ? c("Image load error") : b();
      };
      a.addEventListener("load", d);
      a.addEventListener("error", d);
    });
  }
  static async _postWorkerMessage(a, b, c, d) {
    return _e._postWorkerMessageSync(await a, b, c, d);
  }
  static _postWorkerMessageSync(a, b, c, d) {
    if (!(a instanceof Worker)) return -1;
    let f = _e._workerMessageId++;
    a.postMessage({ id: f, type: b, data: c }, d);
    return f;
  }
};
e.DEFAULT_CANVAS_SIZE = 400;
e.NO_QR_CODE_FOUND = "No QR code found";
e._disableBarcodeDetector = false;
e._workerMessageId = 0;
var qr_scanner_min_default = e;

// resources/js/back.js
window.QrScanner = qr_scanner_min_default;
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3FyLXNjYW5uZXIvbm9kZV9tb2R1bGVzL2pzcXItZXM2L3NyYy9CaXRNYXRyaXgudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3FyLXNjYW5uZXIvbm9kZV9tb2R1bGVzL2pzcXItZXM2L3NyYy9iaW5hcml6ZXIvaW5kZXgudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3FyLXNjYW5uZXIvbm9kZV9tb2R1bGVzL2pzcXItZXM2L3NyYy9kZWNvZGVyL2RlY29kZURhdGEvQml0U3RyZWFtLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL25vZGVfbW9kdWxlcy9qc3FyLWVzNi9zcmMvZGVjb2Rlci9kZWNvZGVEYXRhL2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL25vZGVfbW9kdWxlcy9qc3FyLWVzNi9zcmMvZGVjb2Rlci9yZWVkc29sb21vbi9HZW5lcmljR0ZQb2x5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL25vZGVfbW9kdWxlcy9qc3FyLWVzNi9zcmMvZGVjb2Rlci9yZWVkc29sb21vbi9HZW5lcmljR0YudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3FyLXNjYW5uZXIvbm9kZV9tb2R1bGVzL2pzcXItZXM2L3NyYy9kZWNvZGVyL3JlZWRzb2xvbW9uL2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL25vZGVfbW9kdWxlcy9qc3FyLWVzNi9zcmMvZGVjb2Rlci92ZXJzaW9uLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL25vZGVfbW9kdWxlcy9qc3FyLWVzNi9zcmMvZGVjb2Rlci9kZWNvZGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL25vZGVfbW9kdWxlcy9qc3FyLWVzNi9zcmMvZXh0cmFjdG9yL2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL25vZGVfbW9kdWxlcy9qc3FyLWVzNi9zcmMvbG9jYXRvci9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXItc2Nhbm5lci9ub2RlX21vZHVsZXMvanNxci1lczYvc3JjL2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xci1zY2FubmVyL3NyYy93b3JrZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3FyLXNjYW5uZXIvc3JjL3FyLXNjYW5uZXIudHMiLCAiLi4vYmFjay5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGNsYXNzIEJpdE1hdHJpeCB7XG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlRW1wdHkod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IEJpdE1hdHJpeChuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpLCB3aWR0aCk7XG4gIH1cblxuICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIGhlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIGRhdGE6IFVpbnQ4Q2xhbXBlZEFycmF5O1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IFVpbnQ4Q2xhbXBlZEFycmF5LCB3aWR0aDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gZGF0YS5sZW5ndGggLyB3aWR0aDtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgcHVibGljIGdldCh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICh4IDwgMCB8fCB4ID49IHRoaXMud2lkdGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLmhlaWdodCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gISF0aGlzLmRhdGFbeSAqIHRoaXMud2lkdGggKyB4XTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHY6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmRhdGFbeSAqIHRoaXMud2lkdGggKyB4XSA9IHYgPyAxIDogMDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRSZWdpb24obGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHY6IGJvb2xlYW4pIHtcbiAgICBmb3IgKGxldCB5ID0gdG9wOyB5IDwgdG9wICsgaGVpZ2h0OyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSBsZWZ0OyB4IDwgbGVmdCArIHdpZHRoOyB4KyspIHtcbiAgICAgICAgdGhpcy5zZXQoeCwgeSwgISF2KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQge0JpdE1hdHJpeH0gZnJvbSBcIi4uL0JpdE1hdHJpeFwiO1xuaW1wb3J0IHtHcmV5c2NhbGVXZWlnaHRzfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuY29uc3QgUkVHSU9OX1NJWkUgPSA4O1xuY29uc3QgTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDtcblxuZnVuY3Rpb24gbnVtQmV0d2Vlbih2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlO1xufVxuXG4vLyBMaWtlIEJpdE1hdHJpeCBidXQgYWNjZXB0cyBhcmJpdHJ5IFVpbnQ4IHZhbHVlc1xuY2xhc3MgTWF0cml4IHtcbiAgcHJpdmF0ZSBkYXRhOiBVaW50OENsYW1wZWRBcnJheTtcbiAgcHJpdmF0ZSB3aWR0aDogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgYnVmZmVyPzogVWludDhDbGFtcGVkQXJyYXkpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgY29uc3QgYnVmZmVyU2l6ZSA9IHdpZHRoICogaGVpZ2h0O1xuICAgIGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aCAhPT0gYnVmZmVyU2l6ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgYnVmZmVyIHNpemVcIik7XG4gICAgfVxuICAgIHRoaXMuZGF0YSA9IGJ1ZmZlciB8fCBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyU2l6ZSk7XG4gIH1cbiAgcHVibGljIGdldCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLmRhdGFbeSAqIHRoaXMud2lkdGggKyB4XTtcbiAgfVxuICBwdWJsaWMgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5kYXRhW3kgKiB0aGlzLndpZHRoICsgeF0gPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluYXJpemUoZGF0YTogVWludDhDbGFtcGVkQXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCByZXR1cm5JbnZlcnRlZDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICBncmV5c2NhbGVXZWlnaHRzOiBHcmV5c2NhbGVXZWlnaHRzLCBjYW5PdmVyd3JpdGVJbWFnZTogYm9vbGVhbikge1xuICBjb25zdCBwaXhlbENvdW50ID0gd2lkdGggKiBoZWlnaHQ7XG4gIGlmIChkYXRhLmxlbmd0aCAhPT0gcGl4ZWxDb3VudCAqIDQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgZGF0YSBwYXNzZWQgdG8gYmluYXJpemVyLlwiKTtcbiAgfVxuICAvLyBhc3NpZ24gdGhlIGdyZXlzY2FsZSBhbmQgYmluYXJ5IGltYWdlIHdpdGhpbiB0aGUgcmdiYSBidWZmZXIgYXMgdGhlIHJnYmEgaW1hZ2Ugd2lsbCBub3QgYmUgbmVlZGVkIGFmdGVyIGNvbnZlcnNpb25cbiAgbGV0IGJ1ZmZlck9mZnNldCA9IDA7XG4gIC8vIENvbnZlcnQgaW1hZ2UgdG8gZ3JleXNjYWxlXG4gIGxldCBncmV5c2NhbGVCdWZmZXI6IFVpbnQ4Q2xhbXBlZEFycmF5O1xuICBpZiAoY2FuT3ZlcndyaXRlSW1hZ2UpIHtcbiAgICBncmV5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoZGF0YS5idWZmZXIsIGJ1ZmZlck9mZnNldCwgcGl4ZWxDb3VudCk7XG4gICAgYnVmZmVyT2Zmc2V0ICs9IHBpeGVsQ291bnQ7XG4gIH1cbiAgY29uc3QgZ3JleXNjYWxlUGl4ZWxzID0gbmV3IE1hdHJpeCh3aWR0aCwgaGVpZ2h0LCBncmV5c2NhbGVCdWZmZXIpO1xuICBpZiAoZ3JleXNjYWxlV2VpZ2h0cy51c2VJbnRlZ2VyQXBwcm94aW1hdGlvbikge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICBjb25zdCBwaXhlbFBvc2l0aW9uID0gKHkgKiB3aWR0aCArIHgpICogNDtcbiAgICAgICAgY29uc3QgciA9IGRhdGFbcGl4ZWxQb3NpdGlvbl07XG4gICAgICAgIGNvbnN0IGcgPSBkYXRhW3BpeGVsUG9zaXRpb24gKyAxXTtcbiAgICAgICAgY29uc3QgYiA9IGRhdGFbcGl4ZWxQb3NpdGlvbiArIDJdO1xuICAgICAgICBncmV5c2NhbGVQaXhlbHMuc2V0KHgsIHksXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgICAoZ3JleXNjYWxlV2VpZ2h0cy5yZWQgKiByICsgZ3JleXNjYWxlV2VpZ2h0cy5ncmVlbiAqIGcgKyBncmV5c2NhbGVXZWlnaHRzLmJsdWUgKiBiICsgMTI4KSA+PiA4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgIGNvbnN0IHBpeGVsUG9zaXRpb24gPSAoeSAqIHdpZHRoICsgeCkgKiA0O1xuICAgICAgICBjb25zdCByID0gZGF0YVtwaXhlbFBvc2l0aW9uXTtcbiAgICAgICAgY29uc3QgZyA9IGRhdGFbcGl4ZWxQb3NpdGlvbiArIDFdO1xuICAgICAgICBjb25zdCBiID0gZGF0YVtwaXhlbFBvc2l0aW9uICsgMl07XG4gICAgICAgIGdyZXlzY2FsZVBpeGVscy5zZXQoeCwgeSxcbiAgICAgICAgICBncmV5c2NhbGVXZWlnaHRzLnJlZCAqIHIgKyBncmV5c2NhbGVXZWlnaHRzLmdyZWVuICogZyArIGdyZXlzY2FsZVdlaWdodHMuYmx1ZSAqIGIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBob3Jpem9udGFsUmVnaW9uQ291bnQgPSBNYXRoLmNlaWwod2lkdGggLyBSRUdJT05fU0laRSk7XG4gIGNvbnN0IHZlcnRpY2FsUmVnaW9uQ291bnQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gUkVHSU9OX1NJWkUpO1xuICBjb25zdCBibGFja1BvaW50c0NvdW50ID0gaG9yaXpvbnRhbFJlZ2lvbkNvdW50ICogdmVydGljYWxSZWdpb25Db3VudDtcblxuICBsZXQgYmxhY2tQb2ludHNCdWZmZXI6IFVpbnQ4Q2xhbXBlZEFycmF5O1xuICBpZiAoY2FuT3ZlcndyaXRlSW1hZ2UpIHtcbiAgICBibGFja1BvaW50c0J1ZmZlciA9IG5ldyBVaW50OENsYW1wZWRBcnJheShkYXRhLmJ1ZmZlciwgYnVmZmVyT2Zmc2V0LCBibGFja1BvaW50c0NvdW50KTtcbiAgICBidWZmZXJPZmZzZXQgKz0gYmxhY2tQb2ludHNDb3VudDtcbiAgfVxuICBjb25zdCBibGFja1BvaW50cyA9IG5ldyBNYXRyaXgoaG9yaXpvbnRhbFJlZ2lvbkNvdW50LCB2ZXJ0aWNhbFJlZ2lvbkNvdW50LCBibGFja1BvaW50c0J1ZmZlcik7XG4gIGZvciAobGV0IHZlcnRpY2FsUmVnaW9uID0gMDsgdmVydGljYWxSZWdpb24gPCB2ZXJ0aWNhbFJlZ2lvbkNvdW50OyB2ZXJ0aWNhbFJlZ2lvbisrKSB7XG4gICAgZm9yIChsZXQgaG9ydGl6b250YWxSZWdpb24gPSAwOyBob3J0aXpvbnRhbFJlZ2lvbiA8IGhvcml6b250YWxSZWdpb25Db3VudDsgaG9ydGl6b250YWxSZWdpb24rKykge1xuICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgbGV0IG1heCA9IDA7XG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IFJFR0lPTl9TSVpFOyB5KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBSRUdJT05fU0laRTsgeCsrKSB7XG4gICAgICAgICAgY29uc3QgcGl4ZWxMdW1vc2l0eSA9XG4gICAgICAgICAgICBncmV5c2NhbGVQaXhlbHMuZ2V0KGhvcnRpem9udGFsUmVnaW9uICogUkVHSU9OX1NJWkUgKyB4LCB2ZXJ0aWNhbFJlZ2lvbiAqIFJFR0lPTl9TSVpFICsgeSk7XG4gICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBwaXhlbEx1bW9zaXR5KTtcbiAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHBpeGVsTHVtb3NpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBXZSBjb3VsZCBhbHNvIGNvbXB1dGUgdGhlIHJlYWwgYXZlcmFnZSBvZiBhbGwgcGl4ZWxzIGJ1dCBmb2xsb3dpbmcgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGUgcXIgY29kZSBjb25zaXN0c1xuICAgICAgLy8gb2YgYnJpZ2h0IGFuZCBkYXJrIHBpeGVscyBhbmQgZXNzZW50aWFsbHkgbm90IG11Y2ggaW4gYmV0d2VlbiwgYnkgKG1pbiArIG1heCkvMiB3ZSBtYWtlIHRoZSBjdXQgcmVhbGx5IGJldHdlZW5cbiAgICAgIC8vIHRob3NlIHR3byBjbGFzc2VzLiBJZiB1c2luZyB0aGUgYXZlcmFnZSBvdmVyIGFsbCBwaXhlbCBpbiBhIGJsb2NrIG9mIG1vc3RseSBicmlnaHQgcGl4ZWxzIGFuZCBmZXcgZGFyayBwaXhlbHMsXG4gICAgICAvLyB0aGUgYXZnIHdvdWxkIHRlbmQgdG8gdGhlIGJyaWdodCBzaWRlIGFuZCBkYXJrZXIgYnJpZ2h0IHBpeGVscyBjb3VsZCBiZSBpbnRlcnByZXRlZCBhcyBkYXJrLlxuICAgICAgbGV0IGF2ZXJhZ2UgPSAobWluICsgbWF4KSAvIDI7XG4gICAgICAvLyBTbWFsbCBiaWFzIHRvd2FyZHMgYmxhY2sgYnkgbW92aW5nIHRoZSB0aHJlc2hvbGQgdXAuIFdlIGRvIHRoaXMsIGFzIGluIHRoZSBmaW5kZXIgcGF0dGVybnMgd2hpdGUgaG9sZXMgdGVuZFxuICAgICAgLy8gdG8gYXBwZWFyIHdoaWNoIG1ha2VzIHRoZW0gdW5kZXRlY3RhYmxlLlxuICAgICAgY29uc3QgYmxhY2tCaWFzID0gMS4xMTtcbiAgICAgIGF2ZXJhZ2UgPSBNYXRoLm1pbigyNTUsIGF2ZXJhZ2UgKiBibGFja0JpYXMpO1xuICAgICAgaWYgKG1heCAtIG1pbiA8PSBNSU5fRFlOQU1JQ19SQU5HRSkge1xuICAgICAgICAvLyBJZiB2YXJpYXRpb24gd2l0aGluIHRoZSBibG9jayBpcyBsb3csIGFzc3VtZSB0aGlzIGlzIGEgYmxvY2sgd2l0aCBvbmx5IGxpZ2h0IG9yIG9ubHlcbiAgICAgICAgLy8gZGFyayBwaXhlbHMuIEluIHRoYXQgY2FzZSB3ZSBkbyBub3Qgd2FudCB0byB1c2UgdGhlIGF2ZXJhZ2UsIGFzIGl0IHdvdWxkIGRpdmlkZSB0aGlzXG4gICAgICAgIC8vIGxvdyBjb250cmFzdCBhcmVhIGludG8gYmxhY2sgYW5kIHdoaXRlIHBpeGVscywgZXNzZW50aWFsbHkgY3JlYXRpbmcgZGF0YSBvdXQgb2Ygbm9pc2UuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIERlZmF1bHQgdGhlIGJsYWNrcG9pbnQgZm9yIHRoZXNlIGJsb2NrcyB0byBiZSBoYWxmIHRoZSBtaW4gLSBlZmZlY3RpdmVseSB3aGl0ZSB0aGVtIG91dFxuICAgICAgICBhdmVyYWdlID0gbWluIC8gMjtcblxuICAgICAgICBpZiAodmVydGljYWxSZWdpb24gPiAwICYmIGhvcnRpem9udGFsUmVnaW9uID4gMCkge1xuICAgICAgICAgIC8vIENvcnJlY3QgdGhlIFwid2hpdGUgYmFja2dyb3VuZFwiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZ1xuICAgICAgICAgIC8vIHRoZSBwaXhlbHMgaW4gdGhpcyBibG9jayB0byB0aGUgcHJldmlvdXNseSBjYWxjdWxhdGVkIGJsYWNrIHBvaW50cy4gVGhpcyBpcyBiYXNlZCBvblxuICAgICAgICAgIC8vIHRoZSBmYWN0IHRoYXQgZGFyayBiYXJjb2RlIHN5bWJvbG9neSBpcyBhbHdheXMgc3Vycm91bmRlZCBieSBzb21lIGFtb3VudCBvZiBsaWdodFxuICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdFxuICAgICAgICAgIC8vIHRoZSBib3VuZGFyaWVzIGlzIHVzZWQgZm9yIHRoZSBpbnRlcmlvci5cblxuICAgICAgICAgIC8vIFRoZSAobWluIDwgYnApIGlzIGFyYml0cmFyeSBidXQgd29ya3MgYmV0dGVyIHRoYW4gb3RoZXIgaGV1cmlzdGljcyB0aGF0IHdlcmUgdHJpZWQuXG4gICAgICAgICAgY29uc3QgYXZlcmFnZU5laWdoYm9yQmxhY2tQb2ludCA9IChcbiAgICAgICAgICAgIGJsYWNrUG9pbnRzLmdldChob3J0aXpvbnRhbFJlZ2lvbiwgdmVydGljYWxSZWdpb24gLSAxKSArXG4gICAgICAgICAgICAoMiAqIGJsYWNrUG9pbnRzLmdldChob3J0aXpvbnRhbFJlZ2lvbiAtIDEsIHZlcnRpY2FsUmVnaW9uKSkgK1xuICAgICAgICAgICAgYmxhY2tQb2ludHMuZ2V0KGhvcnRpem9udGFsUmVnaW9uIC0gMSwgdmVydGljYWxSZWdpb24gLSAxKVxuICAgICAgICAgICkgLyA0O1xuICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7XG4gICAgICAgICAgICBhdmVyYWdlID0gYXZlcmFnZU5laWdoYm9yQmxhY2tQb2ludDsgLy8gbm8gbmVlZCB0byBhcHBseSBibGFjayBiaWFzIGFzIGFscmVhZHkgYXBwbGllZCB0byBuZWlnaGJvcnNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJsYWNrUG9pbnRzLnNldChob3J0aXpvbnRhbFJlZ2lvbiwgdmVydGljYWxSZWdpb24sIGF2ZXJhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGxldCBiaW5hcml6ZWQ6IEJpdE1hdHJpeDtcbiAgaWYgKGNhbk92ZXJ3cml0ZUltYWdlKSB7XG4gICAgY29uc3QgYmluYXJpemVkQnVmZmVyID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRhdGEuYnVmZmVyLCBidWZmZXJPZmZzZXQsIHBpeGVsQ291bnQpO1xuICAgIGJ1ZmZlck9mZnNldCArPSBwaXhlbENvdW50O1xuICAgIGJpbmFyaXplZCA9IG5ldyBCaXRNYXRyaXgoYmluYXJpemVkQnVmZmVyLCB3aWR0aCk7XG4gIH0gZWxzZSB7XG4gICAgYmluYXJpemVkID0gQml0TWF0cml4LmNyZWF0ZUVtcHR5KHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgbGV0IGludmVydGVkOiBCaXRNYXRyaXggPSBudWxsO1xuICBpZiAocmV0dXJuSW52ZXJ0ZWQpIHtcbiAgICBpZiAoY2FuT3ZlcndyaXRlSW1hZ2UpIHtcbiAgICAgIGNvbnN0IGludmVydGVkQnVmZmVyID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRhdGEuYnVmZmVyLCBidWZmZXJPZmZzZXQsIHBpeGVsQ291bnQpO1xuICAgICAgaW52ZXJ0ZWQgPSBuZXcgQml0TWF0cml4KGludmVydGVkQnVmZmVyLCB3aWR0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmVydGVkID0gQml0TWF0cml4LmNyZWF0ZUVtcHR5KHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IHZlcnRpY2FsUmVnaW9uID0gMDsgdmVydGljYWxSZWdpb24gPCB2ZXJ0aWNhbFJlZ2lvbkNvdW50OyB2ZXJ0aWNhbFJlZ2lvbisrKSB7XG4gICAgZm9yIChsZXQgaG9ydGl6b250YWxSZWdpb24gPSAwOyBob3J0aXpvbnRhbFJlZ2lvbiA8IGhvcml6b250YWxSZWdpb25Db3VudDsgaG9ydGl6b250YWxSZWdpb24rKykge1xuICAgICAgY29uc3QgbGVmdCA9IG51bUJldHdlZW4oaG9ydGl6b250YWxSZWdpb24sIDIsIGhvcml6b250YWxSZWdpb25Db3VudCAtIDMpO1xuICAgICAgY29uc3QgdG9wID0gbnVtQmV0d2Vlbih2ZXJ0aWNhbFJlZ2lvbiwgMiwgdmVydGljYWxSZWdpb25Db3VudCAtIDMpO1xuICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICBmb3IgKGxldCB4UmVnaW9uID0gLTI7IHhSZWdpb24gPD0gMjsgeFJlZ2lvbisrKSB7XG4gICAgICAgIGZvciAobGV0IHlSZWdpb24gPSAtMjsgeVJlZ2lvbiA8PSAyOyB5UmVnaW9uKyspIHtcbiAgICAgICAgICBzdW0gKz0gYmxhY2tQb2ludHMuZ2V0KGxlZnQgKyB4UmVnaW9uLCB0b3AgKyB5UmVnaW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdGhyZXNob2xkID0gc3VtIC8gMjU7XG4gICAgICBmb3IgKGxldCB4UmVnaW9uID0gMDsgeFJlZ2lvbiA8IFJFR0lPTl9TSVpFOyB4UmVnaW9uKyspIHtcbiAgICAgICAgZm9yIChsZXQgeVJlZ2lvbiA9IDA7IHlSZWdpb24gPCBSRUdJT05fU0laRTsgeVJlZ2lvbisrKSB7XG4gICAgICAgICAgY29uc3QgeCA9IGhvcnRpem9udGFsUmVnaW9uICogUkVHSU9OX1NJWkUgKyB4UmVnaW9uO1xuICAgICAgICAgIGNvbnN0IHkgPSB2ZXJ0aWNhbFJlZ2lvbiAqIFJFR0lPTl9TSVpFICsgeVJlZ2lvbjtcbiAgICAgICAgICBjb25zdCBsdW0gPSBncmV5c2NhbGVQaXhlbHMuZ2V0KHgsIHkpO1xuICAgICAgICAgIGJpbmFyaXplZC5zZXQoeCwgeSwgbHVtIDw9IHRocmVzaG9sZCk7XG4gICAgICAgICAgaWYgKHJldHVybkludmVydGVkKSB7XG4gICAgICAgICAgICBpbnZlcnRlZC5zZXQoeCwgeSwgIShsdW0gPD0gdGhyZXNob2xkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChyZXR1cm5JbnZlcnRlZCkge1xuICAgIHJldHVybiB7IGJpbmFyaXplZCwgaW52ZXJ0ZWQgfTtcbiAgfVxuICByZXR1cm4geyBiaW5hcml6ZWQgfTtcbn1cbiIsICIvLyB0c2xpbnQ6ZGlzYWJsZTpuby1iaXR3aXNlXG5cbmV4cG9ydCBjbGFzcyBCaXRTdHJlYW0ge1xuICBwcml2YXRlIGJ5dGVzOiBVaW50OENsYW1wZWRBcnJheTtcbiAgcHJpdmF0ZSBieXRlT2Zmc2V0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGJpdE9mZnNldDogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihieXRlczogVWludDhDbGFtcGVkQXJyYXkpIHtcbiAgICB0aGlzLmJ5dGVzID0gYnl0ZXM7XG4gIH1cblxuICBwdWJsaWMgcmVhZEJpdHMobnVtQml0czogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAobnVtQml0cyA8IDEgfHwgbnVtQml0cyA+IDMyIHx8IG51bUJpdHMgPiB0aGlzLmF2YWlsYWJsZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBcIiArIG51bUJpdHMudG9TdHJpbmcoKSArIFwiIGJpdHNcIik7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlXG4gICAgaWYgKHRoaXMuYml0T2Zmc2V0ID4gMCkge1xuICAgICAgY29uc3QgYml0c0xlZnQgPSA4IC0gdGhpcy5iaXRPZmZzZXQ7XG4gICAgICBjb25zdCB0b1JlYWQgPSBudW1CaXRzIDwgYml0c0xlZnQgPyBudW1CaXRzIDogYml0c0xlZnQ7XG4gICAgICBjb25zdCBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7XG4gICAgICBjb25zdCBtYXNrID0gKDB4RkYgPj4gKDggLSB0b1JlYWQpKSA8PCBiaXRzVG9Ob3RSZWFkO1xuICAgICAgcmVzdWx0ID0gKHRoaXMuYnl0ZXNbdGhpcy5ieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7XG4gICAgICBudW1CaXRzIC09IHRvUmVhZDtcbiAgICAgIHRoaXMuYml0T2Zmc2V0ICs9IHRvUmVhZDtcbiAgICAgIGlmICh0aGlzLmJpdE9mZnNldCA9PT0gOCkge1xuICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuYnl0ZU9mZnNldCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5leHQgcmVhZCB3aG9sZSBieXRlc1xuICAgIGlmIChudW1CaXRzID4gMCkge1xuICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkge1xuICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IDgpIHwgKHRoaXMuYnl0ZXNbdGhpcy5ieXRlT2Zmc2V0XSAmIDB4RkYpO1xuICAgICAgICB0aGlzLmJ5dGVPZmZzZXQrKztcbiAgICAgICAgbnVtQml0cyAtPSA4O1xuICAgICAgfVxuXG4gICAgICAvLyBGaW5hbGx5IHJlYWQgYSBwYXJ0aWFsIGJ5dGVcbiAgICAgIGlmIChudW1CaXRzID4gMCkge1xuICAgICAgICBjb25zdCBiaXRzVG9Ob3RSZWFkID0gOCAtIG51bUJpdHM7XG4gICAgICAgIGNvbnN0IG1hc2sgPSAoMHhGRiA+PiBiaXRzVG9Ob3RSZWFkKSA8PCBiaXRzVG9Ob3RSZWFkO1xuICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKCh0aGlzLmJ5dGVzW3RoaXMuYnl0ZU9mZnNldF0gJiBtYXNrKSA+PiBiaXRzVG9Ob3RSZWFkKTtcbiAgICAgICAgdGhpcy5iaXRPZmZzZXQgKz0gbnVtQml0cztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyBhdmFpbGFibGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDtcbiAgfVxufVxuIiwgIi8vIHRzbGludDpkaXNhYmxlOm5vLWJpdHdpc2VcbmltcG9ydCB7IEJpdFN0cmVhbSB9IGZyb20gXCIuL0JpdFN0cmVhbVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENodW5rIHtcbiAgdHlwZTogTW9kZTtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ5dGVDaHVuayB7XG4gIHR5cGU6IE1vZGUuQnl0ZSB8IE1vZGUuS2Fuamk7XG4gIGJ5dGVzOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFQ0lDaHVuayB7XG4gIHR5cGU6IE1vZGUuRUNJO1xuICBhc3NpZ25tZW50TnVtYmVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0dXJlZEFwcGVuZCB7XG4gIHR5cGU6IE1vZGUuU3RydWN0dXJlZEFwcGVuZDtcbiAgY3VycmVudFNlcXVlbmNlOiBudW1iZXI7XG4gIHRvdGFsU2VxdWVuY2U6IG51bWJlcjtcbiAgcGFyaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIENodW5rcyA9IEFycmF5PENodW5rIHwgQnl0ZUNodW5rIHwgRUNJQ2h1bmsgfCBTdHJ1Y3R1cmVkQXBwZW5kPjtcblxuZXhwb3J0IGludGVyZmFjZSBEZWNvZGVkUVIge1xuICB0ZXh0OiBzdHJpbmc7XG4gIGJ5dGVzOiBudW1iZXJbXTtcbiAgY2h1bmtzOiBDaHVua3M7XG4gIHZlcnNpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGVudW0gTW9kZSB7XG4gIE51bWVyaWMgPSBcIm51bWVyaWNcIixcbiAgQWxwaGFudW1lcmljID0gXCJhbHBoYW51bWVyaWNcIixcbiAgQnl0ZSA9IFwiYnl0ZVwiLFxuICBLYW5qaSA9IFwia2FuamlcIixcbiAgRUNJID0gXCJlY2lcIixcbiAgU3RydWN0dXJlZEFwcGVuZCA9IFwic3RydWN0dXJlZGFwcGVuZFwiLFxufVxuXG5lbnVtIE1vZGVCeXRlIHtcbiAgVGVybWluYXRvciA9IDB4MCxcbiAgTnVtZXJpYyA9IDB4MSxcbiAgQWxwaGFudW1lcmljID0gMHgyLFxuICBCeXRlID0gMHg0LFxuICBLYW5qaSA9IDB4OCxcbiAgRUNJID0gMHg3LFxuICBTdHJ1Y3R1cmVkQXBwZW5kID0gMHgzLFxuICAvLyBGTkMxRmlyc3RQb3NpdGlvbiA9IDB4NSxcbiAgLy8gRk5DMVNlY29uZFBvc2l0aW9uID0gMHg5LFxufVxuXG5mdW5jdGlvbiBkZWNvZGVOdW1lcmljKHN0cmVhbTogQml0U3RyZWFtLCBzaXplOiBudW1iZXIpIHtcbiAgY29uc3QgYnl0ZXM6IG51bWJlcltdID0gW107XG4gIGxldCB0ZXh0ID0gXCJcIjtcblxuICBjb25zdCBjaGFyYWN0ZXJDb3VudFNpemUgPSBbMTAsIDEyLCAxNF1bc2l6ZV07XG4gIGxldCBsZW5ndGggPSBzdHJlYW0ucmVhZEJpdHMoY2hhcmFjdGVyQ291bnRTaXplKTtcbiAgLy8gUmVhZCBkaWdpdHMgaW4gZ3JvdXBzIG9mIDNcbiAgd2hpbGUgKGxlbmd0aCA+PSAzKSB7XG4gICAgY29uc3QgbnVtID0gc3RyZWFtLnJlYWRCaXRzKDEwKTtcbiAgICBpZiAobnVtID49IDEwMDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtZXJpYyB2YWx1ZSBhYm92ZSA5OTlcIik7XG4gICAgfVxuXG4gICAgY29uc3QgYSA9IE1hdGguZmxvb3IobnVtIC8gMTAwKTtcbiAgICBjb25zdCBiID0gTWF0aC5mbG9vcihudW0gLyAxMCkgJSAxMDtcbiAgICBjb25zdCBjID0gbnVtICUgMTA7XG5cbiAgICBieXRlcy5wdXNoKDQ4ICsgYSwgNDggKyBiLCA0OCArIGMpO1xuICAgIHRleHQgKz0gYS50b1N0cmluZygpICsgYi50b1N0cmluZygpICsgYy50b1N0cmluZygpO1xuICAgIGxlbmd0aCAtPSAzO1xuICB9XG5cbiAgLy8gSWYgdGhlIG51bWJlciBvZiBkaWdpdHMgYXJlbid0IGEgbXVsdGlwbGUgb2YgMywgdGhlIHJlbWFpbmluZyBkaWdpdHMgYXJlIHNwZWNpYWwgY2FzZWQuXG4gIGlmIChsZW5ndGggPT09IDIpIHtcbiAgICBjb25zdCBudW0gPSBzdHJlYW0ucmVhZEJpdHMoNyk7XG4gICAgaWYgKG51bSA+PSAxMDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtZXJpYyB2YWx1ZSBhYm92ZSA5OVwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBhID0gTWF0aC5mbG9vcihudW0gLyAxMCk7XG4gICAgY29uc3QgYiA9IG51bSAlIDEwO1xuXG4gICAgYnl0ZXMucHVzaCg0OCArIGEsIDQ4ICsgYik7XG4gICAgdGV4dCArPSBhLnRvU3RyaW5nKCkgKyBiLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgY29uc3QgbnVtID0gc3RyZWFtLnJlYWRCaXRzKDQpO1xuICAgIGlmIChudW0gPj0gMTApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtZXJpYyB2YWx1ZSBhYm92ZSA5XCIpO1xuICAgIH1cblxuICAgIGJ5dGVzLnB1c2goNDggKyBudW0pO1xuICAgIHRleHQgKz0gbnVtLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4geyBieXRlcywgdGV4dCB9O1xufVxuXG5jb25zdCBBbHBoYW51bWVyaWNDaGFyYWN0ZXJDb2RlcyA9IFtcbiAgXCIwXCIsIFwiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiLCBcIjVcIiwgXCI2XCIsIFwiN1wiLCBcIjhcIixcbiAgXCI5XCIsIFwiQVwiLCBcIkJcIiwgXCJDXCIsIFwiRFwiLCBcIkVcIiwgXCJGXCIsIFwiR1wiLCBcIkhcIixcbiAgXCJJXCIsIFwiSlwiLCBcIktcIiwgXCJMXCIsIFwiTVwiLCBcIk5cIiwgXCJPXCIsIFwiUFwiLCBcIlFcIixcbiAgXCJSXCIsIFwiU1wiLCBcIlRcIiwgXCJVXCIsIFwiVlwiLCBcIldcIiwgXCJYXCIsIFwiWVwiLCBcIlpcIixcbiAgXCIgXCIsIFwiJFwiLCBcIiVcIiwgXCIqXCIsIFwiK1wiLCBcIi1cIiwgXCIuXCIsIFwiL1wiLCBcIjpcIixcbl07XG5cbmZ1bmN0aW9uIGRlY29kZUFscGhhbnVtZXJpYyhzdHJlYW06IEJpdFN0cmVhbSwgc2l6ZTogbnVtYmVyKSB7XG4gIGNvbnN0IGJ5dGVzOiBudW1iZXJbXSA9IFtdO1xuICBsZXQgdGV4dCA9IFwiXCI7XG5cbiAgY29uc3QgY2hhcmFjdGVyQ291bnRTaXplID0gWzksIDExLCAxM11bc2l6ZV07XG4gIGxldCBsZW5ndGggPSBzdHJlYW0ucmVhZEJpdHMoY2hhcmFjdGVyQ291bnRTaXplKTtcbiAgd2hpbGUgKGxlbmd0aCA+PSAyKSB7XG4gICAgY29uc3QgdiA9IHN0cmVhbS5yZWFkQml0cygxMSk7XG5cbiAgICBjb25zdCBhID0gTWF0aC5mbG9vcih2IC8gNDUpO1xuICAgIGNvbnN0IGIgPSB2ICUgNDU7XG5cbiAgICBieXRlcy5wdXNoKEFscGhhbnVtZXJpY0NoYXJhY3RlckNvZGVzW2FdLmNoYXJDb2RlQXQoMCksIEFscGhhbnVtZXJpY0NoYXJhY3RlckNvZGVzW2JdLmNoYXJDb2RlQXQoMCkpO1xuICAgIHRleHQgKz0gQWxwaGFudW1lcmljQ2hhcmFjdGVyQ29kZXNbYV0gKyBBbHBoYW51bWVyaWNDaGFyYWN0ZXJDb2Rlc1tiXTtcbiAgICBsZW5ndGggLT0gMjtcbiAgfVxuXG4gIGlmIChsZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBhID0gc3RyZWFtLnJlYWRCaXRzKDYpO1xuICAgIGJ5dGVzLnB1c2goQWxwaGFudW1lcmljQ2hhcmFjdGVyQ29kZXNbYV0uY2hhckNvZGVBdCgwKSk7XG4gICAgdGV4dCArPSBBbHBoYW51bWVyaWNDaGFyYWN0ZXJDb2Rlc1thXTtcbiAgfVxuXG4gIHJldHVybiB7IGJ5dGVzLCB0ZXh0IH07XG59XG5cbmZ1bmN0aW9uIGRlY29kZUJ5dGUoc3RyZWFtOiBCaXRTdHJlYW0sIHNpemU6IG51bWJlcikge1xuICBjb25zdCBieXRlczogbnVtYmVyW10gPSBbXTtcbiAgbGV0IHRleHQgPSBcIlwiO1xuXG4gIGNvbnN0IGNoYXJhY3RlckNvdW50U2l6ZSA9IFs4LCAxNiwgMTZdW3NpemVdO1xuICBjb25zdCBsZW5ndGggPSBzdHJlYW0ucmVhZEJpdHMoY2hhcmFjdGVyQ291bnRTaXplKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGIgPSBzdHJlYW0ucmVhZEJpdHMoOCk7XG4gICAgYnl0ZXMucHVzaChiKTtcbiAgfVxuICB0cnkge1xuICAgIHRleHQgKz0gZGVjb2RlVVJJQ29tcG9uZW50KGJ5dGVzLm1hcChiID0+IGAlJHsoXCIwXCIgKyBiLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yKX1gKS5qb2luKFwiXCIpKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gZmFpbGVkIHRvIGRlY29kZVxuICB9XG5cbiAgcmV0dXJuIHsgYnl0ZXMsIHRleHQgfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlS2Fuamkoc3RyZWFtOiBCaXRTdHJlYW0sIHNpemU6IG51bWJlcikge1xuICBjb25zdCBieXRlczogbnVtYmVyW10gPSBbXTtcblxuICBjb25zdCBjaGFyYWN0ZXJDb3VudFNpemUgPSBbOCwgMTAsIDEyXVtzaXplXTtcbiAgY29uc3QgbGVuZ3RoID0gc3RyZWFtLnJlYWRCaXRzKGNoYXJhY3RlckNvdW50U2l6ZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrID0gc3RyZWFtLnJlYWRCaXRzKDEzKTtcblxuICAgIGxldCBjID0gKE1hdGguZmxvb3IoayAvIDB4QzApIDw8IDgpIHwgKGsgJSAweEMwKTtcbiAgICBpZiAoYyA8IDB4MUYwMCkge1xuICAgICAgYyArPSAweDgxNDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMgKz0gMHhDMTQwO1xuICAgIH1cblxuICAgIGJ5dGVzLnB1c2goYyA+PiA4LCBjICYgMHhGRik7XG4gIH1cblxuICBjb25zdCB0ZXh0ID0gbmV3IFRleHREZWNvZGVyKFwic2hpZnQtamlzXCIpLmRlY29kZShVaW50OEFycmF5LmZyb20oYnl0ZXMpKTtcbiAgcmV0dXJuIHsgYnl0ZXMsIHRleHQgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShkYXRhOiBVaW50OENsYW1wZWRBcnJheSwgdmVyc2lvbjogbnVtYmVyKTogRGVjb2RlZFFSIHtcbiAgY29uc3Qgc3RyZWFtID0gbmV3IEJpdFN0cmVhbShkYXRhKTtcblxuICAvLyBUaGVyZSBhcmUgMyAnc2l6ZXMnIGJhc2VkIG9uIHRoZSB2ZXJzaW9uLiAxLTkgaXMgc21hbGwgKDApLCAxMC0yNiBpcyBtZWRpdW0gKDEpIGFuZCAyNy00MCBpcyBsYXJnZSAoMikuXG4gIGNvbnN0IHNpemUgPSB2ZXJzaW9uIDw9IDkgPyAwIDogdmVyc2lvbiA8PSAyNiA/IDEgOiAyO1xuXG4gIGNvbnN0IHJlc3VsdDogRGVjb2RlZFFSID0ge1xuICAgIHRleHQ6IFwiXCIsXG4gICAgYnl0ZXM6IFtdLFxuICAgIGNodW5rczogW10sXG4gICAgdmVyc2lvbixcbiAgfTtcblxuICB3aGlsZSAoc3RyZWFtLmF2YWlsYWJsZSgpID49IDQpIHtcbiAgICBjb25zdCBtb2RlID0gc3RyZWFtLnJlYWRCaXRzKDQpO1xuICAgIGlmIChtb2RlID09PSBNb2RlQnl0ZS5UZXJtaW5hdG9yKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gTW9kZUJ5dGUuRUNJKSB7XG4gICAgICBpZiAoc3RyZWFtLnJlYWRCaXRzKDEpID09PSAwKSB7XG4gICAgICAgIHJlc3VsdC5jaHVua3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogTW9kZS5FQ0ksXG4gICAgICAgICAgYXNzaWdubWVudE51bWJlcjogc3RyZWFtLnJlYWRCaXRzKDcpLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLnJlYWRCaXRzKDEpID09PSAwKSB7XG4gICAgICAgIHJlc3VsdC5jaHVua3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogTW9kZS5FQ0ksXG4gICAgICAgICAgYXNzaWdubWVudE51bWJlcjogc3RyZWFtLnJlYWRCaXRzKDE0KSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHN0cmVhbS5yZWFkQml0cygxKSA9PT0gMCkge1xuICAgICAgICByZXN1bHQuY2h1bmtzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IE1vZGUuRUNJLFxuICAgICAgICAgIGFzc2lnbm1lbnROdW1iZXI6IHN0cmVhbS5yZWFkQml0cygyMSksXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRUNJIGRhdGEgc2VlbXMgY29ycnVwdGVkXG4gICAgICAgIHJlc3VsdC5jaHVua3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogTW9kZS5FQ0ksXG4gICAgICAgICAgYXNzaWdubWVudE51bWJlcjogLTEsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gTW9kZUJ5dGUuTnVtZXJpYykge1xuICAgICAgY29uc3QgbnVtZXJpY1Jlc3VsdCA9IGRlY29kZU51bWVyaWMoc3RyZWFtLCBzaXplKTtcbiAgICAgIHJlc3VsdC50ZXh0ICs9IG51bWVyaWNSZXN1bHQudGV4dDtcbiAgICAgIHJlc3VsdC5ieXRlcy5wdXNoKC4uLm51bWVyaWNSZXN1bHQuYnl0ZXMpO1xuICAgICAgcmVzdWx0LmNodW5rcy5wdXNoKHtcbiAgICAgICAgdHlwZTogTW9kZS5OdW1lcmljLFxuICAgICAgICB0ZXh0OiBudW1lcmljUmVzdWx0LnRleHQsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IE1vZGVCeXRlLkFscGhhbnVtZXJpYykge1xuICAgICAgY29uc3QgYWxwaGFudW1lcmljUmVzdWx0ID0gZGVjb2RlQWxwaGFudW1lcmljKHN0cmVhbSwgc2l6ZSk7XG4gICAgICByZXN1bHQudGV4dCArPSBhbHBoYW51bWVyaWNSZXN1bHQudGV4dDtcbiAgICAgIHJlc3VsdC5ieXRlcy5wdXNoKC4uLmFscGhhbnVtZXJpY1Jlc3VsdC5ieXRlcyk7XG4gICAgICByZXN1bHQuY2h1bmtzLnB1c2goe1xuICAgICAgICB0eXBlOiBNb2RlLkFscGhhbnVtZXJpYyxcbiAgICAgICAgdGV4dDogYWxwaGFudW1lcmljUmVzdWx0LnRleHQsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IE1vZGVCeXRlLkJ5dGUpIHtcbiAgICAgIGNvbnN0IGJ5dGVSZXN1bHQgPSBkZWNvZGVCeXRlKHN0cmVhbSwgc2l6ZSk7XG4gICAgICByZXN1bHQudGV4dCArPSBieXRlUmVzdWx0LnRleHQ7XG4gICAgICByZXN1bHQuYnl0ZXMucHVzaCguLi5ieXRlUmVzdWx0LmJ5dGVzKTtcbiAgICAgIHJlc3VsdC5jaHVua3MucHVzaCh7XG4gICAgICAgIHR5cGU6IE1vZGUuQnl0ZSxcbiAgICAgICAgYnl0ZXM6IGJ5dGVSZXN1bHQuYnl0ZXMsXG4gICAgICAgIHRleHQ6IGJ5dGVSZXN1bHQudGV4dCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gTW9kZUJ5dGUuS2FuamkpIHtcbiAgICAgIGNvbnN0IGthbmppUmVzdWx0ID0gZGVjb2RlS2Fuamkoc3RyZWFtLCBzaXplKTtcbiAgICAgIHJlc3VsdC50ZXh0ICs9IGthbmppUmVzdWx0LnRleHQ7XG4gICAgICByZXN1bHQuYnl0ZXMucHVzaCguLi5rYW5qaVJlc3VsdC5ieXRlcyk7XG4gICAgICByZXN1bHQuY2h1bmtzLnB1c2goe1xuICAgICAgICB0eXBlOiBNb2RlLkthbmppLFxuICAgICAgICBieXRlczoga2FuamlSZXN1bHQuYnl0ZXMsXG4gICAgICAgIHRleHQ6IGthbmppUmVzdWx0LnRleHQsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IE1vZGVCeXRlLlN0cnVjdHVyZWRBcHBlbmQpIHtcbiAgICAgIHJlc3VsdC5jaHVua3MucHVzaCh7XG4gICAgICAgIHR5cGU6IE1vZGUuU3RydWN0dXJlZEFwcGVuZCxcbiAgICAgICAgY3VycmVudFNlcXVlbmNlOiBzdHJlYW0ucmVhZEJpdHMoNCksXG4gICAgICAgIHRvdGFsU2VxdWVuY2U6IHN0cmVhbS5yZWFkQml0cyg0KSxcbiAgICAgICAgcGFyaXR5OiBzdHJlYW0ucmVhZEJpdHMoOCksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGVyZSBpcyBubyBkYXRhIGxlZnQsIG9yIHRoZSByZW1haW5pbmcgYml0cyBhcmUgYWxsIDAsIHRoZW4gdGhhdCBjb3VudHMgYXMgYSB0ZXJtaW5hdGlvbiBtYXJrZXJcbiAgaWYgKHN0cmVhbS5hdmFpbGFibGUoKSA9PT0gMCB8fCBzdHJlYW0ucmVhZEJpdHMoc3RyZWFtLmF2YWlsYWJsZSgpKSA9PT0gMCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbiIsICJpbXBvcnQgR2VuZXJpY0dGLCB7IGFkZE9yU3VidHJhY3RHRiB9IGZyb20gXCIuL0dlbmVyaWNHRlwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW5lcmljR0ZQb2x5IHtcbiAgcHJpdmF0ZSBmaWVsZDogR2VuZXJpY0dGO1xuICBwcml2YXRlIGNvZWZmaWNpZW50czogVWludDhDbGFtcGVkQXJyYXk7XG5cbiAgY29uc3RydWN0b3IoZmllbGQ6IEdlbmVyaWNHRiwgY29lZmZpY2llbnRzOiBVaW50OENsYW1wZWRBcnJheSkge1xuICAgIGlmIChjb2VmZmljaWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb2VmZmljaWVudHMuXCIpO1xuICAgIH1cbiAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgY29uc3QgY29lZmZpY2llbnRzTGVuZ3RoID0gY29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHtcbiAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgXCIwXCJcbiAgICAgIGxldCBmaXJzdE5vblplcm8gPSAxO1xuICAgICAgd2hpbGUgKGZpcnN0Tm9uWmVybyA8IGNvZWZmaWNpZW50c0xlbmd0aCAmJiBjb2VmZmljaWVudHNbZmlyc3ROb25aZXJvXSA9PT0gMCkge1xuICAgICAgICBmaXJzdE5vblplcm8rKztcbiAgICAgIH1cbiAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkge1xuICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IGZpZWxkLnplcm8uY29lZmZpY2llbnRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoY29lZmZpY2llbnRzTGVuZ3RoIC0gZmlyc3ROb25aZXJvKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzW2ldID0gY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVybyArIGldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gY29lZmZpY2llbnRzO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkZWdyZWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzLmxlbmd0aCAtIDE7XG4gIH1cblxuICBwdWJsaWMgaXNaZXJvKCkge1xuICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1swXSA9PT0gMDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb2VmZmljaWVudChkZWdyZWU6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRPclN1YnRyYWN0KG90aGVyOiBHZW5lcmljR0ZQb2x5KSB7XG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpIHtcbiAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9XG4gICAgaWYgKG90aGVyLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsZXQgc21hbGxlckNvZWZmaWNpZW50cyA9IHRoaXMuY29lZmZpY2llbnRzO1xuICAgIGxldCBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7XG4gICAgaWYgKHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoID4gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCkge1xuICAgICAgW3NtYWxsZXJDb2VmZmljaWVudHMsIGxhcmdlckNvZWZmaWNpZW50c10gPSBbbGFyZ2VyQ29lZmZpY2llbnRzLCBzbWFsbGVyQ29lZmZpY2llbnRzXTtcbiAgICB9XG4gICAgY29uc3Qgc3VtRGlmZiA9IG5ldyBVaW50OENsYW1wZWRBcnJheShsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoKTtcbiAgICBjb25zdCBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoRGlmZjsgaSsrKSB7XG4gICAgICBzdW1EaWZmW2ldID0gbGFyZ2VyQ29lZmZpY2llbnRzW2ldO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBsZW5ndGhEaWZmOyBpIDwgbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdW1EaWZmW2ldID0gYWRkT3JTdWJ0cmFjdEdGKHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTtcbiAgfVxuXG4gIHB1YmxpYyBtdWx0aXBseShzY2FsYXI6IG51bWJlcikge1xuICAgIGlmIChzY2FsYXIgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmZpZWxkLnplcm87XG4gICAgfVxuICAgIGlmIChzY2FsYXIgPT09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCBzaXplID0gdGhpcy5jb2VmZmljaWVudHMubGVuZ3RoO1xuICAgIGNvbnN0IHByb2R1Y3QgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoc2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIHByb2R1Y3RbaV0gPSB0aGlzLmZpZWxkLm11bHRpcGx5KHRoaXMuY29lZmZpY2llbnRzW2ldLCBzY2FsYXIpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBwcm9kdWN0KTtcbiAgfVxuXG4gIHB1YmxpYyBtdWx0aXBseVBvbHkob3RoZXI6IEdlbmVyaWNHRlBvbHkpOiBHZW5lcmljR0ZQb2x5IHtcbiAgICBpZiAodGhpcy5pc1plcm8oKSB8fCBvdGhlci5pc1plcm8oKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmllbGQuemVybztcbiAgICB9XG4gICAgY29uc3QgYUNvZWZmaWNpZW50cyA9IHRoaXMuY29lZmZpY2llbnRzO1xuICAgIGNvbnN0IGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICBjb25zdCBiQ29lZmZpY2llbnRzID0gb3RoZXIuY29lZmZpY2llbnRzO1xuICAgIGNvbnN0IGJMZW5ndGggPSBiQ29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICBjb25zdCBwcm9kdWN0ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGFMZW5ndGggKyBiTGVuZ3RoIC0gMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFDb2VmZiA9IGFDb2VmZmljaWVudHNbaV07XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJMZW5ndGg7IGorKykge1xuICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IGFkZE9yU3VidHJhY3RHRihwcm9kdWN0W2kgKyBqXSxcbiAgICAgICAgICB0aGlzLmZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEdlbmVyaWNHRlBvbHkodGhpcy5maWVsZCwgcHJvZHVjdCk7XG4gIH1cblxuICBwdWJsaWMgbXVsdGlwbHlCeU1vbm9taWFsKGRlZ3JlZTogbnVtYmVyLCBjb2VmZmljaWVudDogbnVtYmVyKSB7XG4gICAgaWYgKGRlZ3JlZSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGVncmVlIGxlc3MgdGhhbiAwXCIpO1xuICAgIH1cbiAgICBpZiAoY29lZmZpY2llbnQgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmZpZWxkLnplcm87XG4gICAgfVxuICAgIGNvbnN0IHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7XG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBVaW50OENsYW1wZWRBcnJheShzaXplICsgZGVncmVlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgcHJvZHVjdFtpXSA9IHRoaXMuZmllbGQubXVsdGlwbHkodGhpcy5jb2VmZmljaWVudHNbaV0sIGNvZWZmaWNpZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KHRoaXMuZmllbGQsIHByb2R1Y3QpO1xuICB9XG5cbiAgcHVibGljIGV2YWx1YXRlQXQoYTogbnVtYmVyKSB7XG4gICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgaWYgKGEgPT09IDApIHtcbiAgICAgIC8vIEp1c3QgcmV0dXJuIHRoZSB4XjAgY29lZmZpY2llbnRcbiAgICAgIHJldHVybiB0aGlzLmdldENvZWZmaWNpZW50KDApO1xuICAgIH1cbiAgICBjb25zdCBzaXplID0gdGhpcy5jb2VmZmljaWVudHMubGVuZ3RoO1xuICAgIGlmIChhID09PSAxKSB7XG4gICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50c1xuICAgICAgdGhpcy5jb2VmZmljaWVudHMuZm9yRWFjaCgoY29lZmZpY2llbnQpID0+IHtcbiAgICAgICAgcmVzdWx0ID0gYWRkT3JTdWJ0cmFjdEdGKHJlc3VsdCwgY29lZmZpY2llbnQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXN1bHQgPSB0aGlzLmNvZWZmaWNpZW50c1swXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNpemU7IGkrKykge1xuICAgICAgcmVzdWx0ID0gYWRkT3JTdWJ0cmFjdEdGKHRoaXMuZmllbGQubXVsdGlwbHkoYSwgcmVzdWx0KSwgdGhpcy5jb2VmZmljaWVudHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG4iLCAiaW1wb3J0IEdlbmVyaWNHRlBvbHkgZnJvbSBcIi4vR2VuZXJpY0dGUG9seVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkT3JTdWJ0cmFjdEdGKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gIHJldHVybiBhIF4gYjsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlbmVyaWNHRiB7XG4gIHB1YmxpYyBwcmltaXRpdmU6IG51bWJlcjtcbiAgcHVibGljIHNpemU6IG51bWJlcjtcbiAgcHVibGljIGdlbmVyYXRvckJhc2U6IG51bWJlcjtcbiAgcHVibGljIHplcm86IEdlbmVyaWNHRlBvbHk7XG4gIHB1YmxpYyBvbmU6IEdlbmVyaWNHRlBvbHk7XG5cbiAgcHJpdmF0ZSBleHBUYWJsZTogbnVtYmVyW107XG4gIHByaXZhdGUgbG9nVGFibGU6IG51bWJlcltdO1xuXG4gIGNvbnN0cnVjdG9yKHByaW1pdGl2ZTogbnVtYmVyLCBzaXplOiBudW1iZXIsIGdlbkJhc2U6IG51bWJlcikge1xuICAgIHRoaXMucHJpbWl0aXZlID0gcHJpbWl0aXZlO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuQmFzZTtcbiAgICB0aGlzLmV4cFRhYmxlID0gbmV3IEFycmF5KHRoaXMuc2l6ZSk7XG4gICAgdGhpcy5sb2dUYWJsZSA9IG5ldyBBcnJheSh0aGlzLnNpemUpO1xuXG4gICAgbGV0IHggPSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHtcbiAgICAgIHRoaXMuZXhwVGFibGVbaV0gPSB4O1xuICAgICAgeCA9IHggKiAyO1xuICAgICAgaWYgKHggPj0gdGhpcy5zaXplKSB7XG4gICAgICAgIHggPSAoeCBeIHRoaXMucHJpbWl0aXZlKSAmICh0aGlzLnNpemUgLSAxKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemUgLSAxOyBpKyspIHtcbiAgICAgIHRoaXMubG9nVGFibGVbdGhpcy5leHBUYWJsZVtpXV0gPSBpO1xuICAgIH1cbiAgICB0aGlzLnplcm8gPSBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLCBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSkpO1xuICAgIHRoaXMub25lID0gbmV3IEdlbmVyaWNHRlBvbHkodGhpcywgVWludDhDbGFtcGVkQXJyYXkuZnJvbShbMV0pKTtcbiAgfVxuXG4gIHB1YmxpYyBtdWx0aXBseShhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIGlmIChhID09PSAwIHx8IGIgPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leHBUYWJsZVsodGhpcy5sb2dUYWJsZVthXSArIHRoaXMubG9nVGFibGVbYl0pICUgKHRoaXMuc2l6ZSAtIDEpXTtcbiAgfVxuXG4gIHB1YmxpYyBpbnZlcnNlKGE6IG51bWJlcikge1xuICAgIGlmIChhID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBpbnZlcnQgMFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbdGhpcy5zaXplIC0gdGhpcy5sb2dUYWJsZVthXSAtIDFdO1xuICB9XG5cbiAgcHVibGljIGJ1aWxkTW9ub21pYWwoZGVncmVlOiBudW1iZXIsIGNvZWZmaWNpZW50OiBudW1iZXIpOiBHZW5lcmljR0ZQb2x5IHtcbiAgICBpZiAoZGVncmVlIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBtb25vbWlhbCBkZWdyZWUgbGVzcyB0aGFuIDBcIik7XG4gICAgfVxuICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuemVybztcbiAgICB9XG4gICAgY29uc3QgY29lZmZpY2llbnRzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRlZ3JlZSArIDEpO1xuICAgIGNvZWZmaWNpZW50c1swXSA9IGNvZWZmaWNpZW50O1xuICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLCBjb2VmZmljaWVudHMpO1xuICB9XG5cbiAgcHVibGljIGxvZyhhOiBudW1iZXIpIHtcbiAgICBpZiAoYSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgdGFrZSBsb2coMClcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdO1xuICB9XG5cbiAgcHVibGljIGV4cChhOiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5leHBUYWJsZVthXTtcbiAgfVxufVxuIiwgImltcG9ydCBHZW5lcmljR0YsIHsgYWRkT3JTdWJ0cmFjdEdGIH0gZnJvbSBcIi4vR2VuZXJpY0dGXCI7XG5pbXBvcnQgR2VuZXJpY0dGUG9seSBmcm9tIFwiLi9HZW5lcmljR0ZQb2x5XCI7XG5cbmZ1bmN0aW9uIHJ1bkV1Y2xpZGVhbkFsZ29yaXRobShmaWVsZDogR2VuZXJpY0dGLCBhOiBHZW5lcmljR0ZQb2x5LCBiOiBHZW5lcmljR0ZQb2x5LCBSOiBudW1iZXIpOiBHZW5lcmljR0ZQb2x5W10ge1xuICAvLyBBc3N1bWUgYSdzIGRlZ3JlZSBpcyA+PSBiJ3NcbiAgaWYgKGEuZGVncmVlKCkgPCBiLmRlZ3JlZSgpKSB7XG4gICAgW2EsIGJdID0gW2IsIGFdO1xuICB9XG5cbiAgbGV0IHJMYXN0ID0gYTtcbiAgbGV0IHIgPSBiO1xuICBsZXQgdExhc3QgPSBmaWVsZC56ZXJvO1xuICBsZXQgdCA9IGZpZWxkLm9uZTtcblxuICAvLyBSdW4gRXVjbGlkZWFuIGFsZ29yaXRobSB1bnRpbCByJ3MgZGVncmVlIGlzIGxlc3MgdGhhbiBSLzJcbiAgd2hpbGUgKHIuZGVncmVlKCkgPj0gUiAvIDIpIHtcbiAgICBjb25zdCByTGFzdExhc3QgPSByTGFzdDtcbiAgICBjb25zdCB0TGFzdExhc3QgPSB0TGFzdDtcbiAgICByTGFzdCA9IHI7XG4gICAgdExhc3QgPSB0O1xuXG4gICAgLy8gRGl2aWRlIHJMYXN0TGFzdCBieSByTGFzdCwgd2l0aCBxdW90aWVudCBpbiBxIGFuZCByZW1haW5kZXIgaW4gclxuICAgIGlmIChyTGFzdC5pc1plcm8oKSkge1xuICAgICAgLy8gRXVjbGlkZWFuIGFsZ29yaXRobSBhbHJlYWR5IHRlcm1pbmF0ZWQ/XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgciA9IHJMYXN0TGFzdDtcbiAgICBsZXQgcSA9IGZpZWxkLnplcm87XG4gICAgY29uc3QgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmRlZ3JlZSgpKTtcbiAgICBjb25zdCBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTtcbiAgICB3aGlsZSAoci5kZWdyZWUoKSA+PSByTGFzdC5kZWdyZWUoKSAmJiAhci5pc1plcm8oKSkge1xuICAgICAgY29uc3QgZGVncmVlRGlmZiA9IHIuZGVncmVlKCkgLSByTGFzdC5kZWdyZWUoKTtcbiAgICAgIGNvbnN0IHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmRlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7XG4gICAgICBxID0gcS5hZGRPclN1YnRyYWN0KGZpZWxkLmJ1aWxkTW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTtcbiAgICAgIHIgPSByLmFkZE9yU3VidHJhY3Qockxhc3QubXVsdGlwbHlCeU1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7XG4gICAgfVxuXG4gICAgdCA9IHEubXVsdGlwbHlQb2x5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7XG5cbiAgICBpZiAoci5kZWdyZWUoKSA+PSByTGFzdC5kZWdyZWUoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2lnbWFUaWxkZUF0WmVybyA9IHQuZ2V0Q29lZmZpY2llbnQoMCk7XG4gIGlmIChzaWdtYVRpbGRlQXRaZXJvID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBpbnZlcnNlID0gZmllbGQuaW52ZXJzZShzaWdtYVRpbGRlQXRaZXJvKTtcbiAgcmV0dXJuIFt0Lm11bHRpcGx5KGludmVyc2UpLCByLm11bHRpcGx5KGludmVyc2UpXTtcbn1cblxuZnVuY3Rpb24gZmluZEVycm9yTG9jYXRpb25zKGZpZWxkOiBHZW5lcmljR0YsIGVycm9yTG9jYXRvcjogR2VuZXJpY0dGUG9seSk6IG51bWJlcltdIHtcbiAgLy8gVGhpcyBpcyBhIGRpcmVjdCBhcHBsaWNhdGlvbiBvZiBDaGllbidzIHNlYXJjaFxuICBjb25zdCBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZGVncmVlKCk7XG4gIGlmIChudW1FcnJvcnMgPT09IDEpIHtcbiAgICByZXR1cm4gW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV07XG4gIH1cbiAgY29uc3QgcmVzdWx0OiBudW1iZXJbXSA9IG5ldyBBcnJheShudW1FcnJvcnMpO1xuICBsZXQgZXJyb3JDb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgZmllbGQuc2l6ZSAmJiBlcnJvckNvdW50IDwgbnVtRXJyb3JzOyBpKyspIHtcbiAgICBpZiAoZXJyb3JMb2NhdG9yLmV2YWx1YXRlQXQoaSkgPT09IDApIHtcbiAgICAgIHJlc3VsdFtlcnJvckNvdW50XSA9IGZpZWxkLmludmVyc2UoaSk7XG4gICAgICBlcnJvckNvdW50Kys7XG4gICAgfVxuICB9XG4gIGlmIChlcnJvckNvdW50ICE9PSBudW1FcnJvcnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmaW5kRXJyb3JNYWduaXR1ZGVzKGZpZWxkOiBHZW5lcmljR0YsIGVycm9yRXZhbHVhdG9yOiBHZW5lcmljR0ZQb2x5LCBlcnJvckxvY2F0aW9uczogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gIC8vIFRoaXMgaXMgZGlyZWN0bHkgYXBwbHlpbmcgRm9ybmV5J3MgRm9ybXVsYVxuICBjb25zdCBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoO1xuICBjb25zdCByZXN1bHQ6IG51bWJlcltdID0gbmV3IEFycmF5KHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHM7IGkrKykge1xuICAgIGNvbnN0IHhpSW52ZXJzZSA9IGZpZWxkLmludmVyc2UoZXJyb3JMb2NhdGlvbnNbaV0pO1xuICAgIGxldCBkZW5vbWluYXRvciA9IDE7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzOyBqKyspIHtcbiAgICAgIGlmIChpICE9PSBqKSB7XG4gICAgICAgIGRlbm9taW5hdG9yID0gZmllbGQubXVsdGlwbHkoZGVub21pbmF0b3IsIGFkZE9yU3VidHJhY3RHRigxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRbaV0gPSBmaWVsZC5tdWx0aXBseShlcnJvckV2YWx1YXRvci5ldmFsdWF0ZUF0KHhpSW52ZXJzZSksIGZpZWxkLmludmVyc2UoZGVub21pbmF0b3IpKTtcbiAgICBpZiAoZmllbGQuZ2VuZXJhdG9yQmFzZSAhPT0gMCkge1xuICAgICAgcmVzdWx0W2ldID0gZmllbGQubXVsdGlwbHkocmVzdWx0W2ldLCB4aUludmVyc2UpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKGJ5dGVzOiBudW1iZXJbXSwgdHdvUzogbnVtYmVyKSB7XG4gIGNvbnN0IG91dHB1dEJ5dGVzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGJ5dGVzLmxlbmd0aCk7XG4gIG91dHB1dEJ5dGVzLnNldChieXRlcyk7XG5cbiAgY29uc3QgZmllbGQgPSBuZXcgR2VuZXJpY0dGKDB4MDExRCwgMjU2LCAwKTsgLy8geF44ICsgeF40ICsgeF4zICsgeF4yICsgMVxuICBjb25zdCBwb2x5ID0gbmV3IEdlbmVyaWNHRlBvbHkoZmllbGQsIG91dHB1dEJ5dGVzKTtcblxuICBjb25zdCBzeW5kcm9tZUNvZWZmaWNpZW50cyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0d29TKTtcbiAgbGV0IGVycm9yID0gZmFsc2U7XG4gIGZvciAobGV0IHMgPSAwOyBzIDwgdHdvUzsgcysrKSB7XG4gICAgY29uc3QgZXZhbHVhdGlvbiA9IHBvbHkuZXZhbHVhdGVBdChmaWVsZC5leHAocyArIGZpZWxkLmdlbmVyYXRvckJhc2UpKTtcbiAgICBzeW5kcm9tZUNvZWZmaWNpZW50c1tzeW5kcm9tZUNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gc10gPSBldmFsdWF0aW9uO1xuICAgIGlmIChldmFsdWF0aW9uICE9PSAwKSB7XG4gICAgICBlcnJvciA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmICghZXJyb3IpIHtcbiAgICByZXR1cm4gb3V0cHV0Qnl0ZXM7XG4gIH1cblxuICBjb25zdCBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBzeW5kcm9tZUNvZWZmaWNpZW50cyk7XG5cbiAgY29uc3Qgc2lnbWFPbWVnYSA9IHJ1bkV1Y2xpZGVhbkFsZ29yaXRobShmaWVsZCwgZmllbGQuYnVpbGRNb25vbWlhbCh0d29TLCAxKSwgc3luZHJvbWUsIHR3b1MpO1xuICBpZiAoc2lnbWFPbWVnYSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgZXJyb3JMb2NhdGlvbnMgPSBmaW5kRXJyb3JMb2NhdGlvbnMoZmllbGQsIHNpZ21hT21lZ2FbMF0pO1xuICBpZiAoZXJyb3JMb2NhdGlvbnMgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgZXJyb3JNYWduaXR1ZGVzID0gZmluZEVycm9yTWFnbml0dWRlcyhmaWVsZCwgc2lnbWFPbWVnYVsxXSwgZXJyb3JMb2NhdGlvbnMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yTG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBvdXRwdXRCeXRlcy5sZW5ndGggLSAxIC0gZmllbGQubG9nKGVycm9yTG9jYXRpb25zW2ldKTtcbiAgICBpZiAocG9zaXRpb24gPCAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgb3V0cHV0Qnl0ZXNbcG9zaXRpb25dID0gYWRkT3JTdWJ0cmFjdEdGKG91dHB1dEJ5dGVzW3Bvc2l0aW9uXSwgZXJyb3JNYWduaXR1ZGVzW2ldKTtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXRCeXRlcztcbn1cbiIsICJleHBvcnQgaW50ZXJmYWNlIFZlcnNpb24ge1xuICBpbmZvQml0czogbnVtYmVyO1xuICB2ZXJzaW9uTnVtYmVyOiBudW1iZXI7XG4gIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBudW1iZXJbXTtcbiAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBBcnJheTx7XG4gICAgZWNDb2Rld29yZHNQZXJCbG9jazogbnVtYmVyO1xuICAgIGVjQmxvY2tzOiBBcnJheTx7XG4gICAgICBudW1CbG9ja3M6IG51bWJlcjtcbiAgICAgIGRhdGFDb2Rld29yZHNQZXJCbG9jazogbnVtYmVyO1xuICAgIH0+XG4gIH0+O1xufVxuXG5leHBvcnQgY29uc3QgVkVSU0lPTlM6IFZlcnNpb25bXSA9IFtcbiAge1xuICAgIGluZm9CaXRzOiBudWxsLFxuICAgIHZlcnNpb25OdW1iZXI6IDEsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFtdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiA3LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE5IH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMTAsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAxMyxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMyB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDE3LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDkgfV0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogbnVsbCxcbiAgICB2ZXJzaW9uTnVtYmVyOiAyLFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMThdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAxMCxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAzNCB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDE2LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI4IH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjIsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjIgfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNiB9XSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiBudWxsLFxuICAgIHZlcnNpb25OdW1iZXI6IDMsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAyMl0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDE1LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDU1IH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjYsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDQgfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAxOCxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNyB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDIyLFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEzIH1dLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IG51bGwsXG4gICAgdmVyc2lvbk51bWJlcjogNCxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDI2XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjAsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogODAgfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAxOCxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAzMiB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI0IH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMTYsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogOSB9XSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiBudWxsLFxuICAgIHZlcnNpb25OdW1iZXI6IDUsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAzMF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEwOCB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI0LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQzIH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMTgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjIsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTEgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IG51bGwsXG4gICAgdmVyc2lvbk51bWJlcjogNixcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDM0XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMTgsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNjggfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAxNixcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNyB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI0LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE5IH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfV0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgwN0M5NCxcbiAgICB2ZXJzaW9uTnVtYmVyOiA3LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMjIsIDM4XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjAsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNzggfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAxOCxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAzMSB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDE4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEzIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDA4NUJDLFxuICAgIHZlcnNpb25OdW1iZXI6IDgsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAyNCwgNDJdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyNCxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA5NyB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDIyLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDM4IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMzkgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDIyLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE4IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTkgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDA5QTk5LFxuICAgIHZlcnNpb25OdW1iZXI6IDksXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAyNiwgNDZdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFt7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTYgfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyMixcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAzNiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDM3IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE3IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyNCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEzIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgwQTREMyxcbiAgICB2ZXJzaW9uTnVtYmVyOiAxMCxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDI4LCA1MF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDE4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDY4IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNjkgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQzIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI0LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE5IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDBCQkY2LFxuICAgIHZlcnNpb25OdW1iZXI6IDExLFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzAsIDU0XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjAsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogODEgfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA1MCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDUxIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDIzIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyNCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA4LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEzIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgwQzc2MixcbiAgICB2ZXJzaW9uTnVtYmVyOiAxMixcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDMyLCA1OF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI0LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDkyIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogOTMgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDIyLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDM2IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMzcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDIwIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjEgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDBEODQ3LFxuICAgIHZlcnNpb25OdW1iZXI6IDEzLFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzQsIDYyXSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjYsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTA3IH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjIsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDgsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMzcgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAzOCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjQsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDgsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjAgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjIsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDBFNjBELFxuICAgIHZlcnNpb25OdW1iZXI6IDE0LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMjYsIDQ2LCA2Nl0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExNSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjQsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDAgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0MSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDExLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI0LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA1LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEzIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgwRjkyOCxcbiAgICB2ZXJzaW9uTnVtYmVyOiAxNSxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDI2LCA0OCwgNzBdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyMixcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA4NyB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDg4IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyNCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0MSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA1LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQyIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyNCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMyB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IDB4MTBCNzgsXG4gICAgdmVyc2lvbk51bWJlcjogMTYsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAyNiwgNTAsIDc0XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjQsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogOTggfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA5OSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDcsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjQsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE1LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE5IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgxMTQ1RCxcbiAgICB2ZXJzaW9uTnVtYmVyOiAxNyxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDMwLCA1NCwgNzhdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMDcgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMDggfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ3IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMyB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTcsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDEyQTE3LFxuICAgIHZlcnNpb25OdW1iZXI6IDE4LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzAsIDU2LCA4Ml0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA1LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEyMCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEyMSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjYsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDksIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDMgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDIyIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjMgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE5LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgxMzUzMixcbiAgICB2ZXJzaW9uTnVtYmVyOiAxOSxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDMwLCA1OCwgODZdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTMgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDExLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyNixcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTcsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjEgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjYsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDksIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTMgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDE0OUE2LFxuICAgIHZlcnNpb25OdW1iZXI6IDIwLFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzQsIDYyLCA5MF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEwNyB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA1LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEwOCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjYsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDMsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDEgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTMsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDIgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA1LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTAsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDE1NjgzLFxuICAgIHZlcnNpb25OdW1iZXI6IDIxLFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMjgsIDUwLCA3MiwgOTRdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTYgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI2LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAxNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0MiB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDIzIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTksIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNyB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IDB4MTY4QzksXG4gICAgdmVyc2lvbk51bWJlcjogMjIsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAyNiwgNTAsIDc0LCA5OF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExMSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExMiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDE3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ2IH1dLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDcsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI0LFxuICAgICAgICBlY0Jsb2NrczogW3sgbnVtQmxvY2tzOiAzNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMyB9XSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDE3N0VDLFxuICAgIHZlcnNpb25OdW1iZXI6IDIzLFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzAsIDU0LCA3NCwgMTAyXSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIxIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIyIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NyB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0OCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDExLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDE4RUM0LFxuICAgIHZlcnNpb25OdW1iZXI6IDI0LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMjgsIDU0LCA4MCwgMTA2XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE3IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE4IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDExLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMzAsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNyB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IDB4MTkxRTEsXG4gICAgdmVyc2lvbk51bWJlcjogMjUsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAzMiwgNTgsIDg0LCAxMTBdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyNixcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogOCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMDYgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMDcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA4LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ3IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ4IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgxQUZBQixcbiAgICB2ZXJzaW9uTnVtYmVyOiAyNixcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDMwLCA1OCwgODYsIDExNF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxOSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ3IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMjgsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjIgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMyB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDMzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDFCMDhFLFxuICAgIHZlcnNpb25OdW1iZXI6IDI3LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzQsIDYyLCA5MCwgMTE4XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDgsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIyIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIzIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMjIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDgsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjMgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMjYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyOCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IDB4MUNDMUEsXG4gICAgdmVyc2lvbk51bWJlcjogMjgsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDMsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE3IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEwLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExOCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDMsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMjMsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDMxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMzEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDFEMzNGLFxuICAgIHZlcnNpb25OdW1iZXI6IDI5LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzAsIDU0LCA3OCwgMTAyLCAxMjZdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTYgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyMyB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAzNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE5LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDI2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgxRUQ3NSxcbiAgICB2ZXJzaW9uTnVtYmVyOiAzMCxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDI2LCA1MiwgNzgsIDEwNCwgMTMwXSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEwLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE5LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ3IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEwLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ4IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMjUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyNSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IDB4MUYyNTAsXG4gICAgdmVyc2lvbk51bWJlcjogMzEsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ2IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDI5LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ3IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDI4LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgyMDlENSxcbiAgICB2ZXJzaW9uTnVtYmVyOiAzMixcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDM0LCA2MCwgODYsIDExMiwgMTM4XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbeyBudW1CbG9ja3M6IDE3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExNSB9XSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyMywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NyB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEwLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDM1LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTksIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMzUsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDIxNkYwLFxuICAgIHZlcnNpb25OdW1iZXI6IDMzLFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTcsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDYgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMjEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyOSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxOSwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDExLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQ2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgyMjhCQSxcbiAgICB2ZXJzaW9uTnVtYmVyOiAzNCxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWzYsIDM0LCA2MiwgOTAsIDExOCwgMTQ2XSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExNSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA2LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDExNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ2IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIzLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ3IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNDQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDU5LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDIzNzlGLFxuICAgIHZlcnNpb25OdW1iZXI6IDM1LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbNiwgMzAsIDU0LCA3OCwgMTAyLCAxMjYsIDE1MF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMjEgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMjIgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NyB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyNiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0OCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDM5LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI0IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDI1IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMjIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNDEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDI0QjBCLFxuICAgIHZlcnNpb25OdW1iZXI6IDM2LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbIDYsIDI0LCA1MCwgNzYsIDEwMiwgMTI4LCAxNTQgXSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIxIH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEyMiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDcgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMzQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDggfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0NiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTUgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNjQsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTYgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGluZm9CaXRzOiAweDI1NDJFLFxuICAgIHZlcnNpb25OdW1iZXI6IDM3LFxuICAgIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzOiBbIDYsIDI4LCA1NCwgODAsIDEwNiwgMTMyLCAxNTggXSxcbiAgICBlcnJvckNvcnJlY3Rpb25MZXZlbHM6IFtcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEyMiB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDEyMyB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMjgsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDI5LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ2IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDE0LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ3IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNDksIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTAsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0NiwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IDB4MjZBNjQsXG4gICAgdmVyc2lvbk51bWJlcjogMzgsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFsgNiwgMzIsIDU4LCA4NCwgMTEwLCAxMzYsIDE2MiBdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMjIgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMTgsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTIzIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTMsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDYgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMzIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDcgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0OCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDQyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDMyLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpbmZvQml0czogMHgyNzU0MSxcbiAgICB2ZXJzaW9uTnVtYmVyOiAzOSxcbiAgICBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczogWyA2LCAyNiwgNTQsIDgyLCAxMTAsIDEzOCwgMTY2IF0sXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWxzOiBbXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAyMCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTcgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxMTggfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDI4LFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiA0MCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiA0NyB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA3LCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDQ4IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogNDMsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjQgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMjIsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMjUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAxMCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNSB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiA2NywgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAxNiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaW5mb0JpdHM6IDB4MjhDNjksXG4gICAgdmVyc2lvbk51bWJlcjogNDAsXG4gICAgYWxpZ25tZW50UGF0dGVybkNlbnRlcnM6IFsgNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDIsIDE3MCBdLFxuICAgIGVycm9yQ29ycmVjdGlvbkxldmVsczogW1xuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAzMCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTksIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE4IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDYsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogMTE5IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlY0NvZGV3b3Jkc1BlckJsb2NrOiAyOCxcbiAgICAgICAgZWNCbG9ja3M6IFtcbiAgICAgICAgICB7IG51bUJsb2NrczogMTgsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDcgfSxcbiAgICAgICAgICB7IG51bUJsb2NrczogMzEsIGRhdGFDb2Rld29yZHNQZXJCbG9jazogNDggfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVjQ29kZXdvcmRzUGVyQmxvY2s6IDMwLFxuICAgICAgICBlY0Jsb2NrczogW1xuICAgICAgICAgIHsgbnVtQmxvY2tzOiAzNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNCB9LFxuICAgICAgICAgIHsgbnVtQmxvY2tzOiAzNCwgZGF0YUNvZGV3b3Jkc1BlckJsb2NrOiAyNSB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZWNDb2Rld29yZHNQZXJCbG9jazogMzAsXG4gICAgICAgIGVjQmxvY2tzOiBbXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDIwLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE1IH0sXG4gICAgICAgICAgeyBudW1CbG9ja3M6IDYxLCBkYXRhQ29kZXdvcmRzUGVyQmxvY2s6IDE2IH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG5dO1xuIiwgImltcG9ydCB7IEJpdE1hdHJpeCB9IGZyb20gXCIuLi9CaXRNYXRyaXhcIjtcbmltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4uL1BvaW50XCI7XG5pbXBvcnQgeyBkZWNvZGUgYXMgZGVjb2RlRGF0YSwgRGVjb2RlZFFSIH0gZnJvbSBcIi4vZGVjb2RlRGF0YVwiO1xuaW1wb3J0IHsgZGVjb2RlIGFzIHJzRGVjb2RlIH0gZnJvbSBcIi4vcmVlZHNvbG9tb25cIjtcbmltcG9ydCB7IFZlcnNpb24sIFZFUlNJT05TIH0gZnJvbSBcIi4vdmVyc2lvblwiO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZTpuby1iaXR3aXNlXG5mdW5jdGlvbiBudW1CaXRzRGlmZmVyaW5nKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gIGxldCB6ID0geCBeIHk7XG4gIGxldCBiaXRDb3VudCA9IDA7XG4gIHdoaWxlICh6KSB7XG4gICAgYml0Q291bnQrKztcbiAgICB6ICY9IHogLSAxO1xuICB9XG4gIHJldHVybiBiaXRDb3VudDtcbn1cblxuZnVuY3Rpb24gcHVzaEJpdChiaXQ6IGFueSwgYnl0ZTogbnVtYmVyKSB7XG4gIHJldHVybiAoYnl0ZSA8PCAxKSB8IGJpdDtcbn1cbi8vIHRzbGludDplbmFibGU6bm8tYml0d2lzZVxuXG5jb25zdCBGT1JNQVRfSU5GT19UQUJMRSA9IFtcbiAgeyBiaXRzOiAweDU0MTIsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiAwIH0gfSxcbiAgeyBiaXRzOiAweDUxMjUsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiAxIH0gfSxcbiAgeyBiaXRzOiAweDVFN0MsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiAyIH0gfSxcbiAgeyBiaXRzOiAweDVCNEIsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiAzIH0gfSxcbiAgeyBiaXRzOiAweDQ1RjksIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiA0IH0gfSxcbiAgeyBiaXRzOiAweDQwQ0UsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiA1IH0gfSxcbiAgeyBiaXRzOiAweDRGOTcsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiA2IH0gfSxcbiAgeyBiaXRzOiAweDRBQTAsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDEsIGRhdGFNYXNrOiA3IH0gfSxcbiAgeyBiaXRzOiAweDc3QzQsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiAwIH0gfSxcbiAgeyBiaXRzOiAweDcyRjMsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiAxIH0gfSxcbiAgeyBiaXRzOiAweDdEQUEsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiAyIH0gfSxcbiAgeyBiaXRzOiAweDc4OUQsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiAzIH0gfSxcbiAgeyBiaXRzOiAweDY2MkYsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiA0IH0gfSxcbiAgeyBiaXRzOiAweDYzMTgsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiA1IH0gfSxcbiAgeyBiaXRzOiAweDZDNDEsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiA2IH0gfSxcbiAgeyBiaXRzOiAweDY5NzYsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDAsIGRhdGFNYXNrOiA3IH0gfSxcbiAgeyBiaXRzOiAweDE2ODksIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiAwIH0gfSxcbiAgeyBiaXRzOiAweDEzQkUsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiAxIH0gfSxcbiAgeyBiaXRzOiAweDFDRTcsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiAyIH0gfSxcbiAgeyBiaXRzOiAweDE5RDAsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiAzIH0gfSxcbiAgeyBiaXRzOiAweDA3NjIsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiA0IH0gfSxcbiAgeyBiaXRzOiAweDAyNTUsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiA1IH0gfSxcbiAgeyBiaXRzOiAweDBEMEMsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiA2IH0gfSxcbiAgeyBiaXRzOiAweDA4M0IsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDMsIGRhdGFNYXNrOiA3IH0gfSxcbiAgeyBiaXRzOiAweDM1NUYsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiAwIH0gfSxcbiAgeyBiaXRzOiAweDMwNjgsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiAxIH0gfSxcbiAgeyBiaXRzOiAweDNGMzEsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiAyIH0gfSxcbiAgeyBiaXRzOiAweDNBMDYsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiAzIH0gfSxcbiAgeyBiaXRzOiAweDI0QjQsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiA0IH0gfSxcbiAgeyBiaXRzOiAweDIxODMsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiA1IH0gfSxcbiAgeyBiaXRzOiAweDJFREEsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiA2IH0gfSxcbiAgeyBiaXRzOiAweDJCRUQsIGZvcm1hdEluZm86IHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IDIsIGRhdGFNYXNrOiA3IH0gfSxcbl07XG5cbmNvbnN0IERBVEFfTUFTS1MgPSBbXG4gIChwOiBQb2ludCkgPT4gKChwLnkgKyBwLngpICUgMikgPT09IDAsXG4gIChwOiBQb2ludCkgPT4gKHAueSAlIDIpID09PSAwLFxuICAocDogUG9pbnQpID0+IHAueCAlIDMgPT09IDAsXG4gIChwOiBQb2ludCkgPT4gKHAueSArIHAueCkgJSAzID09PSAwLFxuICAocDogUG9pbnQpID0+IChNYXRoLmZsb29yKHAueSAvIDIpICsgTWF0aC5mbG9vcihwLnggLyAzKSkgJSAyID09PSAwLFxuICAocDogUG9pbnQpID0+ICgocC54ICogcC55KSAlIDIpICsgKChwLnggKiBwLnkpICUgMykgPT09IDAsXG4gIChwOiBQb2ludCkgPT4gKCgoKHAueSAqIHAueCkgJSAyKSArIChwLnkgKiBwLngpICUgMykgJSAyKSA9PT0gMCxcbiAgKHA6IFBvaW50KSA9PiAoKCgocC55ICsgcC54KSAlIDIpICsgKHAueSAqIHAueCkgJSAzKSAlIDIpID09PSAwLFxuXTtcblxuaW50ZXJmYWNlIEZvcm1hdEluZm9ybWF0aW9uIHtcbiAgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6IG51bWJlcjtcbiAgZGF0YU1hc2s6IG51bWJlcjtcbn1cblxuZnVuY3Rpb24gYnVpbGRGdW5jdGlvblBhdHRlcm5NYXNrKHZlcnNpb246IFZlcnNpb24pOiBCaXRNYXRyaXgge1xuICBjb25zdCBkaW1lbnNpb24gPSAxNyArIDQgKiB2ZXJzaW9uLnZlcnNpb25OdW1iZXI7XG4gIGNvbnN0IG1hdHJpeCA9IEJpdE1hdHJpeC5jcmVhdGVFbXB0eShkaW1lbnNpb24sIGRpbWVuc2lvbik7XG5cbiAgbWF0cml4LnNldFJlZ2lvbigwLCAwLCA5LCA5LCB0cnVlKTsgLy8gVG9wIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXRcbiAgbWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5LCB0cnVlKTsgLy8gVG9wIHJpZ2h0IGZpbmRlciBwYXR0ZXJuICsgc2VwYXJhdG9yICsgZm9ybWF0XG4gIG1hdHJpeC5zZXRSZWdpb24oMCwgZGltZW5zaW9uIC0gOCwgOSwgOCwgdHJ1ZSk7IC8vIEJvdHRvbSBsZWZ0IGZpbmRlciBwYXR0ZXJuICsgc2VwYXJhdG9yICsgZm9ybWF0XG5cbiAgLy8gQWxpZ25tZW50IHBhdHRlcm5zXG4gIGZvciAoY29uc3QgeCBvZiB2ZXJzaW9uLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7XG4gICAgZm9yIChjb25zdCB5IG9mIHZlcnNpb24uYWxpZ25tZW50UGF0dGVybkNlbnRlcnMpIHtcbiAgICAgIGlmICghKHggPT09IDYgJiYgeSA9PT0gNiB8fCB4ID09PSA2ICYmIHkgPT09IGRpbWVuc2lvbiAtIDcgfHwgeCA9PT0gZGltZW5zaW9uIC0gNyAmJiB5ID09PSA2KSkge1xuICAgICAgICBtYXRyaXguc2V0UmVnaW9uKHggLSAyLCB5IC0gMiwgNSwgNSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbWF0cml4LnNldFJlZ2lvbig2LCA5LCAxLCBkaW1lbnNpb24gLSAxNywgdHJ1ZSk7IC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuXG4gIG1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEsIHRydWUpOyAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuXG5cbiAgaWYgKHZlcnNpb24udmVyc2lvbk51bWJlciA+IDYpIHtcbiAgICBtYXRyaXguc2V0UmVnaW9uKGRpbWVuc2lvbiAtIDExLCAwLCAzLCA2LCB0cnVlKTsgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHRcbiAgICBtYXRyaXguc2V0UmVnaW9uKDAsIGRpbWVuc2lvbiAtIDExLCA2LCAzLCB0cnVlKTsgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdFxuICB9XG5cbiAgcmV0dXJuIG1hdHJpeDtcbn1cblxuZnVuY3Rpb24gcmVhZENvZGV3b3JkcyhtYXRyaXg6IEJpdE1hdHJpeCwgdmVyc2lvbjogVmVyc2lvbiwgZm9ybWF0SW5mbzogRm9ybWF0SW5mb3JtYXRpb24pIHtcbiAgY29uc3QgZGF0YU1hc2sgPSBEQVRBX01BU0tTW2Zvcm1hdEluZm8uZGF0YU1hc2tdO1xuICBjb25zdCBkaW1lbnNpb24gPSBtYXRyaXguaGVpZ2h0O1xuXG4gIGNvbnN0IGZ1bmN0aW9uUGF0dGVybk1hc2sgPSBidWlsZEZ1bmN0aW9uUGF0dGVybk1hc2sodmVyc2lvbik7XG5cbiAgY29uc3QgY29kZXdvcmRzOiBudW1iZXJbXSA9IFtdO1xuICBsZXQgY3VycmVudEJ5dGUgPSAwO1xuICBsZXQgYml0c1JlYWQgPSAwO1xuXG4gIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0XG4gIGxldCByZWFkaW5nVXAgPSB0cnVlO1xuICBmb3IgKGxldCBjb2x1bW5JbmRleCA9IGRpbWVuc2lvbiAtIDE7IGNvbHVtbkluZGV4ID4gMDsgY29sdW1uSW5kZXggLT0gMikge1xuICAgIGlmIChjb2x1bW5JbmRleCA9PT0gNikgeyAvLyBTa2lwIHdob2xlIGNvbHVtbiB3aXRoIHZlcnRpY2FsIGFsaWdubWVudCBwYXR0ZXJuO1xuICAgICAgY29sdW1uSW5kZXgtLTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaW1lbnNpb247IGkrKykge1xuICAgICAgY29uc3QgeSA9IHJlYWRpbmdVcCA/IGRpbWVuc2lvbiAtIDEgLSBpIDogaTtcbiAgICAgIGZvciAobGV0IGNvbHVtbk9mZnNldCA9IDA7IGNvbHVtbk9mZnNldCA8IDI7IGNvbHVtbk9mZnNldCsrKSB7XG4gICAgICAgIGNvbnN0IHggPSBjb2x1bW5JbmRleCAtIGNvbHVtbk9mZnNldDtcbiAgICAgICAgaWYgKCFmdW5jdGlvblBhdHRlcm5NYXNrLmdldCh4LCB5KSkge1xuICAgICAgICAgIGJpdHNSZWFkKys7XG4gICAgICAgICAgbGV0IGJpdCA9IG1hdHJpeC5nZXQoeCwgeSk7XG4gICAgICAgICAgaWYgKGRhdGFNYXNrKHt5LCB4fSkpIHtcbiAgICAgICAgICAgIGJpdCA9ICFiaXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRCeXRlID0gcHVzaEJpdChiaXQsIGN1cnJlbnRCeXRlKTtcbiAgICAgICAgICBpZiAoYml0c1JlYWQgPT09IDgpIHsgLy8gV2hvbGUgYnl0ZXNcbiAgICAgICAgICAgIGNvZGV3b3Jkcy5wdXNoKGN1cnJlbnRCeXRlKTtcbiAgICAgICAgICAgIGJpdHNSZWFkID0gMDtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDtcbiAgfVxuICByZXR1cm4gY29kZXdvcmRzO1xufVxuXG5mdW5jdGlvbiByZWFkVmVyc2lvbihtYXRyaXg6IEJpdE1hdHJpeCk6IFZlcnNpb24ge1xuICBjb25zdCBkaW1lbnNpb24gPSBtYXRyaXguaGVpZ2h0O1xuXG4gIGNvbnN0IHByb3Zpc2lvbmFsVmVyc2lvbiA9IE1hdGguZmxvb3IoKGRpbWVuc2lvbiAtIDE3KSAvIDQpO1xuICBpZiAocHJvdmlzaW9uYWxWZXJzaW9uIDw9IDYpIHsgLy8gNiBhbmQgdW5kZXIgZG9udCBoYXZlIHZlcnNpb24gaW5mbyBpbiB0aGUgUVIgY29kZVxuICAgIHJldHVybiBWRVJTSU9OU1twcm92aXNpb25hbFZlcnNpb24gLSAxXTtcbiAgfVxuXG4gIGxldCB0b3BSaWdodFZlcnNpb25CaXRzID0gMDtcbiAgZm9yIChsZXQgeSA9IDU7IHkgPj0gMDsgeS0tKSB7XG4gICAgZm9yIChsZXQgeCA9IGRpbWVuc2lvbiAtIDk7IHggPj0gZGltZW5zaW9uIC0gMTE7IHgtLSkge1xuICAgICAgdG9wUmlnaHRWZXJzaW9uQml0cyA9IHB1c2hCaXQobWF0cml4LmdldCh4LCB5KSwgdG9wUmlnaHRWZXJzaW9uQml0cyk7XG4gICAgfVxuICB9XG5cbiAgbGV0IGJvdHRvbUxlZnRWZXJzaW9uQml0cyA9IDA7XG4gIGZvciAobGV0IHggPSA1OyB4ID49IDA7IHgtLSkge1xuICAgIGZvciAobGV0IHkgPSBkaW1lbnNpb24gLSA5OyB5ID49IGRpbWVuc2lvbiAtIDExOyB5LS0pIHtcbiAgICAgIGJvdHRvbUxlZnRWZXJzaW9uQml0cyA9IHB1c2hCaXQobWF0cml4LmdldCh4LCB5KSwgYm90dG9tTGVmdFZlcnNpb25CaXRzKTtcbiAgICB9XG4gIH1cblxuICBsZXQgYmVzdERpZmZlcmVuY2UgPSBJbmZpbml0eTtcbiAgbGV0IGJlc3RWZXJzaW9uOiBWZXJzaW9uO1xuICBmb3IgKGNvbnN0IHZlcnNpb24gb2YgVkVSU0lPTlMpIHtcbiAgICBpZiAodmVyc2lvbi5pbmZvQml0cyA9PT0gdG9wUmlnaHRWZXJzaW9uQml0cyB8fCB2ZXJzaW9uLmluZm9CaXRzID09PSBib3R0b21MZWZ0VmVyc2lvbkJpdHMpIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgIH1cblxuICAgIGxldCBkaWZmZXJlbmNlID0gbnVtQml0c0RpZmZlcmluZyh0b3BSaWdodFZlcnNpb25CaXRzLCB2ZXJzaW9uLmluZm9CaXRzKTtcbiAgICBpZiAoZGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7XG4gICAgICBiZXN0VmVyc2lvbiA9IHZlcnNpb247XG4gICAgICBiZXN0RGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgfVxuXG4gICAgZGlmZmVyZW5jZSA9IG51bUJpdHNEaWZmZXJpbmcoYm90dG9tTGVmdFZlcnNpb25CaXRzLCB2ZXJzaW9uLmluZm9CaXRzKTtcbiAgICBpZiAoZGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7XG4gICAgICBiZXN0VmVyc2lvbiA9IHZlcnNpb247XG4gICAgICBiZXN0RGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgfVxuICB9XG4gIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbFxuICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy5cbiAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHtcbiAgICByZXR1cm4gYmVzdFZlcnNpb247XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVhZEZvcm1hdEluZm9ybWF0aW9uKG1hdHJpeDogQml0TWF0cml4KSB7XG4gIGxldCB0b3BMZWZ0Rm9ybWF0SW5mb0JpdHMgPSAwO1xuICBmb3IgKGxldCB4ID0gMDsgeCA8PSA4OyB4KyspIHtcbiAgICBpZiAoeCAhPT0gNikgeyAvLyBTa2lwIHRpbWluZyBwYXR0ZXJuIGJpdFxuICAgICAgdG9wTGVmdEZvcm1hdEluZm9CaXRzID0gcHVzaEJpdChtYXRyaXguZ2V0KHgsIDgpLCB0b3BMZWZ0Rm9ybWF0SW5mb0JpdHMpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCB5ID0gNzsgeSA+PSAwOyB5LS0pIHtcbiAgICBpZiAoeSAhPT0gNikgeyAvLyBTa2lwIHRpbWluZyBwYXR0ZXJuIGJpdFxuICAgICAgdG9wTGVmdEZvcm1hdEluZm9CaXRzID0gcHVzaEJpdChtYXRyaXguZ2V0KDgsIHkpLCB0b3BMZWZ0Rm9ybWF0SW5mb0JpdHMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGRpbWVuc2lvbiA9IG1hdHJpeC5oZWlnaHQ7XG4gIGxldCB0b3BSaWdodEJvdHRvbVJpZ2h0Rm9ybWF0SW5mb0JpdHMgPSAwO1xuICBmb3IgKGxldCB5ID0gZGltZW5zaW9uIC0gMTsgeSA+PSBkaW1lbnNpb24gLSA3OyB5LS0pIHsgLy8gYm90dG9tIGxlZnRcbiAgICB0b3BSaWdodEJvdHRvbVJpZ2h0Rm9ybWF0SW5mb0JpdHMgPSBwdXNoQml0KG1hdHJpeC5nZXQoOCwgeSksIHRvcFJpZ2h0Qm90dG9tUmlnaHRGb3JtYXRJbmZvQml0cyk7XG4gIH1cbiAgZm9yIChsZXQgeCA9IGRpbWVuc2lvbiAtIDg7IHggPCBkaW1lbnNpb247IHgrKykgeyAvLyB0b3AgcmlnaHRcbiAgICB0b3BSaWdodEJvdHRvbVJpZ2h0Rm9ybWF0SW5mb0JpdHMgPSBwdXNoQml0KG1hdHJpeC5nZXQoeCwgOCksIHRvcFJpZ2h0Qm90dG9tUmlnaHRGb3JtYXRJbmZvQml0cyk7XG4gIH1cblxuICBsZXQgYmVzdERpZmZlcmVuY2UgPSBJbmZpbml0eTtcbiAgbGV0IGJlc3RGb3JtYXRJbmZvID0gbnVsbDtcbiAgZm9yIChjb25zdCB7Yml0cywgZm9ybWF0SW5mb30gb2YgRk9STUFUX0lORk9fVEFCTEUpIHtcbiAgICBpZiAoYml0cyA9PT0gdG9wTGVmdEZvcm1hdEluZm9CaXRzIHx8IGJpdHMgPT09IHRvcFJpZ2h0Qm90dG9tUmlnaHRGb3JtYXRJbmZvQml0cykge1xuICAgICAgcmV0dXJuIGZvcm1hdEluZm87XG4gICAgfVxuICAgIGxldCBkaWZmZXJlbmNlID0gbnVtQml0c0RpZmZlcmluZyh0b3BMZWZ0Rm9ybWF0SW5mb0JpdHMsIGJpdHMpO1xuICAgIGlmIChkaWZmZXJlbmNlIDwgYmVzdERpZmZlcmVuY2UpIHtcbiAgICAgIGJlc3RGb3JtYXRJbmZvID0gZm9ybWF0SW5mbztcbiAgICAgIGJlc3REaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbiAgICB9XG4gICAgaWYgKHRvcExlZnRGb3JtYXRJbmZvQml0cyAhPT0gdG9wUmlnaHRCb3R0b21SaWdodEZvcm1hdEluZm9CaXRzKSB7IC8vIGFsc28gdHJ5IHRoZSBvdGhlciBvcHRpb25cbiAgICAgIGRpZmZlcmVuY2UgPSBudW1CaXRzRGlmZmVyaW5nKHRvcFJpZ2h0Qm90dG9tUmlnaHRGb3JtYXRJbmZvQml0cywgYml0cyk7XG4gICAgICBpZiAoZGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7XG4gICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZm9ybWF0SW5mbztcbiAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBIYW1taW5nIGRpc3RhbmNlIG9mIHRoZSAzMiBtYXNrZWQgY29kZXMgaXMgNywgYnkgY29uc3RydWN0aW9uLCBzbyA8PSAzIGJpdHMgZGlmZmVyaW5nIG1lYW5zIHdlIGZvdW5kIGEgbWF0Y2hcbiAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHtcbiAgICByZXR1cm4gYmVzdEZvcm1hdEluZm87XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldERhdGFCbG9ja3MoY29kZXdvcmRzOiBudW1iZXJbXSwgdmVyc2lvbjogVmVyc2lvbiwgZWNMZXZlbDogbnVtYmVyKSB7XG4gIGNvbnN0IGVjSW5mbyA9IHZlcnNpb24uZXJyb3JDb3JyZWN0aW9uTGV2ZWxzW2VjTGV2ZWxdO1xuICBjb25zdCBkYXRhQmxvY2tzOiBBcnJheTx7XG4gICAgbnVtRGF0YUNvZGV3b3JkczogbnVtYmVyO1xuICAgIGNvZGV3b3JkczogbnVtYmVyW107XG4gIH0+ID0gW107XG5cbiAgbGV0IHRvdGFsQ29kZXdvcmRzID0gMDtcbiAgZWNJbmZvLmVjQmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2subnVtQmxvY2tzOyBpKyspIHtcbiAgICAgIGRhdGFCbG9ja3MucHVzaCh7IG51bURhdGFDb2Rld29yZHM6IGJsb2NrLmRhdGFDb2Rld29yZHNQZXJCbG9jaywgY29kZXdvcmRzOiBbXSB9KTtcbiAgICAgIHRvdGFsQ29kZXdvcmRzICs9IGJsb2NrLmRhdGFDb2Rld29yZHNQZXJCbG9jayArIGVjSW5mby5lY0NvZGV3b3Jkc1BlckJsb2NrO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gSW4gc29tZSBjYXNlcyB0aGUgUVIgY29kZSB3aWxsIGJlIG1hbGZvcm1lZCBlbm91Z2ggdGhhdCB3ZSBwdWxsIG9mZiBtb3JlIG9yIGxlc3MgdGhhbiB3ZSBzaG91bGQuXG4gIC8vIElmIHdlIHB1bGwgb2ZmIGxlc3MgdGhlcmUncyBub3RoaW5nIHdlIGNhbiBkby5cbiAgLy8gSWYgd2UgcHVsbCBvZmYgbW9yZSB3ZSBjYW4gc2FmZWx5IHRydW5jYXRlXG4gIGlmIChjb2Rld29yZHMubGVuZ3RoIDwgdG90YWxDb2Rld29yZHMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb2Rld29yZHMgPSBjb2Rld29yZHMuc2xpY2UoMCwgdG90YWxDb2Rld29yZHMpO1xuXG4gIGNvbnN0IHNob3J0QmxvY2tTaXplID0gZWNJbmZvLmVjQmxvY2tzWzBdLmRhdGFDb2Rld29yZHNQZXJCbG9jaztcbiAgLy8gUHVsbCBjb2Rld29yZHMgdG8gZmlsbCB0aGUgYmxvY2tzIHVwIHRvIHRoZSBtaW5pbXVtIHNpemVcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaG9ydEJsb2NrU2l6ZTsgaSsrKSB7XG4gICAgZm9yIChjb25zdCBkYXRhQmxvY2sgb2YgZGF0YUJsb2Nrcykge1xuICAgICAgZGF0YUJsb2NrLmNvZGV3b3Jkcy5wdXNoKGNvZGV3b3Jkcy5zaGlmdCgpKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGVyZSBhcmUgYW55IGxhcmdlIGJsb2NrcywgcHVsbCBjb2Rld29yZHMgdG8gZmlsbCB0aGUgbGFzdCBlbGVtZW50IG9mIHRob3NlXG4gIGlmIChlY0luZm8uZWNCbG9ja3MubGVuZ3RoID4gMSkge1xuICAgIGNvbnN0IHNtYWxsQmxvY2tDb3VudCA9IGVjSW5mby5lY0Jsb2Nrc1swXS5udW1CbG9ja3M7XG4gICAgY29uc3QgbGFyZ2VCbG9ja0NvdW50ID0gZWNJbmZvLmVjQmxvY2tzWzFdLm51bUJsb2NrcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhcmdlQmxvY2tDb3VudDsgaSsrKSB7XG4gICAgICBkYXRhQmxvY2tzW3NtYWxsQmxvY2tDb3VudCArIGldLmNvZGV3b3Jkcy5wdXNoKGNvZGV3b3Jkcy5zaGlmdCgpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgdGhlIHJlc3Qgb2YgdGhlIGNvZGV3b3JkcyB0byB0aGUgYmxvY2tzLiBUaGVzZSBhcmUgdGhlIGVycm9yIGNvcnJlY3Rpb24gY29kZXdvcmRzLlxuICB3aGlsZSAoY29kZXdvcmRzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGNvbnN0IGRhdGFCbG9jayBvZiBkYXRhQmxvY2tzKSB7XG4gICAgICBkYXRhQmxvY2suY29kZXdvcmRzLnB1c2goY29kZXdvcmRzLnNoaWZ0KCkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhQmxvY2tzO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVNYXRyaXgobWF0cml4OiBCaXRNYXRyaXgpIHtcbiAgY29uc3QgdmVyc2lvbiA9IHJlYWRWZXJzaW9uKG1hdHJpeCk7XG4gIGlmICghdmVyc2lvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgZm9ybWF0SW5mbyA9IHJlYWRGb3JtYXRJbmZvcm1hdGlvbihtYXRyaXgpO1xuICBpZiAoIWZvcm1hdEluZm8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGNvZGV3b3JkcyA9IHJlYWRDb2Rld29yZHMobWF0cml4LCB2ZXJzaW9uLCBmb3JtYXRJbmZvKTtcbiAgY29uc3QgZGF0YUJsb2NrcyA9IGdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBmb3JtYXRJbmZvLmVycm9yQ29ycmVjdGlvbkxldmVsKTtcbiAgaWYgKCFkYXRhQmxvY2tzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDb3VudCB0b3RhbCBudW1iZXIgb2YgZGF0YSBieXRlc1xuICBjb25zdCB0b3RhbEJ5dGVzID0gZGF0YUJsb2Nrcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLm51bURhdGFDb2Rld29yZHMsIDApO1xuICBjb25zdCByZXN1bHRCeXRlcyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0b3RhbEJ5dGVzKTtcblxuICBsZXQgcmVzdWx0SW5kZXggPSAwO1xuICBmb3IgKGNvbnN0IGRhdGFCbG9jayBvZiBkYXRhQmxvY2tzKSB7XG4gICAgY29uc3QgY29ycmVjdGVkQnl0ZXMgPSByc0RlY29kZShkYXRhQmxvY2suY29kZXdvcmRzLCBkYXRhQmxvY2suY29kZXdvcmRzLmxlbmd0aCAtIGRhdGFCbG9jay5udW1EYXRhQ29kZXdvcmRzKTtcbiAgICBpZiAoIWNvcnJlY3RlZEJ5dGVzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhQmxvY2subnVtRGF0YUNvZGV3b3JkczsgaSsrKSB7XG4gICAgICByZXN1bHRCeXRlc1tyZXN1bHRJbmRleCsrXSA9IGNvcnJlY3RlZEJ5dGVzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZURhdGEocmVzdWx0Qnl0ZXMsIHZlcnNpb24udmVyc2lvbk51bWJlcik7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUobWF0cml4OiBCaXRNYXRyaXgpOiBEZWNvZGVkUVIge1xuICBpZiAobWF0cml4ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBkZWNvZGVNYXRyaXgobWF0cml4KTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLy8gRGVjb2RpbmcgZGlkbid0IHdvcmssIHRyeSBtaXJyb3JpbmcgdGhlIFFSIGFjcm9zcyB0aGUgdG9wTGVmdCAtPiBib3R0b21SaWdodCBsaW5lLlxuICBmb3IgKGxldCB4ID0gMDsgeCA8IG1hdHJpeC53aWR0aDsgeCsrKSB7XG4gICAgZm9yIChsZXQgeSA9IHggKyAxOyB5IDwgbWF0cml4LmhlaWdodDsgeSsrKSB7XG4gICAgICBpZiAobWF0cml4LmdldCh4LCB5KSAhPT0gbWF0cml4LmdldCh5LCB4KSkge1xuICAgICAgICBtYXRyaXguc2V0KHgsIHksICFtYXRyaXguZ2V0KHgsIHkpKTtcbiAgICAgICAgbWF0cml4LnNldCh5LCB4LCAhbWF0cml4LmdldCh5LCB4KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWNvZGVNYXRyaXgobWF0cml4KTtcbn1cbiIsICJpbXBvcnQge0JpdE1hdHJpeH0gZnJvbSBcIi4uL0JpdE1hdHJpeFwiO1xuaW1wb3J0IHtQb2ludCwgUVJMb2NhdGlvbn0gZnJvbSBcIi4uL2xvY2F0b3JcIjtcblxuaW50ZXJmYWNlIFBlcnNwZWN0aXZlVHJhbnNmb3JtIHtcbiAgYTExOiBudW1iZXI7XG4gIGEyMTogbnVtYmVyO1xuICBhMzE6IG51bWJlcjtcbiAgYTEyOiBudW1iZXI7XG4gIGEyMjogbnVtYmVyO1xuICBhMzI6IG51bWJlcjtcbiAgYTEzOiBudW1iZXI7XG4gIGEyMzogbnVtYmVyO1xuICBhMzM6IG51bWJlcjtcbn1cblxuZnVuY3Rpb24gc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHAxOiBQb2ludCwgcDI6IFBvaW50LCBwMzogUG9pbnQsIHA0OiBQb2ludCk6IFBlcnNwZWN0aXZlVHJhbnNmb3JtIHtcbiAgY29uc3QgZHgzID0gcDEueCAtIHAyLnggKyBwMy54IC0gcDQueDtcbiAgY29uc3QgZHkzID0gcDEueSAtIHAyLnkgKyBwMy55IC0gcDQueTtcbiAgaWYgKGR4MyA9PT0gMCAmJiBkeTMgPT09IDApIHsgLy8gQWZmaW5lXG4gICAgcmV0dXJuIHtcbiAgICAgIGExMTogcDIueCAtIHAxLngsXG4gICAgICBhMTI6IHAyLnkgLSBwMS55LFxuICAgICAgYTEzOiAwLFxuICAgICAgYTIxOiBwMy54IC0gcDIueCxcbiAgICAgIGEyMjogcDMueSAtIHAyLnksXG4gICAgICBhMjM6IDAsXG4gICAgICBhMzE6IHAxLngsXG4gICAgICBhMzI6IHAxLnksXG4gICAgICBhMzM6IDEsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkeDEgPSBwMi54IC0gcDMueDtcbiAgICBjb25zdCBkeDIgPSBwNC54IC0gcDMueDtcbiAgICBjb25zdCBkeTEgPSBwMi55IC0gcDMueTtcbiAgICBjb25zdCBkeTIgPSBwNC55IC0gcDMueTtcbiAgICBjb25zdCBkZW5vbWluYXRvciA9IGR4MSAqIGR5MiAtIGR4MiAqIGR5MTtcbiAgICBjb25zdCBhMTMgPSAoZHgzICogZHkyIC0gZHgyICogZHkzKSAvIGRlbm9taW5hdG9yO1xuICAgIGNvbnN0IGEyMyA9IChkeDEgKiBkeTMgLSBkeDMgKiBkeTEpIC8gZGVub21pbmF0b3I7XG4gICAgcmV0dXJuIHtcbiAgICAgIGExMTogcDIueCAtIHAxLnggKyBhMTMgKiBwMi54LFxuICAgICAgYTEyOiBwMi55IC0gcDEueSArIGExMyAqIHAyLnksXG4gICAgICBhMTMsXG4gICAgICBhMjE6IHA0LnggLSBwMS54ICsgYTIzICogcDQueCxcbiAgICAgIGEyMjogcDQueSAtIHAxLnkgKyBhMjMgKiBwNC55LFxuICAgICAgYTIzLFxuICAgICAgYTMxOiBwMS54LFxuICAgICAgYTMyOiBwMS55LFxuICAgICAgYTMzOiAxLFxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gcXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHAxOiBQb2ludCwgcDI6IFBvaW50LCBwMzogUG9pbnQsIHA0OiBQb2ludCk6IFBlcnNwZWN0aXZlVHJhbnNmb3JtIHtcbiAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOlxuICBjb25zdCBzVG9RID0gc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHAxLCBwMiwgcDMsIHA0KTtcbiAgcmV0dXJuIHtcbiAgICBhMTE6IHNUb1EuYTIyICogc1RvUS5hMzMgLSBzVG9RLmEyMyAqIHNUb1EuYTMyLFxuICAgIGExMjogc1RvUS5hMTMgKiBzVG9RLmEzMiAtIHNUb1EuYTEyICogc1RvUS5hMzMsXG4gICAgYTEzOiBzVG9RLmExMiAqIHNUb1EuYTIzIC0gc1RvUS5hMTMgKiBzVG9RLmEyMixcbiAgICBhMjE6IHNUb1EuYTIzICogc1RvUS5hMzEgLSBzVG9RLmEyMSAqIHNUb1EuYTMzLFxuICAgIGEyMjogc1RvUS5hMTEgKiBzVG9RLmEzMyAtIHNUb1EuYTEzICogc1RvUS5hMzEsXG4gICAgYTIzOiBzVG9RLmExMyAqIHNUb1EuYTIxIC0gc1RvUS5hMTEgKiBzVG9RLmEyMyxcbiAgICBhMzE6IHNUb1EuYTIxICogc1RvUS5hMzIgLSBzVG9RLmEyMiAqIHNUb1EuYTMxLFxuICAgIGEzMjogc1RvUS5hMTIgKiBzVG9RLmEzMSAtIHNUb1EuYTExICogc1RvUS5hMzIsXG4gICAgYTMzOiBzVG9RLmExMSAqIHNUb1EuYTIyIC0gc1RvUS5hMTIgKiBzVG9RLmEyMSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGltZXMoYTogUGVyc3BlY3RpdmVUcmFuc2Zvcm0sIGI6IFBlcnNwZWN0aXZlVHJhbnNmb3JtKTogUGVyc3BlY3RpdmVUcmFuc2Zvcm0ge1xuICByZXR1cm4ge1xuICAgIGExMTogYS5hMTEgKiBiLmExMSArIGEuYTIxICogYi5hMTIgKyBhLmEzMSAqIGIuYTEzLFxuICAgIGExMjogYS5hMTIgKiBiLmExMSArIGEuYTIyICogYi5hMTIgKyBhLmEzMiAqIGIuYTEzLFxuICAgIGExMzogYS5hMTMgKiBiLmExMSArIGEuYTIzICogYi5hMTIgKyBhLmEzMyAqIGIuYTEzLFxuICAgIGEyMTogYS5hMTEgKiBiLmEyMSArIGEuYTIxICogYi5hMjIgKyBhLmEzMSAqIGIuYTIzLFxuICAgIGEyMjogYS5hMTIgKiBiLmEyMSArIGEuYTIyICogYi5hMjIgKyBhLmEzMiAqIGIuYTIzLFxuICAgIGEyMzogYS5hMTMgKiBiLmEyMSArIGEuYTIzICogYi5hMjIgKyBhLmEzMyAqIGIuYTIzLFxuICAgIGEzMTogYS5hMTEgKiBiLmEzMSArIGEuYTIxICogYi5hMzIgKyBhLmEzMSAqIGIuYTMzLFxuICAgIGEzMjogYS5hMTIgKiBiLmEzMSArIGEuYTIyICogYi5hMzIgKyBhLmEzMiAqIGIuYTMzLFxuICAgIGEzMzogYS5hMTMgKiBiLmEzMSArIGEuYTIzICogYi5hMzIgKyBhLmEzMyAqIGIuYTMzLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdChpbWFnZTogQml0TWF0cml4LCBsb2NhdGlvbjogUVJMb2NhdGlvbikge1xuICBjb25zdCBxVG9TID0gcXVhZHJpbGF0ZXJhbFRvU3F1YXJlKFxuICAgIHt4OiAzLjUsIHk6IDMuNX0sXG4gICAge3g6IGxvY2F0aW9uLmRpbWVuc2lvbiAtIDMuNSwgeTogMy41fSxcbiAgICB7eDogbG9jYXRpb24uZGltZW5zaW9uIC0gNi41LCB5OiBsb2NhdGlvbi5kaW1lbnNpb24gLSA2LjV9LFxuICAgIHt4OiAzLjUsIHk6IGxvY2F0aW9uLmRpbWVuc2lvbiAtIDMuNX0sXG4gICk7XG4gIGNvbnN0IHNUb1EgPSBzcXVhcmVUb1F1YWRyaWxhdGVyYWwobG9jYXRpb24udG9wTGVmdCwgbG9jYXRpb24udG9wUmlnaHQsIGxvY2F0aW9uLmFsaWdubWVudFBhdHRlcm4sIGxvY2F0aW9uLmJvdHRvbUxlZnQpO1xuICBjb25zdCB0cmFuc2Zvcm0gPSB0aW1lcyhzVG9RLCBxVG9TKTtcblxuICBjb25zdCBtYXRyaXggPSBCaXRNYXRyaXguY3JlYXRlRW1wdHkobG9jYXRpb24uZGltZW5zaW9uLCBsb2NhdGlvbi5kaW1lbnNpb24pO1xuICBjb25zdCBtYXBwaW5nRnVuY3Rpb24gPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBkZW5vbWluYXRvciA9IHRyYW5zZm9ybS5hMTMgKiB4ICsgdHJhbnNmb3JtLmEyMyAqIHkgKyB0cmFuc2Zvcm0uYTMzO1xuICAgIHJldHVybiB7XG4gICAgICB4OiAodHJhbnNmb3JtLmExMSAqIHggKyB0cmFuc2Zvcm0uYTIxICogeSArIHRyYW5zZm9ybS5hMzEpIC8gZGVub21pbmF0b3IsXG4gICAgICB5OiAodHJhbnNmb3JtLmExMiAqIHggKyB0cmFuc2Zvcm0uYTIyICogeSArIHRyYW5zZm9ybS5hMzIpIC8gZGVub21pbmF0b3IsXG4gICAgfTtcbiAgfTtcblxuICBmb3IgKGxldCB5ID0gMDsgeSA8IGxvY2F0aW9uLmRpbWVuc2lvbjsgeSsrKSB7XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCBsb2NhdGlvbi5kaW1lbnNpb247IHgrKykge1xuICAgICAgY29uc3QgeFZhbHVlID0geCArIDAuNTtcbiAgICAgIGNvbnN0IHlWYWx1ZSA9IHkgKyAwLjU7XG4gICAgICBjb25zdCBzb3VyY2VQaXhlbCA9IG1hcHBpbmdGdW5jdGlvbih4VmFsdWUsIHlWYWx1ZSk7XG4gICAgICBtYXRyaXguc2V0KHgsIHksIGltYWdlLmdldChNYXRoLmZsb29yKHNvdXJjZVBpeGVsLngpLCBNYXRoLmZsb29yKHNvdXJjZVBpeGVsLnkpKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtYXRyaXgsXG4gICAgbWFwcGluZ0Z1bmN0aW9uLFxuICB9O1xufVxuIiwgImltcG9ydCB7IEJpdE1hdHJpeCB9IGZyb20gXCIuLi9CaXRNYXRyaXhcIjtcblxuY29uc3QgTUFYX0ZJTkRFUlBBVFRFUk5TX1RPX1NFQVJDSCA9IDU7XG5jb25zdCBNSU5fUVVBRF9SQVRJTyA9IDAuNTtcbmNvbnN0IE1BWF9RVUFEX1JBVElPID0gMS41O1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMb2NhdGlvbiB7XG4gIHRvcFJpZ2h0OiBQb2ludDtcbiAgYm90dG9tTGVmdDogUG9pbnQ7XG4gIHRvcExlZnQ6IFBvaW50O1xuICBhbGlnbm1lbnRQYXR0ZXJuOiBQb2ludDtcbiAgZGltZW5zaW9uOiBudW1iZXI7XG59XG5cbmNvbnN0IGRpc3RhbmNlID0gKGE6IFBvaW50LCBiOiBQb2ludCkgPT4gTWF0aC5zcXJ0KChiLnggLSBhLngpICoqIDIgKyAoYi55IC0gYS55KSAqKiAyKTtcblxuZnVuY3Rpb24gc3VtKHZhbHVlczogbnVtYmVyW10pIHtcbiAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKTtcbn1cblxuLy8gVGFrZXMgdGhyZWUgZmluZGVyIHBhdHRlcm5zIGFuZCBvcmdhbml6ZXMgdGhlbSBpbnRvIHRvcExlZnQsIHRvcFJpZ2h0LCBldGNcbmZ1bmN0aW9uIHJlb3JkZXJGaW5kZXJQYXR0ZXJucyhwYXR0ZXJuMTogUG9pbnQsIHBhdHRlcm4yOiBQb2ludCwgcGF0dGVybjM6IFBvaW50KSB7XG4gIC8vIEZpbmQgZGlzdGFuY2VzIGJldHdlZW4gcGF0dGVybiBjZW50ZXJzXG4gIGNvbnN0IG9uZVR3b0Rpc3RhbmNlID0gZGlzdGFuY2UocGF0dGVybjEsIHBhdHRlcm4yKTtcbiAgY29uc3QgdHdvVGhyZWVEaXN0YW5jZSA9IGRpc3RhbmNlKHBhdHRlcm4yLCBwYXR0ZXJuMyk7XG4gIGNvbnN0IG9uZVRocmVlRGlzdGFuY2UgPSBkaXN0YW5jZShwYXR0ZXJuMSwgcGF0dGVybjMpO1xuXG4gIGxldCBib3R0b21MZWZ0OiBQb2ludDtcbiAgbGV0IHRvcExlZnQ6IFBvaW50O1xuICBsZXQgdG9wUmlnaHQ6IFBvaW50O1xuXG4gIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdFxuICBpZiAodHdvVGhyZWVEaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB0d29UaHJlZURpc3RhbmNlID49IG9uZVRocmVlRGlzdGFuY2UpIHtcbiAgICBbYm90dG9tTGVmdCwgdG9wTGVmdCwgdG9wUmlnaHRdID0gW3BhdHRlcm4yLCBwYXR0ZXJuMSwgcGF0dGVybjNdO1xuICB9IGVsc2UgaWYgKG9uZVRocmVlRGlzdGFuY2UgPj0gdHdvVGhyZWVEaXN0YW5jZSAmJiBvbmVUaHJlZURpc3RhbmNlID49IG9uZVR3b0Rpc3RhbmNlKSB7XG4gICAgW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XSA9IFtwYXR0ZXJuMSwgcGF0dGVybjIsIHBhdHRlcm4zXTtcbiAgfSBlbHNlIHtcbiAgICBbYm90dG9tTGVmdCwgdG9wTGVmdCwgdG9wUmlnaHRdID0gW3BhdHRlcm4xLCBwYXR0ZXJuMywgcGF0dGVybjJdO1xuICB9XG5cbiAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIGJvdHRvbUxlZnQgKEEpIGFuZCB0b3BSaWdodCAoQykgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZCBpbiByZWxhdGlvbiB0byB0b3BMZWZ0IChCKVxuICAvLyBUaGlzIGFza3Mgd2hldGhlciBCQyB4IEJBIGhhcyBhIHBvc2l0aXZlIHogY29tcG9uZW50LCB3aGljaCBpcyB0aGUgYXJyYW5nZW1lbnQgd2Ugd2FudC4gSWYgaXQncyBuZWdhdGl2ZSwgdGhlblxuICAvLyB3ZSd2ZSBnb3QgaXQgZmxpcHBlZCBhcm91bmQgYW5kIHNob3VsZCBzd2FwIHRvcFJpZ2h0IGFuZCBib3R0b21MZWZ0LlxuICBpZiAoKCh0b3BSaWdodC54IC0gdG9wTGVmdC54KSAqIChib3R0b21MZWZ0LnkgLSB0b3BMZWZ0LnkpKSAtICgodG9wUmlnaHQueSAtIHRvcExlZnQueSkgKiAoYm90dG9tTGVmdC54IC0gdG9wTGVmdC54KSkgPCAwKSB7XG4gICAgW2JvdHRvbUxlZnQsIHRvcFJpZ2h0XSA9IFt0b3BSaWdodCwgYm90dG9tTGVmdF07XG4gIH1cblxuICByZXR1cm4geyBib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCB9O1xufVxuXG4vLyBDb21wdXRlcyB0aGUgZGltZW5zaW9uIChudW1iZXIgb2YgbW9kdWxlcyBvbiBhIHNpZGUpIG9mIHRoZSBRUiBDb2RlIGJhc2VkIG9uIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmluZGVyIHBhdHRlcm5zXG5mdW5jdGlvbiBjb21wdXRlRGltZW5zaW9uKHRvcExlZnQ6IFBvaW50LCB0b3BSaWdodDogUG9pbnQsIGJvdHRvbUxlZnQ6IFBvaW50LCBtYXRyaXg6IEJpdE1hdHJpeCkge1xuICBjb25zdCBtb2R1bGVTaXplID0gKFxuICAgIHN1bShjb3VudEJsYWNrV2hpdGVSdW4odG9wTGVmdCwgYm90dG9tTGVmdCwgbWF0cml4LCA1KSkgLyA3ICsgLy8gRGl2aWRlIGJ5IDcgc2luY2UgdGhlIHJhdGlvIGlzIDE6MTozOjE6MVxuICAgIHN1bShjb3VudEJsYWNrV2hpdGVSdW4odG9wTGVmdCwgdG9wUmlnaHQsIG1hdHJpeCwgNSkpIC8gNyArXG4gICAgc3VtKGNvdW50QmxhY2tXaGl0ZVJ1bihib3R0b21MZWZ0LCB0b3BMZWZ0LCBtYXRyaXgsIDUpKSAvIDcgK1xuICAgIHN1bShjb3VudEJsYWNrV2hpdGVSdW4odG9wUmlnaHQsIHRvcExlZnQsIG1hdHJpeCwgNSkpIC8gN1xuICApIC8gNDtcblxuICBpZiAobW9kdWxlU2l6ZSA8IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG1vZHVsZSBzaXplXCIpO1xuICB9XG5cbiAgY29uc3QgdG9wRGltZW5zaW9uID0gTWF0aC5yb3VuZChkaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTtcbiAgY29uc3Qgc2lkZURpbWVuc2lvbiA9IE1hdGgucm91bmQoZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTtcbiAgbGV0IGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRvcERpbWVuc2lvbiArIHNpZGVEaW1lbnNpb24pIC8gMikgKyA3O1xuICBzd2l0Y2ggKGRpbWVuc2lvbiAlIDQpIHtcbiAgICBjYXNlIDA6XG4gICAgICBkaW1lbnNpb24rKztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGRpbWVuc2lvbi0tO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHsgZGltZW5zaW9uLCBtb2R1bGVTaXplIH07XG59XG5cbi8vIFRha2VzIGFuIG9yaWdpbiBwb2ludCBhbmQgYW4gZW5kIHBvaW50IGFuZCBjb3VudHMgdGhlIHNpemVzIG9mIHRoZSBibGFjayB3aGl0ZSBydW4gZnJvbSB0aGUgb3JpZ2luIHRvd2FyZHMgdGhlIGVuZCBwb2ludC5cbi8vIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHJlcHJlc2VudGluZyB0aGUgcGl4ZWwgc2l6ZSBvZiB0aGUgYmxhY2sgd2hpdGUgcnVuLlxuLy8gVXNlcyBhIHZhcmlhbnQgb2YgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CcmVzZW5oYW0nc19saW5lX2FsZ29yaXRobVxuZnVuY3Rpb24gY291bnRCbGFja1doaXRlUnVuVG93YXJkc1BvaW50KG9yaWdpbjogUG9pbnQsIGVuZDogUG9pbnQsIG1hdHJpeDogQml0TWF0cml4LCBsZW5ndGg6IG51bWJlcikge1xuICBjb25zdCBzd2l0Y2hQb2ludHM6IFBvaW50W10gPSBbe3g6IE1hdGguZmxvb3Iob3JpZ2luLngpLCB5OiBNYXRoLmZsb29yKG9yaWdpbi55KX1dO1xuICBjb25zdCBzdGVlcCA9IE1hdGguYWJzKGVuZC55IC0gb3JpZ2luLnkpID4gTWF0aC5hYnMoZW5kLnggLSBvcmlnaW4ueCk7XG5cbiAgbGV0IGZyb21YOiBudW1iZXI7XG4gIGxldCBmcm9tWTogbnVtYmVyO1xuICBsZXQgdG9YOiBudW1iZXI7XG4gIGxldCB0b1k6IG51bWJlcjtcbiAgaWYgKHN0ZWVwKSB7XG4gICAgZnJvbVggPSBNYXRoLmZsb29yKG9yaWdpbi55KTtcbiAgICBmcm9tWSA9IE1hdGguZmxvb3Iob3JpZ2luLngpO1xuICAgIHRvWCA9IE1hdGguZmxvb3IoZW5kLnkpO1xuICAgIHRvWSA9IE1hdGguZmxvb3IoZW5kLngpO1xuICB9IGVsc2Uge1xuICAgIGZyb21YID0gTWF0aC5mbG9vcihvcmlnaW4ueCk7XG4gICAgZnJvbVkgPSBNYXRoLmZsb29yKG9yaWdpbi55KTtcbiAgICB0b1ggPSBNYXRoLmZsb29yKGVuZC54KTtcbiAgICB0b1kgPSBNYXRoLmZsb29yKGVuZC55KTtcbiAgfVxuXG4gIGNvbnN0IGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpO1xuICBjb25zdCBkeSA9IE1hdGguYWJzKHRvWSAtIGZyb21ZKTtcbiAgbGV0IGVycm9yID0gTWF0aC5mbG9vcigtZHggLyAyKTtcbiAgY29uc3QgeFN0ZXAgPSBmcm9tWCA8IHRvWCA/IDEgOiAtMTtcbiAgY29uc3QgeVN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTtcblxuICBsZXQgY3VycmVudFBpeGVsID0gdHJ1ZTtcbiAgLy8gTG9vcCB1cCB1bnRpbCB4ID09IHRvWCwgYnV0IG5vdCBiZXlvbmRcbiAgZm9yIChsZXQgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHRvWCArIHhTdGVwOyB4ICs9IHhTdGVwKSB7XG4gICAgLy8gRG9lcyBjdXJyZW50IHBpeGVsIG1lYW4gd2UgaGF2ZSBtb3ZlZCB3aGl0ZSB0byBibGFjayBvciB2aWNlIHZlcnNhP1xuICAgIC8vIFNjYW5uaW5nIGJsYWNrIGluIHN0YXRlIDAsMiBhbmQgd2hpdGUgaW4gc3RhdGUgMSwgc28gaWYgd2UgZmluZCB0aGUgd3JvbmdcbiAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5XG4gICAgY29uc3QgcmVhbFggPSBzdGVlcCA/IHkgOiB4O1xuICAgIGNvbnN0IHJlYWxZID0gc3RlZXAgPyB4IDogeTtcbiAgICBpZiAobWF0cml4LmdldChyZWFsWCwgcmVhbFkpICE9PSBjdXJyZW50UGl4ZWwpIHtcbiAgICAgIGN1cnJlbnRQaXhlbCA9ICFjdXJyZW50UGl4ZWw7XG4gICAgICBzd2l0Y2hQb2ludHMucHVzaCh7eDogcmVhbFgsIHk6IHJlYWxZfSk7XG4gICAgICBpZiAoc3dpdGNoUG9pbnRzLmxlbmd0aCA9PT0gbGVuZ3RoICsgMSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZXJyb3IgKz0gZHk7XG4gICAgaWYgKGVycm9yID4gMCkge1xuICAgICAgaWYgKHkgPT09IHRvWSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHkgKz0geVN0ZXA7XG4gICAgICBlcnJvciAtPSBkeDtcbiAgICB9XG4gIH1cbiAgY29uc3QgZGlzdGFuY2VzOiBudW1iZXJbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN3aXRjaFBvaW50c1tpXSAmJiBzd2l0Y2hQb2ludHNbaSArIDFdKSB7XG4gICAgICBkaXN0YW5jZXMucHVzaChkaXN0YW5jZShzd2l0Y2hQb2ludHNbaV0sIHN3aXRjaFBvaW50c1tpICsgMV0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzdGFuY2VzLnB1c2goMCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkaXN0YW5jZXM7XG59XG5cbi8vIFRha2VzIGFuIG9yaWdpbiBwb2ludCBhbmQgYW4gZW5kIHBvaW50IGFuZCBjb3VudHMgdGhlIHNpemVzIG9mIHRoZSBibGFjayB3aGl0ZSBydW4gaW4gdGhlIG9yaWdpbiBwb2ludFxuLy8gYWxvbmcgdGhlIGxpbmUgdGhhdCBpbnRlcnNlY3RzIHdpdGggdGhlIGVuZCBwb2ludC4gUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cywgcmVwcmVzZW50aW5nIHRoZSBwaXhlbCBzaXplc1xuLy8gb2YgdGhlIGJsYWNrIHdoaXRlIHJ1bi4gVGFrZXMgYSBsZW5ndGggd2hpY2ggcmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIHN3aXRjaGVzIGZyb20gYmxhY2sgdG8gd2hpdGUgdG8gbG9vayBmb3IuXG5mdW5jdGlvbiBjb3VudEJsYWNrV2hpdGVSdW4ob3JpZ2luOiBQb2ludCwgZW5kOiBQb2ludCwgbWF0cml4OiBCaXRNYXRyaXgsIGxlbmd0aDogbnVtYmVyKSB7XG4gIGNvbnN0IHJpc2UgPSBlbmQueSAtIG9yaWdpbi55O1xuICBjb25zdCBydW4gPSBlbmQueCAtIG9yaWdpbi54O1xuXG4gIGNvbnN0IHRvd2FyZHNFbmQgPSBjb3VudEJsYWNrV2hpdGVSdW5Ub3dhcmRzUG9pbnQob3JpZ2luLCBlbmQsIG1hdHJpeCwgTWF0aC5jZWlsKGxlbmd0aCAvIDIpKTtcbiAgY29uc3QgYXdheUZyb21FbmQgPSBjb3VudEJsYWNrV2hpdGVSdW5Ub3dhcmRzUG9pbnQob3JpZ2luLCB7eDogb3JpZ2luLnggLSBydW4sIHk6IG9yaWdpbi55IC0gcmlzZX0sIG1hdHJpeCwgTWF0aC5jZWlsKGxlbmd0aCAvIDIpKTtcblxuICBjb25zdCBtaWRkbGVWYWx1ZSA9IHRvd2FyZHNFbmQuc2hpZnQoKSArIGF3YXlGcm9tRW5kLnNoaWZ0KCkgLSAxOyAvLyBTdWJzdHJhY3Qgb25lIHNvIHdlIGRvbid0IGRvdWJsZSBjb3VudCBhIHBpeGVsXG4gIHJldHVybiBhd2F5RnJvbUVuZC5jb25jYXQobWlkZGxlVmFsdWUpLmNvbmNhdCguLi50b3dhcmRzRW5kKTtcbn1cblxuLy8gVGFrZXMgaW4gYSBibGFjayB3aGl0ZSBydW4gYW5kIGFuIGFycmF5IG9mIGV4cGVjdGVkIHJhdGlvcy4gUmV0dXJucyB0aGUgYXZlcmFnZSBzaXplIG9mIHRoZSBydW4gYXMgd2VsbCBhcyB0aGUgXCJlcnJvclwiIC1cbi8vIHRoYXQgaXMgdGhlIGFtb3VudCB0aGUgcnVuIGRpdmVyZ2VzIGZyb20gdGhlIGV4cGVjdGVkIHJhdGlvXG5mdW5jdGlvbiBzY29yZUJsYWNrV2hpdGVSdW4oc2VxdWVuY2U6IG51bWJlcltdLCByYXRpb3M6IG51bWJlcltdKSB7XG4gIGNvbnN0IGF2ZXJhZ2VTaXplID0gc3VtKHNlcXVlbmNlKSAvIHN1bShyYXRpb3MpO1xuICBsZXQgZXJyb3IgPSAwO1xuICByYXRpb3MuZm9yRWFjaCgocmF0aW8sIGkpID0+IHtcbiAgICBlcnJvciArPSAoc2VxdWVuY2VbaV0gLSByYXRpbyAqIGF2ZXJhZ2VTaXplKSAqKiAyO1xuICB9KTtcblxuICByZXR1cm4geyBhdmVyYWdlU2l6ZSwgZXJyb3IgfTtcbn1cblxuLy8gVGFrZXMgYW4gWCxZIHBvaW50IGFuZCBhbiBhcnJheSBvZiBzaXplcyBhbmQgc2NvcmVzIHRoZSBwb2ludCBhZ2FpbnN0IHRob3NlIHJhdGlvcy5cbi8vIEZvciBleGFtcGxlIGZvciBhIGZpbmRlciBwYXR0ZXJuIHRha2VzIHRoZSByYXRpbyBsaXN0IG9mIDE6MTozOjE6MSBhbmQgY2hlY2tzIGhvcml6b250YWwsIHZlcnRpY2FsIGFuZCBkaWFnb25hbCByYXRpb3Ncbi8vIGFnYWluc3QgdGhhdC5cbmZ1bmN0aW9uIHNjb3JlUGF0dGVybihwb2ludDogUG9pbnQsIHJhdGlvczogbnVtYmVyW10sIG1hdHJpeDogQml0TWF0cml4KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgaG9yaXpvbnRhbFJ1biA9IGNvdW50QmxhY2tXaGl0ZVJ1bihwb2ludCwge3g6IC0xLCB5OiBwb2ludC55fSwgbWF0cml4LCByYXRpb3MubGVuZ3RoKTtcbiAgICBjb25zdCB2ZXJ0aWNhbFJ1biA9IGNvdW50QmxhY2tXaGl0ZVJ1bihwb2ludCwge3g6IHBvaW50LngsIHk6IC0xfSwgbWF0cml4LCByYXRpb3MubGVuZ3RoKTtcblxuICAgIGNvbnN0IHRvcExlZnRQb2ludCA9IHtcbiAgICAgIHg6IE1hdGgubWF4KDAsIHBvaW50LnggLSBwb2ludC55KSAtIDEsXG4gICAgICB5OiBNYXRoLm1heCgwLCBwb2ludC55IC0gcG9pbnQueCkgLSAxLFxuICAgIH07XG4gICAgY29uc3QgdG9wTGVmdEJvdHRvbVJpZ2h0UnVuID0gY291bnRCbGFja1doaXRlUnVuKHBvaW50LCB0b3BMZWZ0UG9pbnQsIG1hdHJpeCwgcmF0aW9zLmxlbmd0aCk7XG5cbiAgICBjb25zdCBib3R0b21MZWZ0UG9pbnQgPSB7XG4gICAgICB4OiBNYXRoLm1pbihtYXRyaXgud2lkdGgsIHBvaW50LnggKyBwb2ludC55KSArIDEsXG4gICAgICB5OiBNYXRoLm1pbihtYXRyaXguaGVpZ2h0LCBwb2ludC55ICsgcG9pbnQueCkgKyAxLFxuICAgIH07XG4gICAgY29uc3QgYm90dG9tTGVmdFRvcFJpZ2h0UnVuID0gY291bnRCbGFja1doaXRlUnVuKHBvaW50LCBib3R0b21MZWZ0UG9pbnQsIG1hdHJpeCwgcmF0aW9zLmxlbmd0aCk7XG5cbiAgICBjb25zdCBob3J6RXJyb3IgPSBzY29yZUJsYWNrV2hpdGVSdW4oaG9yaXpvbnRhbFJ1biwgcmF0aW9zKTtcbiAgICBjb25zdCB2ZXJ0RXJyb3IgPSBzY29yZUJsYWNrV2hpdGVSdW4odmVydGljYWxSdW4sIHJhdGlvcyk7XG4gICAgY29uc3QgZGlhZ0Rvd25FcnJvciA9IHNjb3JlQmxhY2tXaGl0ZVJ1bih0b3BMZWZ0Qm90dG9tUmlnaHRSdW4sIHJhdGlvcyk7XG4gICAgY29uc3QgZGlhZ1VwRXJyb3IgPSBzY29yZUJsYWNrV2hpdGVSdW4oYm90dG9tTGVmdFRvcFJpZ2h0UnVuLCByYXRpb3MpO1xuXG4gICAgY29uc3QgcmF0aW9FcnJvciA9IE1hdGguc3FydChob3J6RXJyb3IuZXJyb3IgKiBob3J6RXJyb3IuZXJyb3IgK1xuICAgICAgdmVydEVycm9yLmVycm9yICogdmVydEVycm9yLmVycm9yICtcbiAgICAgIGRpYWdEb3duRXJyb3IuZXJyb3IgKiBkaWFnRG93bkVycm9yLmVycm9yICtcbiAgICAgIGRpYWdVcEVycm9yLmVycm9yICogZGlhZ1VwRXJyb3IuZXJyb3IpO1xuXG4gICAgY29uc3QgYXZnU2l6ZSA9IChob3J6RXJyb3IuYXZlcmFnZVNpemUgKyB2ZXJ0RXJyb3IuYXZlcmFnZVNpemUgKyBkaWFnRG93bkVycm9yLmF2ZXJhZ2VTaXplICsgZGlhZ1VwRXJyb3IuYXZlcmFnZVNpemUpIC8gNDtcblxuICAgIGNvbnN0IHNpemVFcnJvciA9ICgoaG9yekVycm9yLmF2ZXJhZ2VTaXplIC0gYXZnU2l6ZSkgKiogMiArXG4gICAgICAodmVydEVycm9yLmF2ZXJhZ2VTaXplIC0gYXZnU2l6ZSkgKiogMiArXG4gICAgICAoZGlhZ0Rvd25FcnJvci5hdmVyYWdlU2l6ZSAtIGF2Z1NpemUpICoqIDIgK1xuICAgICAgKGRpYWdVcEVycm9yLmF2ZXJhZ2VTaXplIC0gYXZnU2l6ZSkgKiogMikgLyBhdmdTaXplO1xuICAgIHJldHVybiByYXRpb0Vycm9yICsgc2l6ZUVycm9yO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gSW5maW5pdHk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjZW50ZXJMb2NhdGlvbihtYXRyaXg6IEJpdE1hdHJpeCwgcDogUG9pbnQpOiBQb2ludCB7XG4gIGxldCBsZWZ0WCA9IE1hdGgucm91bmQocC54KTtcbiAgd2hpbGUgKG1hdHJpeC5nZXQobGVmdFgsIE1hdGgucm91bmQocC55KSkpIHtcbiAgICBsZWZ0WC0tO1xuICB9XG4gIGxldCByaWdodFggPSBNYXRoLnJvdW5kKHAueCk7XG4gIHdoaWxlIChtYXRyaXguZ2V0KHJpZ2h0WCwgTWF0aC5yb3VuZChwLnkpKSkge1xuICAgIHJpZ2h0WCsrO1xuICB9XG4gIGNvbnN0IHggPSAobGVmdFggKyByaWdodFgpIC8gMjtcblxuICBsZXQgdG9wWSA9IE1hdGgucm91bmQocC55KTtcbiAgd2hpbGUgKG1hdHJpeC5nZXQoTWF0aC5yb3VuZCh4KSwgdG9wWSkpIHtcbiAgICB0b3BZLS07XG4gIH1cbiAgbGV0IGJvdHRvbVkgPSBNYXRoLnJvdW5kKHAueSk7XG4gIHdoaWxlIChtYXRyaXguZ2V0KE1hdGgucm91bmQoeCksIGJvdHRvbVkpKSB7XG4gICAgYm90dG9tWSsrO1xuICB9XG4gIGNvbnN0IHkgPSAodG9wWSArIGJvdHRvbVkpIC8gMjtcblxuICByZXR1cm4geyB4LCB5IH07XG59XG5cbmludGVyZmFjZSBRdWFkIHtcbiAgdG9wOiB7XG4gICAgc3RhcnRYOiBudW1iZXI7XG4gICAgZW5kWDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgfTtcbiAgYm90dG9tOiB7XG4gICAgc3RhcnRYOiBudW1iZXI7XG4gICAgZW5kWDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvY2F0ZShtYXRyaXg6IEJpdE1hdHJpeCk6IFFSTG9jYXRpb25bXSB7XG4gIGNvbnN0IGZpbmRlclBhdHRlcm5RdWFkczogUXVhZFtdID0gW107XG4gIGxldCBhY3RpdmVGaW5kZXJQYXR0ZXJuUXVhZHM6IFF1YWRbXSA9IFtdO1xuICBjb25zdCBhbGlnbm1lbnRQYXR0ZXJuUXVhZHM6IFF1YWRbXSA9IFtdO1xuICBsZXQgYWN0aXZlQWxpZ25tZW50UGF0dGVyblF1YWRzOiBRdWFkW10gPSBbXTtcblxuICBmb3IgKGxldCB5ID0gMDsgeSA8PSBtYXRyaXguaGVpZ2h0OyB5KyspIHtcbiAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICBsZXQgbGFzdEJpdCA9IGZhbHNlO1xuICAgIGxldCBzY2FucyA9IFswLCAwLCAwLCAwLCAwXTtcblxuICAgIGZvciAobGV0IHggPSAtMTsgeCA8PSBtYXRyaXgud2lkdGg7IHgrKykge1xuICAgICAgY29uc3QgdiA9IG1hdHJpeC5nZXQoeCwgeSk7XG4gICAgICBpZiAodiA9PT0gbGFzdEJpdCkge1xuICAgICAgICBsZW5ndGgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjYW5zID0gW3NjYW5zWzFdLCBzY2Fuc1syXSwgc2NhbnNbM10sIHNjYW5zWzRdLCBsZW5ndGhdO1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBsYXN0Qml0ID0gdjtcblxuICAgICAgICAvLyBEbyB0aGUgbGFzdCA1IGNvbG9yIGNoYW5nZXMgfiBtYXRjaCB0aGUgZXhwZWN0ZWQgcmF0aW8gZm9yIGEgZmluZGVyIHBhdHRlcm4/IDE6MTozOjE6MSBvZiBiOnc6Yjp3OmJcbiAgICAgICAgY29uc3QgYXZlcmFnZUZpbmRlclBhdHRlcm5CbG9ja3NpemUgPSBzdW0oc2NhbnMpIC8gNztcbiAgICAgICAgY29uc3QgdmFsaWRGaW5kZXJQYXR0ZXJuID1cbiAgICAgICAgICBNYXRoLmFicyhzY2Fuc1swXSAtIGF2ZXJhZ2VGaW5kZXJQYXR0ZXJuQmxvY2tzaXplKSA8IGF2ZXJhZ2VGaW5kZXJQYXR0ZXJuQmxvY2tzaXplICYmXG4gICAgICAgICAgTWF0aC5hYnMoc2NhbnNbMV0gLSBhdmVyYWdlRmluZGVyUGF0dGVybkJsb2Nrc2l6ZSkgPCBhdmVyYWdlRmluZGVyUGF0dGVybkJsb2Nrc2l6ZSAmJlxuICAgICAgICAgIE1hdGguYWJzKHNjYW5zWzJdIC0gMyAqIGF2ZXJhZ2VGaW5kZXJQYXR0ZXJuQmxvY2tzaXplKSA8IDMgKiBhdmVyYWdlRmluZGVyUGF0dGVybkJsb2Nrc2l6ZSAmJlxuICAgICAgICAgIE1hdGguYWJzKHNjYW5zWzNdIC0gYXZlcmFnZUZpbmRlclBhdHRlcm5CbG9ja3NpemUpIDwgYXZlcmFnZUZpbmRlclBhdHRlcm5CbG9ja3NpemUgJiZcbiAgICAgICAgICBNYXRoLmFicyhzY2Fuc1s0XSAtIGF2ZXJhZ2VGaW5kZXJQYXR0ZXJuQmxvY2tzaXplKSA8IGF2ZXJhZ2VGaW5kZXJQYXR0ZXJuQmxvY2tzaXplICYmXG4gICAgICAgICAgIXY7IC8vIEFuZCBtYWtlIHN1cmUgdGhlIGN1cnJlbnQgcGl4ZWwgaXMgd2hpdGUgc2luY2UgZmluZGVyIHBhdHRlcm5zIGFyZSBib3JkZXJlZCBpbiB3aGl0ZVxuXG4gICAgICAgIC8vIERvIHRoZSBsYXN0IDMgY29sb3IgY2hhbmdlcyB+IG1hdGNoIHRoZSBleHBlY3RlZCByYXRpbyBmb3IgYW4gYWxpZ25tZW50IHBhdHRlcm4/IDE6MToxIG9mIHc6Yjp3XG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VBbGlnbm1lbnRQYXR0ZXJuQmxvY2tzaXplID0gc3VtKHNjYW5zLnNsaWNlKC0zKSkgLyAzO1xuICAgICAgICBjb25zdCB2YWxpZEFsaWdubWVudFBhdHRlcm4gPVxuICAgICAgICAgIE1hdGguYWJzKHNjYW5zWzJdIC0gYXZlcmFnZUFsaWdubWVudFBhdHRlcm5CbG9ja3NpemUpIDwgYXZlcmFnZUFsaWdubWVudFBhdHRlcm5CbG9ja3NpemUgJiZcbiAgICAgICAgICBNYXRoLmFicyhzY2Fuc1szXSAtIGF2ZXJhZ2VBbGlnbm1lbnRQYXR0ZXJuQmxvY2tzaXplKSA8IGF2ZXJhZ2VBbGlnbm1lbnRQYXR0ZXJuQmxvY2tzaXplICYmXG4gICAgICAgICAgTWF0aC5hYnMoc2NhbnNbNF0gLSBhdmVyYWdlQWxpZ25tZW50UGF0dGVybkJsb2Nrc2l6ZSkgPCBhdmVyYWdlQWxpZ25tZW50UGF0dGVybkJsb2Nrc2l6ZSAmJlxuICAgICAgICAgIHY7IC8vIElzIHRoZSBjdXJyZW50IHBpeGVsIGJsYWNrIHNpbmNlIGFsaWdubWVudCBwYXR0ZXJucyBhcmUgYm9yZGVyZWQgaW4gYmxhY2tcblxuICAgICAgICBpZiAodmFsaWRGaW5kZXJQYXR0ZXJuKSB7XG4gICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgc3RhcnQgYW5kIGVuZCB4IHZhbHVlcyBvZiB0aGUgbGFyZ2UgY2VudGVyIGJsYWNrIHNxdWFyZVxuICAgICAgICAgIGNvbnN0IGVuZFggPSB4IC0gc2NhbnNbM10gLSBzY2Fuc1s0XTtcbiAgICAgICAgICBjb25zdCBzdGFydFggPSBlbmRYIC0gc2NhbnNbMl07XG5cbiAgICAgICAgICBjb25zdCBsaW5lID0geyBzdGFydFgsIGVuZFgsIHkgfTtcbiAgICAgICAgICAvLyBJcyB0aGVyZSBhIHF1YWQgZGlyZWN0bHkgYWJvdmUgdGhlIGN1cnJlbnQgc3BvdD8gSWYgc28sIGV4dGVuZCBpdCB3aXRoIHRoZSBuZXcgbGluZS4gT3RoZXJ3aXNlLCBjcmVhdGUgYSBuZXcgcXVhZCB3aXRoXG4gICAgICAgICAgLy8gdGhhdCBsaW5lIGFzIHRoZSBzdGFydGluZyBwb2ludC5cbiAgICAgICAgICBjb25zdCBtYXRjaGluZ1F1YWRzID0gYWN0aXZlRmluZGVyUGF0dGVyblF1YWRzLmZpbHRlcihxID0+XG4gICAgICAgICAgICAoc3RhcnRYID49IHEuYm90dG9tLnN0YXJ0WCAmJiBzdGFydFggPD0gcS5ib3R0b20uZW5kWCkgfHxcbiAgICAgICAgICAgIChlbmRYID49IHEuYm90dG9tLnN0YXJ0WCAmJiBzdGFydFggPD0gcS5ib3R0b20uZW5kWCkgfHxcbiAgICAgICAgICAgIChzdGFydFggPD0gcS5ib3R0b20uc3RhcnRYICYmIGVuZFggPj0gcS5ib3R0b20uZW5kWCAmJiAoXG4gICAgICAgICAgICAgIChzY2Fuc1syXSAvIChxLmJvdHRvbS5lbmRYIC0gcS5ib3R0b20uc3RhcnRYKSkgPCBNQVhfUVVBRF9SQVRJTyAmJlxuICAgICAgICAgICAgICAoc2NhbnNbMl0gLyAocS5ib3R0b20uZW5kWCAtIHEuYm90dG9tLnN0YXJ0WCkpID4gTUlOX1FVQURfUkFUSU9cbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG1hdGNoaW5nUXVhZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbWF0Y2hpbmdRdWFkc1swXS5ib3R0b20gPSBsaW5lO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVGaW5kZXJQYXR0ZXJuUXVhZHMucHVzaCh7IHRvcDogbGluZSwgYm90dG9tOiBsaW5lIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRBbGlnbm1lbnRQYXR0ZXJuKSB7XG4gICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgc3RhcnQgYW5kIGVuZCB4IHZhbHVlcyBvZiB0aGUgY2VudGVyIGJsYWNrIHNxdWFyZVxuICAgICAgICAgIGNvbnN0IGVuZFggPSB4IC0gc2NhbnNbNF07XG4gICAgICAgICAgY29uc3Qgc3RhcnRYID0gZW5kWCAtIHNjYW5zWzNdO1xuXG4gICAgICAgICAgY29uc3QgbGluZSA9IHsgc3RhcnRYLCB5LCBlbmRYIH07XG4gICAgICAgICAgLy8gSXMgdGhlcmUgYSBxdWFkIGRpcmVjdGx5IGFib3ZlIHRoZSBjdXJyZW50IHNwb3Q/IElmIHNvLCBleHRlbmQgaXQgd2l0aCB0aGUgbmV3IGxpbmUuIE90aGVyd2lzZSwgY3JlYXRlIGEgbmV3IHF1YWQgd2l0aFxuICAgICAgICAgIC8vIHRoYXQgbGluZSBhcyB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gICAgICAgICAgY29uc3QgbWF0Y2hpbmdRdWFkcyA9IGFjdGl2ZUFsaWdubWVudFBhdHRlcm5RdWFkcy5maWx0ZXIocSA9PlxuICAgICAgICAgICAgKHN0YXJ0WCA+PSBxLmJvdHRvbS5zdGFydFggJiYgc3RhcnRYIDw9IHEuYm90dG9tLmVuZFgpIHx8XG4gICAgICAgICAgICAoZW5kWCA+PSBxLmJvdHRvbS5zdGFydFggJiYgc3RhcnRYIDw9IHEuYm90dG9tLmVuZFgpIHx8XG4gICAgICAgICAgICAoc3RhcnRYIDw9IHEuYm90dG9tLnN0YXJ0WCAmJiBlbmRYID49IHEuYm90dG9tLmVuZFggJiYgKFxuICAgICAgICAgICAgICAoc2NhbnNbMl0gLyAocS5ib3R0b20uZW5kWCAtIHEuYm90dG9tLnN0YXJ0WCkpIDwgTUFYX1FVQURfUkFUSU8gJiZcbiAgICAgICAgICAgICAgKHNjYW5zWzJdIC8gKHEuYm90dG9tLmVuZFggLSBxLmJvdHRvbS5zdGFydFgpKSA+IE1JTl9RVUFEX1JBVElPXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChtYXRjaGluZ1F1YWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1hdGNoaW5nUXVhZHNbMF0uYm90dG9tID0gbGluZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlQWxpZ25tZW50UGF0dGVyblF1YWRzLnB1c2goeyB0b3A6IGxpbmUsIGJvdHRvbTogbGluZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZmluZGVyUGF0dGVyblF1YWRzLnB1c2goLi4uYWN0aXZlRmluZGVyUGF0dGVyblF1YWRzLmZpbHRlcihxID0+IHEuYm90dG9tLnkgIT09IHkgJiYgcS5ib3R0b20ueSAtIHEudG9wLnkgPj0gMikpO1xuICAgIGFjdGl2ZUZpbmRlclBhdHRlcm5RdWFkcyA9IGFjdGl2ZUZpbmRlclBhdHRlcm5RdWFkcy5maWx0ZXIocSA9PiBxLmJvdHRvbS55ID09PSB5KTtcblxuICAgIGFsaWdubWVudFBhdHRlcm5RdWFkcy5wdXNoKC4uLmFjdGl2ZUFsaWdubWVudFBhdHRlcm5RdWFkcy5maWx0ZXIocSA9PiBxLmJvdHRvbS55ICE9PSB5KSk7XG4gICAgYWN0aXZlQWxpZ25tZW50UGF0dGVyblF1YWRzID0gYWN0aXZlQWxpZ25tZW50UGF0dGVyblF1YWRzLmZpbHRlcihxID0+IHEuYm90dG9tLnkgPT09IHkpO1xuXG4gIH1cblxuICBmaW5kZXJQYXR0ZXJuUXVhZHMucHVzaCguLi5hY3RpdmVGaW5kZXJQYXR0ZXJuUXVhZHMuZmlsdGVyKHEgPT4gcS5ib3R0b20ueSAtIHEudG9wLnkgPj0gMikpO1xuICBhbGlnbm1lbnRQYXR0ZXJuUXVhZHMucHVzaCguLi5hY3RpdmVBbGlnbm1lbnRQYXR0ZXJuUXVhZHMpO1xuXG4gIC8vIFJlZmFjdG9yZWQgZnJvbSBjb3ptby9qc1FSIHRvIChob3BlZnVsbHkpIGNpcmN1bXZlbnQgYW4gaXNzdWUgaW4gU2FmYXJpIDEzKyBvbiBib3RoIE1hYyBhbmQgaU9TIChhbHNvIGluY2x1ZGluZ1xuICAvLyBpT1MgQ2hyb21lIGFuZCBvdGhlciBTYWZhcmkgaU9TIGRlcml2YXRpdmVzKS4gU2FmYXJpIHdhcyB2ZXJ5IG9jY2FzaW9uYWxseSBhbmQgYXBwYXJlbnRseSBub3QgZGV0ZXJtaW5pc3RpY2FsbHlcbiAgLy8gdGhyb3dpbmcgYSBcIlJhbmdlRXJyb3I6IEFycmF5IHNpemUgaXMgbm90IGEgc21hbGwgZW5vdWdoIHBvc2l0aXZlIGludGVnZXIuXCIgZXhjZXB0aW9uIHNlZW1pbmdseSB3aXRoaW4gdGhlIHNlY29uZFxuICAvLyAubWFwIG9mIHRoZSBvcmlnaW5hbCBjb2RlIChoZXJlIHRoZSBzZWNvbmQgZm9yLWxvb3ApLiBUaGlzIHNlY29uZCAubWFwIGNvbnRhaW5lZCBhIG5lc3RlZCAubWFwIGNhbGwgb3ZlciB0aGUgc2FtZVxuICAvLyBhcnJheSBpbnN0YW5jZSB3aGljaCB3YXMgdGhlIGNoYWluZWQgcmVzdWx0IGZyb20gcHJldmlvdXMgY2FsbHMgdG8gLm1hcCwgLmZpbHRlciBhbmQgLnNvcnQgd2hpY2ggcG90ZW50aWFsbHkgY2F1c2VkXG4gIC8vIHRoaXMgYnVnIGluIFNhZmFyaT9cbiAgLy8gQWxzbyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nvem1vL2pzUVIvaXNzdWVzLzE1NyBhbmQgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIxMTYxOSNjM1xuICBjb25zdCBzY29yZWRGaW5kZXJQYXR0ZXJuUG9zaXRpb25zOiBBcnJheTxQb2ludCAmIHsgc2l6ZTogbnVtYmVyLCBzY29yZTogbnVtYmVyIH0+ID0gW107XG4gIGZvciAoY29uc3QgcXVhZCBvZiBmaW5kZXJQYXR0ZXJuUXVhZHMpIHtcbiAgICBpZiAocXVhZC5ib3R0b20ueSAtIHF1YWQudG9wLnkgPCAyKSB7XG4gICAgICAvLyBBbGwgcXVhZHMgbXVzdCBiZSBhdCBsZWFzdCAycHggdGFsbCBzaW5jZSB0aGUgY2VudGVyIHNxdWFyZSBpcyBsYXJnZXIgdGhhbiBhIGJsb2NrXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgcXVhZCBjZW50ZXJcbiAgICBjb25zdCB4ID0gKHF1YWQudG9wLnN0YXJ0WCArIHF1YWQudG9wLmVuZFggKyBxdWFkLmJvdHRvbS5zdGFydFggKyBxdWFkLmJvdHRvbS5lbmRYKSAvIDQ7XG4gICAgY29uc3QgeSA9IChxdWFkLnRvcC55ICsgcXVhZC5ib3R0b20ueSArIDEpIC8gMjtcbiAgICBpZiAoIW1hdHJpeC5nZXQoTWF0aC5yb3VuZCh4KSwgTWF0aC5yb3VuZCh5KSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGxlbmd0aHMgPSBbcXVhZC50b3AuZW5kWCAtIHF1YWQudG9wLnN0YXJ0WCwgcXVhZC5ib3R0b20uZW5kWCAtIHF1YWQuYm90dG9tLnN0YXJ0WCwgcXVhZC5ib3R0b20ueSAtIHF1YWQudG9wLnkgKyAxXTtcbiAgICBjb25zdCBzaXplID0gc3VtKGxlbmd0aHMpIC8gbGVuZ3Rocy5sZW5ndGg7XG4gICAgLy8gSW5pdGlhbCBzY29yaW5nIG9mIGZpbmRlciBwYXR0ZXJuIHF1YWRzIGJ5IGxvb2tpbmcgYXQgdGhlaXIgcmF0aW9zLCBub3QgdGFraW5nIGludG8gYWNjb3VudCBwb3NpdGlvblxuICAgIGNvbnN0IHNjb3JlID0gc2NvcmVQYXR0ZXJuKHt4OiBNYXRoLnJvdW5kKHgpLCB5OiBNYXRoLnJvdW5kKHkpfSwgWzEsIDEsIDMsIDEsIDFdLCBtYXRyaXgpO1xuICAgIHNjb3JlZEZpbmRlclBhdHRlcm5Qb3NpdGlvbnMucHVzaCh7IHNjb3JlLCB4LCB5LCBzaXplIH0pO1xuICB9XG4gIGlmIChzY29yZWRGaW5kZXJQYXR0ZXJuUG9zaXRpb25zLmxlbmd0aCA8IDMpIHtcbiAgICAvLyBBIFFSIGNvZGUgaGFzIDMgZmluZGVyIHBhdHRlcm5zLCB0aGVyZWZvcmUgd2UgbmVlZCBhdCBsZWFzdCAzIGNhbmRpZGF0ZXMuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc2NvcmVkRmluZGVyUGF0dGVyblBvc2l0aW9ucy5zb3J0KChhLCBiKSA9PiBhLnNjb3JlIC0gYi5zY29yZSk7XG5cbiAgLy8gTm93IHRha2UgdGhlIHRvcCBmaW5kZXIgcGF0dGVybiBvcHRpb25zIGFuZCB0cnkgdG8gZmluZCAyIG90aGVyIG9wdGlvbnMgd2l0aCBhIHNpbWlsYXIgc2l6ZS5cbiAgY29uc3QgZmluZGVyUGF0dGVybkdyb3VwczogQXJyYXk8eyBwb2ludHM6IFtQb2ludCwgUG9pbnQsIFBvaW50XSwgc2NvcmU6IG51bWJlciB9PiA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKHNjb3JlZEZpbmRlclBhdHRlcm5Qb3NpdGlvbnMubGVuZ3RoLCBNQVhfRklOREVSUEFUVEVSTlNfVE9fU0VBUkNIKTsgKytpKSB7XG4gICAgY29uc3QgcG9pbnQgPSBzY29yZWRGaW5kZXJQYXR0ZXJuUG9zaXRpb25zW2ldO1xuICAgIGNvbnN0IG90aGVyUG9pbnRzOiB0eXBlb2Ygc2NvcmVkRmluZGVyUGF0dGVyblBvc2l0aW9ucyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBvdGhlclBvaW50IG9mIHNjb3JlZEZpbmRlclBhdHRlcm5Qb3NpdGlvbnMpIHtcbiAgICAgIGlmIChvdGhlclBvaW50ID09PSBwb2ludCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIG90aGVyUG9pbnRzLnB1c2goe1xuICAgICAgICAuLi5vdGhlclBvaW50LFxuICAgICAgICBzY29yZTogb3RoZXJQb2ludC5zY29yZSArICgob3RoZXJQb2ludC5zaXplIC0gcG9pbnQuc2l6ZSkgKiogMikgLyBwb2ludC5zaXplLCAvLyBzY29yZSBzaW1pbGFyaXR5IG9mIHNpemVzXG4gICAgICB9KTtcbiAgICB9XG4gICAgb3RoZXJQb2ludHMuc29ydCgoYSwgYikgPT4gYS5zY29yZSAtIGIuc2NvcmUpO1xuXG4gICAgZmluZGVyUGF0dGVybkdyb3Vwcy5wdXNoKHtcbiAgICAgIHBvaW50czogW3BvaW50LCBvdGhlclBvaW50c1swXSwgb3RoZXJQb2ludHNbMV1dLCAvLyBub3RlIHRoYXQgb3RoZXJQb2ludHMubGVuZ3RoID49IDIgYXMgc2NvcmVkRmluZGVyUGF0dGVyblBvc2l0aW9ucy5sZW5ndGggPj0gM1xuICAgICAgc2NvcmU6IHBvaW50LnNjb3JlICsgb3RoZXJQb2ludHNbMF0uc2NvcmUgKyBvdGhlclBvaW50c1sxXS5zY29yZSwgLy8gdG90YWwgY29tYmluZWQgc2NvcmUgb2YgdGhlIHRocmVlIHBvaW50cyBpbiB0aGUgZ3JvdXBcbiAgICB9KTtcbiAgfVxuICBmaW5kZXJQYXR0ZXJuR3JvdXBzLnNvcnQoKGEsIGIpID0+IGEuc2NvcmUgLSBiLnNjb3JlKTtcbiAgY29uc3QgYmVzdEZpbmRlclBhdHRlcm5Hcm91cCA9IGZpbmRlclBhdHRlcm5Hcm91cHNbMF07XG5cbiAgY29uc3QgeyB0b3BSaWdodCwgdG9wTGVmdCwgYm90dG9tTGVmdCB9ID0gcmVvcmRlckZpbmRlclBhdHRlcm5zKC4uLmJlc3RGaW5kZXJQYXR0ZXJuR3JvdXAucG9pbnRzKTtcbiAgY29uc3QgYWxpZ25tZW50ID0gZmluZEFsaWdubWVudFBhdHRlcm4obWF0cml4LCBhbGlnbm1lbnRQYXR0ZXJuUXVhZHMsIHRvcFJpZ2h0LCB0b3BMZWZ0LCBib3R0b21MZWZ0KTtcbiAgY29uc3QgcmVzdWx0OiBRUkxvY2F0aW9uW10gPSBbXTtcbiAgaWYgKGFsaWdubWVudCkge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIGFsaWdubWVudFBhdHRlcm46IHsgeDogYWxpZ25tZW50LmFsaWdubWVudFBhdHRlcm4ueCwgeTogYWxpZ25tZW50LmFsaWdubWVudFBhdHRlcm4ueSB9LFxuICAgICAgYm90dG9tTGVmdDoge3g6IGJvdHRvbUxlZnQueCwgeTogYm90dG9tTGVmdC55IH0sXG4gICAgICBkaW1lbnNpb246IGFsaWdubWVudC5kaW1lbnNpb24sXG4gICAgICB0b3BMZWZ0OiB7eDogdG9wTGVmdC54LCB5OiB0b3BMZWZ0LnkgfSxcbiAgICAgIHRvcFJpZ2h0OiB7eDogdG9wUmlnaHQueCwgeTogdG9wUmlnaHQueSB9LFxuICAgIH0pO1xuICB9XG5cbiAgLy8gV2Ugbm9ybWFsbHkgdXNlIHRoZSBjZW50ZXIgb2YgdGhlIHF1YWRzIGFzIHRoZSBsb2NhdGlvbiBvZiB0aGUgdHJhY2tpbmcgcG9pbnRzLCB3aGljaCBpcyBvcHRpbWFsIGZvciBtb3N0IGNhc2VzIGFuZCB3aWxsIGFjY291bnRcbiAgLy8gZm9yIGEgc2tldyBpbiB0aGUgaW1hZ2UuIEhvd2V2ZXIsIEluIHNvbWUgY2FzZXMsIGEgc2xpZ2h0IHNrZXcgbWlnaHQgbm90IGJlIHJlYWwgYW5kIGluc3RlYWQgYmUgY2F1c2VkIGJ5IGltYWdlIGNvbXByZXNzaW9uXG4gIC8vIGVycm9ycyBhbmQvb3IgbG93IHJlc29sdXRpb24uIEZvciB0aG9zZSBjYXNlcywgd2UnZCBiZSBiZXR0ZXIgb2ZmIGNlbnRlcmluZyB0aGUgcG9pbnQgZXhhY3RseSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBibGFjayBhcmVhLiBXZVxuICAvLyBjb21wdXRlIGFuZCByZXR1cm4gdGhlIGxvY2F0aW9uIGRhdGEgZm9yIHRoZSBuYWl2ZWx5IGNlbnRlcmVkIHBvaW50cyBhcyBpdCBpcyBsaXR0bGUgYWRkaXRpb25hbCB3b3JrIGFuZCBhbGxvd3MgZm9yIG11bHRpcGxlXG4gIC8vIGF0dGVtcHRzIGF0IGRlY29kaW5nIGhhcmRlciBpbWFnZXMuXG4gIGNvbnN0IG1pZFRvcFJpZ2h0ID0gcmVjZW50ZXJMb2NhdGlvbihtYXRyaXgsIHRvcFJpZ2h0KTtcbiAgY29uc3QgbWlkVG9wTGVmdCA9IHJlY2VudGVyTG9jYXRpb24obWF0cml4LCB0b3BMZWZ0KTtcbiAgY29uc3QgbWlkQm90dG9tTGVmdCA9IHJlY2VudGVyTG9jYXRpb24obWF0cml4LCBib3R0b21MZWZ0KTtcbiAgY29uc3QgY2VudGVyZWRBbGlnbm1lbnQgPSBmaW5kQWxpZ25tZW50UGF0dGVybihtYXRyaXgsIGFsaWdubWVudFBhdHRlcm5RdWFkcywgbWlkVG9wUmlnaHQsIG1pZFRvcExlZnQsIG1pZEJvdHRvbUxlZnQpO1xuICBpZiAoY2VudGVyZWRBbGlnbm1lbnQpIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBhbGlnbm1lbnRQYXR0ZXJuOiB7IHg6IGNlbnRlcmVkQWxpZ25tZW50LmFsaWdubWVudFBhdHRlcm4ueCwgeTogY2VudGVyZWRBbGlnbm1lbnQuYWxpZ25tZW50UGF0dGVybi55IH0sXG4gICAgICBib3R0b21MZWZ0OiB7IHg6IG1pZEJvdHRvbUxlZnQueCwgeTogbWlkQm90dG9tTGVmdC4geSB9LFxuICAgICAgdG9wTGVmdDogeyB4OiBtaWRUb3BMZWZ0LngsIHk6IG1pZFRvcExlZnQuIHkgfSxcbiAgICAgIHRvcFJpZ2h0OiB7IHg6IG1pZFRvcFJpZ2h0LngsIHk6IG1pZFRvcFJpZ2h0LiB5IH0sXG4gICAgICBkaW1lbnNpb246IGNlbnRlcmVkQWxpZ25tZW50LmRpbWVuc2lvbixcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmaW5kQWxpZ25tZW50UGF0dGVybihtYXRyaXg6IEJpdE1hdHJpeCwgYWxpZ25tZW50UGF0dGVyblF1YWRzOiBRdWFkW10sIHRvcFJpZ2h0OiBQb2ludCwgdG9wTGVmdDogUG9pbnQsIGJvdHRvbUxlZnQ6IFBvaW50KSB7XG4gIC8vIE5vdyB0aGF0IHdlJ3ZlIGZvdW5kIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMgd2UgY2FuIGRldGVybWluZSB0aGUgYmxvY2tTaXplIGFuZCB0aGUgc2l6ZSBvZiB0aGUgUVIgY29kZS5cbiAgLy8gV2UnbGwgdXNlIHRoZXNlIHRvIGhlbHAgZmluZCB0aGUgYWxpZ25tZW50IHBhdHRlcm4gYnV0IGFsc28gbGF0ZXIgd2hlbiB3ZSBkbyB0aGUgZXh0cmFjdGlvbi5cbiAgbGV0IGRpbWVuc2lvbjogbnVtYmVyO1xuICBsZXQgbW9kdWxlU2l6ZTogbnVtYmVyO1xuICB0cnkge1xuICAgICh7IGRpbWVuc2lvbiwgbW9kdWxlU2l6ZSB9ID0gY29tcHV0ZURpbWVuc2lvbih0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgbWF0cml4KSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE5vdyBmaW5kIHRoZSBhbGlnbm1lbnQgcGF0dGVyblxuICBjb25zdCBib3R0b21SaWdodEZpbmRlclBhdHRlcm4gPSB7IC8vIEJlc3QgZ3Vlc3MgYXQgd2hlcmUgYSBib3R0b21SaWdodCBmaW5kZXIgcGF0dGVybiB3b3VsZCBiZVxuICAgIHg6IHRvcFJpZ2h0LnggLSB0b3BMZWZ0LnggKyBib3R0b21MZWZ0LngsXG4gICAgeTogdG9wUmlnaHQueSAtIHRvcExlZnQueSArIGJvdHRvbUxlZnQueSxcbiAgfTtcbiAgY29uc3QgbW9kdWxlc0JldHdlZW5GaW5kZXJQYXR0ZXJucyA9ICgoZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgKyBkaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkpIC8gMiAvIG1vZHVsZVNpemUpO1xuICBjb25zdCBjb3JyZWN0aW9uVG9Ub3BMZWZ0ID0gMSAtICgzIC8gbW9kdWxlc0JldHdlZW5GaW5kZXJQYXR0ZXJucyk7XG4gIGNvbnN0IGV4cGVjdGVkQWxpZ25tZW50UGF0dGVybiA9IHtcbiAgICB4OiB0b3BMZWZ0LnggKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0RmluZGVyUGF0dGVybi54IC0gdG9wTGVmdC54KSxcbiAgICB5OiB0b3BMZWZ0LnkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0RmluZGVyUGF0dGVybi55IC0gdG9wTGVmdC55KSxcbiAgfTtcblxuICBjb25zdCBhbGlnbm1lbnRQYXR0ZXJucyA9IGFsaWdubWVudFBhdHRlcm5RdWFkc1xuICAgIC5tYXAocSA9PiB7XG4gICAgICBjb25zdCB4ID0gKHEudG9wLnN0YXJ0WCArIHEudG9wLmVuZFggKyBxLmJvdHRvbS5zdGFydFggKyBxLmJvdHRvbS5lbmRYKSAvIDQ7XG4gICAgICBjb25zdCB5ID0gKHEudG9wLnkgKyBxLmJvdHRvbS55ICsgMSkgLyAyO1xuICAgICAgaWYgKCFtYXRyaXguZ2V0KE1hdGguZmxvb3IoeCksIE1hdGguZmxvb3IoeSkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2l6ZVNjb3JlID0gc2NvcmVQYXR0ZXJuKHt4OiBNYXRoLmZsb29yKHgpLCB5OiBNYXRoLmZsb29yKHkpfSwgWzEsIDEsIDFdLCBtYXRyaXgpO1xuICAgICAgY29uc3Qgc2NvcmUgPSBzaXplU2NvcmUgKyBkaXN0YW5jZSh7eCwgeX0sIGV4cGVjdGVkQWxpZ25tZW50UGF0dGVybik7XG4gICAgICByZXR1cm4geyB4LCB5LCBzY29yZSB9O1xuICAgIH0pXG4gICAgLmZpbHRlcih2ID0+ICEhdilcbiAgICAuc29ydCgoYSwgYikgPT4gYS5zY29yZSAtIGIuc2NvcmUpO1xuXG4gIC8vIElmIHRoZXJlIGFyZSBsZXNzIHRoYW4gMTUgbW9kdWxlcyBiZXR3ZWVuIGZpbmRlciBwYXR0ZXJucyBpdCdzIGEgdmVyc2lvbiAxIFFSIGNvZGUgYW5kIGFzIHN1Y2ggaGFzIG5vIGFsaWdubWVtbnQgcGF0dGVyblxuICAvLyBzbyB3ZSBjYW4gb25seSB1c2Ugb3VyIGJlc3QgZ3Vlc3MuXG4gIGNvbnN0IGFsaWdubWVudFBhdHRlcm4gPSBtb2R1bGVzQmV0d2VlbkZpbmRlclBhdHRlcm5zID49IDE1ICYmIGFsaWdubWVudFBhdHRlcm5zLmxlbmd0aCA/IGFsaWdubWVudFBhdHRlcm5zWzBdIDogZXhwZWN0ZWRBbGlnbm1lbnRQYXR0ZXJuO1xuXG4gIHJldHVybiB7IGFsaWdubWVudFBhdHRlcm4sIGRpbWVuc2lvbiB9O1xufVxuIiwgImltcG9ydCB7YmluYXJpemV9IGZyb20gXCIuL2JpbmFyaXplclwiO1xuaW1wb3J0IHtCaXRNYXRyaXh9IGZyb20gXCIuL0JpdE1hdHJpeFwiO1xuaW1wb3J0IHtDaHVua3N9IGZyb20gXCIuL2RlY29kZXIvZGVjb2RlRGF0YVwiO1xuaW1wb3J0IHtkZWNvZGV9IGZyb20gXCIuL2RlY29kZXIvZGVjb2RlclwiO1xuaW1wb3J0IHsgVmVyc2lvbiB9IGZyb20gXCIuL2RlY29kZXIvdmVyc2lvblwiO1xuaW1wb3J0IHtleHRyYWN0fSBmcm9tIFwiLi9leHRyYWN0b3JcIjtcbmltcG9ydCB7bG9jYXRlLCBQb2ludH0gZnJvbSBcIi4vbG9jYXRvclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFFSQ29kZSB7XG4gIGJpbmFyeURhdGE6IG51bWJlcltdO1xuICBkYXRhOiBzdHJpbmc7XG4gIGNodW5rczogQ2h1bmtzO1xuICB2ZXJzaW9uOiBudW1iZXI7XG4gIGxvY2F0aW9uOiB7XG4gICAgdG9wUmlnaHRDb3JuZXI6IFBvaW50O1xuICAgIHRvcExlZnRDb3JuZXI6IFBvaW50O1xuICAgIGJvdHRvbVJpZ2h0Q29ybmVyOiBQb2ludDtcbiAgICBib3R0b21MZWZ0Q29ybmVyOiBQb2ludDtcblxuICAgIHRvcFJpZ2h0RmluZGVyUGF0dGVybjogUG9pbnQ7XG4gICAgdG9wTGVmdEZpbmRlclBhdHRlcm46IFBvaW50O1xuICAgIGJvdHRvbUxlZnRGaW5kZXJQYXR0ZXJuOiBQb2ludDtcblxuICAgIGJvdHRvbVJpZ2h0QWxpZ25tZW50UGF0dGVybj86IFBvaW50O1xuICB9O1xuICBtYXRyaXg6IEJpdE1hdHJpeDtcbn1cblxuZnVuY3Rpb24gc2NhbihtYXRyaXg6IEJpdE1hdHJpeCk6IFFSQ29kZSB8IG51bGwge1xuICBjb25zdCBsb2NhdGlvbnMgPSBsb2NhdGUobWF0cml4KTtcbiAgaWYgKCFsb2NhdGlvbnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZvciAoY29uc3QgbG9jYXRpb24gb2YgbG9jYXRpb25zKSB7XG4gICAgY29uc3QgZXh0cmFjdGVkID0gZXh0cmFjdChtYXRyaXgsIGxvY2F0aW9uKTtcbiAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlKGV4dHJhY3RlZC5tYXRyaXgpO1xuICAgIGlmIChkZWNvZGVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiaW5hcnlEYXRhOiBkZWNvZGVkLmJ5dGVzLFxuICAgICAgICBkYXRhOiBkZWNvZGVkLnRleHQsXG4gICAgICAgIGNodW5rczogZGVjb2RlZC5jaHVua3MsXG4gICAgICAgIHZlcnNpb246IGRlY29kZWQudmVyc2lvbixcbiAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICB0b3BSaWdodENvcm5lcjogZXh0cmFjdGVkLm1hcHBpbmdGdW5jdGlvbihsb2NhdGlvbi5kaW1lbnNpb24sIDApLFxuICAgICAgICAgIHRvcExlZnRDb3JuZXI6IGV4dHJhY3RlZC5tYXBwaW5nRnVuY3Rpb24oMCwgMCksXG4gICAgICAgICAgYm90dG9tUmlnaHRDb3JuZXI6IGV4dHJhY3RlZC5tYXBwaW5nRnVuY3Rpb24obG9jYXRpb24uZGltZW5zaW9uLCBsb2NhdGlvbi5kaW1lbnNpb24pLFxuICAgICAgICAgIGJvdHRvbUxlZnRDb3JuZXI6IGV4dHJhY3RlZC5tYXBwaW5nRnVuY3Rpb24oMCwgbG9jYXRpb24uZGltZW5zaW9uKSxcblxuICAgICAgICAgIHRvcFJpZ2h0RmluZGVyUGF0dGVybjogbG9jYXRpb24udG9wUmlnaHQsXG4gICAgICAgICAgdG9wTGVmdEZpbmRlclBhdHRlcm46IGxvY2F0aW9uLnRvcExlZnQsXG4gICAgICAgICAgYm90dG9tTGVmdEZpbmRlclBhdHRlcm46IGxvY2F0aW9uLmJvdHRvbUxlZnQsXG5cbiAgICAgICAgICBib3R0b21SaWdodEFsaWdubWVudFBhdHRlcm46IGxvY2F0aW9uLmFsaWdubWVudFBhdHRlcm4sXG4gICAgICAgIH0sXG4gICAgICAgIG1hdHJpeDogZXh0cmFjdGVkLm1hdHJpeCxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbnMge1xuICBpbnZlcnNpb25BdHRlbXB0cz86IFwiZG9udEludmVydFwiIHwgXCJvbmx5SW52ZXJ0XCIgfCBcImF0dGVtcHRCb3RoXCIgfCBcImludmVydEZpcnN0XCI7XG4gIGdyZXlTY2FsZVdlaWdodHM/OiBHcmV5c2NhbGVXZWlnaHRzO1xuICBjYW5PdmVyd3JpdGVJbWFnZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JleXNjYWxlV2VpZ2h0cyB7XG4gIHJlZDogbnVtYmVyO1xuICBncmVlbjogbnVtYmVyO1xuICBibHVlOiBudW1iZXI7XG4gIHVzZUludGVnZXJBcHByb3hpbWF0aW9uPzogYm9vbGVhbjtcbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gIGludmVyc2lvbkF0dGVtcHRzOiBcImF0dGVtcHRCb3RoXCIsXG4gIGdyZXlTY2FsZVdlaWdodHM6IHtcbiAgICByZWQ6IDAuMjEyNixcbiAgICBncmVlbjogMC43MTUyLFxuICAgIGJsdWU6IDAuMDcyMixcbiAgICB1c2VJbnRlZ2VyQXBwcm94aW1hdGlvbjogZmFsc2UsXG4gIH0sXG4gIGNhbk92ZXJ3cml0ZUltYWdlOiB0cnVlLFxufTtcblxuZnVuY3Rpb24gbWVyZ2VPYmplY3QodGFyZ2V0OiBhbnksIHNyYzogYW55KSB7XG4gIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaChvcHQgPT4geyAvLyBTYWQgaW1wbGVtZW50YXRpb24gb2YgT2JqZWN0LmFzc2lnbiBzaW5jZSB3ZSB0YXJnZXQgZXM1IG5vdCBlczZcbiAgICB0YXJnZXRbb3B0XSA9IHNyY1tvcHRdO1xuICB9KTtcbn1cblxuZnVuY3Rpb24ganNRUihkYXRhOiBVaW50OENsYW1wZWRBcnJheSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHByb3ZpZGVkT3B0aW9uczogT3B0aW9ucyA9IHt9KTogUVJDb2RlIHwgbnVsbCB7XG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBtZXJnZU9iamVjdChvcHRpb25zLCBkZWZhdWx0T3B0aW9ucyk7XG4gIG1lcmdlT2JqZWN0KG9wdGlvbnMsIHByb3ZpZGVkT3B0aW9ucyk7XG5cbiAgY29uc3QgdHJ5SW52ZXJ0ZWRGaXJzdCA9IG9wdGlvbnMuaW52ZXJzaW9uQXR0ZW1wdHMgPT09IFwib25seUludmVydFwiIHx8IG9wdGlvbnMuaW52ZXJzaW9uQXR0ZW1wdHMgPT09IFwiaW52ZXJ0Rmlyc3RcIjtcbiAgY29uc3Qgc2hvdWxkSW52ZXJ0ID0gb3B0aW9ucy5pbnZlcnNpb25BdHRlbXB0cyA9PT0gXCJhdHRlbXB0Qm90aFwiIHx8IHRyeUludmVydGVkRmlyc3Q7XG4gIGNvbnN0IHtiaW5hcml6ZWQsIGludmVydGVkfSA9IGJpbmFyaXplKGRhdGEsIHdpZHRoLCBoZWlnaHQsIHNob3VsZEludmVydCwgb3B0aW9ucy5ncmV5U2NhbGVXZWlnaHRzLFxuICAgICAgb3B0aW9ucy5jYW5PdmVyd3JpdGVJbWFnZSk7XG4gIGxldCByZXN1bHQgPSBzY2FuKHRyeUludmVydGVkRmlyc3QgPyBpbnZlcnRlZCA6IGJpbmFyaXplZCk7XG4gIGlmICghcmVzdWx0ICYmIChvcHRpb25zLmludmVyc2lvbkF0dGVtcHRzID09PSBcImF0dGVtcHRCb3RoXCIgfHwgb3B0aW9ucy5pbnZlcnNpb25BdHRlbXB0cyA9PT0gXCJpbnZlcnRGaXJzdFwiKSkge1xuICAgIHJlc3VsdCA9IHNjYW4odHJ5SW52ZXJ0ZWRGaXJzdCA/IGJpbmFyaXplZCA6IGludmVydGVkKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4oanNRUiBhcyBhbnkpLmRlZmF1bHQgPSBqc1FSO1xuZXhwb3J0IGRlZmF1bHQganNRUjtcbiIsICIvLyBAdHMtaWdub3JlIGpzcXItZXM2IGRvZXMgbm90IHByb3ZpZGUgdHlwZXMgY3VycmVudGx5XG5pbXBvcnQganNRUiBmcm9tICcuLi9ub2RlX21vZHVsZXMvanNxci1lczYvZGlzdC9qc1FSLmpzJztcblxudHlwZSBHcmF5c2NhbGVXZWlnaHRzID0ge1xuICAgIHJlZDogbnVtYmVyLFxuICAgIGdyZWVuOiBudW1iZXIsXG4gICAgYmx1ZTogbnVtYmVyLFxuICAgIHVzZUludGVnZXJBcHByb3hpbWF0aW9uOiBib29sZWFuLFxufTtcblxubGV0IGludmVyc2lvbkF0dGVtcHRzOiAnZG9udEludmVydCcgfCAnb25seUludmVydCcgfCAnYXR0ZW1wdEJvdGgnID0gJ2RvbnRJbnZlcnQnO1xubGV0IGdyYXlzY2FsZVdlaWdodHM6IEdyYXlzY2FsZVdlaWdodHMgPSB7XG4gICAgLy8gd2VpZ2h0cyBmb3IgcXVpY2sgbHVtYSBpbnRlZ2VyIGFwcHJveGltYXRpb24gKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1lVViNGdWxsX3N3aW5nX2Zvcl9CVC42MDEpXG4gICAgcmVkOiA3NyxcbiAgICBncmVlbjogMTUwLFxuICAgIGJsdWU6IDI5LFxuICAgIHVzZUludGVnZXJBcHByb3hpbWF0aW9uOiB0cnVlLFxufTtcblxuc2VsZi5vbm1lc3NhZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgaWQgPSBldmVudFsnZGF0YSddWydpZCddO1xuICAgIGNvbnN0IHR5cGUgPSBldmVudFsnZGF0YSddWyd0eXBlJ107XG4gICAgY29uc3QgZGF0YSA9IGV2ZW50WydkYXRhJ11bJ2RhdGEnXTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdkZWNvZGUnOlxuICAgICAgICAgICAgZGVjb2RlKGRhdGEsIGlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdncmF5c2NhbGVXZWlnaHRzJzpcbiAgICAgICAgICAgIHNldEdyYXlzY2FsZVdlaWdodHMoZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW52ZXJzaW9uTW9kZSc6XG4gICAgICAgICAgICBzZXRJbnZlcnNpb25Nb2RlKGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgICAgIC8vIGNsb3NlIGFmdGVyIGVhcmxpZXIgbWVzc2FnZXMgaW4gdGhlIGV2ZW50IGxvb3AgZmluaXNoZWQgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgc2VsZi5jbG9zZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZGVjb2RlKGRhdGE6IHsgZGF0YTogVWludDhDbGFtcGVkQXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH0sIHJlcXVlc3RJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcmdiYURhdGEgPSBkYXRhWydkYXRhJ107XG4gICAgY29uc3Qgd2lkdGggPSBkYXRhWyd3aWR0aCddO1xuICAgIGNvbnN0IGhlaWdodCA9IGRhdGFbJ2hlaWdodCddO1xuICAgIGNvbnN0IHJlc3VsdCA9IGpzUVIocmdiYURhdGEsIHdpZHRoLCBoZWlnaHQsIHtcbiAgICAgICAgaW52ZXJzaW9uQXR0ZW1wdHM6IGludmVyc2lvbkF0dGVtcHRzLFxuICAgICAgICBncmV5U2NhbGVXZWlnaHRzOiBncmF5c2NhbGVXZWlnaHRzLFxuICAgIH0pO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIChzZWxmIGFzIHVua25vd24gYXMgV29ya2VyKS5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBpZDogcmVxdWVzdElkLFxuICAgICAgICAgICAgdHlwZTogJ3FyUmVzdWx0JyxcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgKHNlbGYgYXMgdW5rbm93biBhcyBXb3JrZXIpLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgaWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgdHlwZTogJ3FyUmVzdWx0JyxcbiAgICAgICAgZGF0YTogcmVzdWx0LmRhdGEsXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gY29ybmVyUG9pbnRzIG9mIG5hdGl2ZSBCYXJjb2RlRGV0ZWN0b3JcbiAgICAgICAgY29ybmVyUG9pbnRzOiBbXG4gICAgICAgICAgICByZXN1bHQubG9jYXRpb24udG9wTGVmdENvcm5lcixcbiAgICAgICAgICAgIHJlc3VsdC5sb2NhdGlvbi50b3BSaWdodENvcm5lcixcbiAgICAgICAgICAgIHJlc3VsdC5sb2NhdGlvbi5ib3R0b21SaWdodENvcm5lcixcbiAgICAgICAgICAgIHJlc3VsdC5sb2NhdGlvbi5ib3R0b21MZWZ0Q29ybmVyLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRHcmF5c2NhbGVXZWlnaHRzKGRhdGE6IEdyYXlzY2FsZVdlaWdodHMpIHtcbiAgICAvLyB1cGRhdGUgZ3JheXNjYWxlV2VpZ2h0cyBpbiBhIGNsb3N1cmUgY29tcGlsZXIgY29tcGF0aWJsZSBmYXNoaW9uXG4gICAgZ3JheXNjYWxlV2VpZ2h0cy5yZWQgPSBkYXRhWydyZWQnXTtcbiAgICBncmF5c2NhbGVXZWlnaHRzLmdyZWVuID0gZGF0YVsnZ3JlZW4nXTtcbiAgICBncmF5c2NhbGVXZWlnaHRzLmJsdWUgPSBkYXRhWydibHVlJ107XG4gICAgZ3JheXNjYWxlV2VpZ2h0cy51c2VJbnRlZ2VyQXBwcm94aW1hdGlvbiA9IGRhdGFbJ3VzZUludGVnZXJBcHByb3hpbWF0aW9uJ107XG59XG5cbmZ1bmN0aW9uIHNldEludmVyc2lvbk1vZGUoaW52ZXJzaW9uTW9kZTogJ29yaWdpbmFsJyB8ICdpbnZlcnQnIHwgJ2JvdGgnKSB7XG4gICAgc3dpdGNoIChpbnZlcnNpb25Nb2RlKSB7XG4gICAgICAgIGNhc2UgJ29yaWdpbmFsJzpcbiAgICAgICAgICAgIGludmVyc2lvbkF0dGVtcHRzID0gJ2RvbnRJbnZlcnQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2ludmVydCc6XG4gICAgICAgICAgICBpbnZlcnNpb25BdHRlbXB0cyA9ICdvbmx5SW52ZXJ0JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3RoJzpcbiAgICAgICAgICAgIGludmVyc2lvbkF0dGVtcHRzID0gJ2F0dGVtcHRCb3RoJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGludmVyc2lvbiBtb2RlJyk7XG4gICAgfVxufVxuIiwgImNsYXNzIFFyU2Nhbm5lciB7XG4gICAgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfQ0FOVkFTX1NJWkUgPSA0MDA7XG4gICAgc3RhdGljIHJlYWRvbmx5IE5PX1FSX0NPREVfRk9VTkQgPSAnTm8gUVIgY29kZSBmb3VuZCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgX2Rpc2FibGVCYXJjb2RlRGV0ZWN0b3IgPSBmYWxzZTtcbiAgICBwcml2YXRlIHN0YXRpYyBfd29ya2VyTWVzc2FnZUlkID0gMDtcblxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHN0YXRpYyBzZXQgV09SS0VSX1BBVEgod29ya2VyUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU2V0dGluZyBRclNjYW5uZXIuV09SS0VSX1BBVEggaXMgbm90IHJlcXVpcmVkIGFuZCBub3Qgc3VwcG9ydGVkIGFueW1vcmUuICdcbiAgICAgICAgICAgICsgJ0hhdmUgYSBsb29rIGF0IHRoZSBSRUFETUUgZm9yIG5ldyBzZXR1cCBpbnN0cnVjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGhhc0NhbWVyYSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAhIShhd2FpdCBRclNjYW5uZXIubGlzdENhbWVyYXMoZmFsc2UpKS5sZW5ndGg7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBsaXN0Q2FtZXJhcyhyZXF1ZXN0TGFiZWxzID0gZmFsc2UpOiBQcm9taXNlPEFycmF5PFFyU2Nhbm5lci5DYW1lcmE+PiB7XG4gICAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykgcmV0dXJuIFtdO1xuXG4gICAgICAgIGNvbnN0IGVudW1lcmF0ZUNhbWVyYXMgPSBhc3luYyAoKTogUHJvbWlzZTxBcnJheTxNZWRpYURldmljZUluZm8+PiA9PlxuICAgICAgICAgICAgKGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpKS5maWx0ZXIoKGRldmljZSkgPT4gZGV2aWNlLmtpbmQgPT09ICd2aWRlb2lucHV0Jyk7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGVudW1lcmF0ZURldmljZXMgY2FuIGFsd2F5cyBiZSBjYWxsZWQgYW5kIGRvZXMgbm90IHByb21wdCB0aGUgdXNlciBmb3IgcGVybWlzc2lvbi5cbiAgICAgICAgLy8gSG93ZXZlciwgZW51bWVyYXRlRGV2aWNlcyBvbmx5IGluY2x1ZGVzIGRldmljZSBsYWJlbHMgaWYgc2VydmVkIHZpYSBodHRwcyBhbmQgYW4gYWN0aXZlIG1lZGlhIHN0cmVhbSBleGlzdHNcbiAgICAgICAgLy8gb3IgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIGNhbWVyYSB3YXMgZ2l2ZW4uIFRoZXJlZm9yZSwgaWYgd2UncmUgbm90IGdldHRpbmcgbGFiZWxzIGJ1dCBsYWJlbHMgYXJlIHJlcXVlc3RlZFxuICAgICAgICAvLyBhc2sgZm9yIGNhbWVyYSBwZXJtaXNzaW9uIGJ5IG9wZW5pbmcgYSBzdHJlYW0uXG4gICAgICAgIGxldCBvcGVuZWRTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RMYWJlbHMgJiYgKGF3YWl0IGVudW1lcmF0ZUNhbWVyYXMoKSkuZXZlcnkoKGNhbWVyYSkgPT4gIWNhbWVyYS5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICBvcGVuZWRTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiBmYWxzZSwgdmlkZW86IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIEZhaWwgZ3JhY2VmdWxseSwgZXNwZWNpYWxseSBpZiB0aGUgZGV2aWNlIGhhcyBubyBjYW1lcmEgb3Igb24gbW9iaWxlIHdoZW4gdGhlIGNhbWVyYSBpcyBhbHJlYWR5IGluIHVzZVxuICAgICAgICAgICAgLy8gYW5kIHNvbWUgYnJvd3NlcnMgZGlzYWxsb3cgYSBzZWNvbmQgc3RyZWFtLlxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoYXdhaXQgZW51bWVyYXRlQ2FtZXJhcygpKS5tYXAoKGNhbWVyYSwgaSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZDogY2FtZXJhLmRldmljZUlkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBjYW1lcmEubGFiZWwgfHwgKGkgPT09IDAgPyAnRGVmYXVsdCBDYW1lcmEnIDogYENhbWVyYSAke2kgKyAxfWApLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gY2xvc2UgdGhlIHN0cmVhbSB3ZSBqdXN0IG9wZW5lZCBmb3IgZ2V0dGluZyBjYW1lcmEgYWNjZXNzIGZvciBsaXN0aW5nIHRoZSBkZXZpY2UgbGFiZWxzXG4gICAgICAgICAgICBpZiAob3BlbmVkU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDYWxsIGxpc3RDYW1lcmFzIGFmdGVyIHN1Y2Nlc3NmdWxseSBzdGFydGluZyBhIFFSIHNjYW5uZXIgdG8gYXZvaWQgY3JlYXRpbmcgJ1xuICAgICAgICAgICAgICAgICAgICArICdhIHRlbXBvcmFyeSB2aWRlbyBzdHJlYW0nKTtcbiAgICAgICAgICAgICAgICBRclNjYW5uZXIuX3N0b3BWaWRlb1N0cmVhbShvcGVuZWRTdHJlYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgJHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50O1xuICAgIHJlYWRvbmx5ICRjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHJlYWRvbmx5ICRvdmVybGF5PzogSFRNTERpdkVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSAkY29kZU91dGxpbmVIaWdobGlnaHQ/OiBTVkdTVkdFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX29uRGVjb2RlPzogKHJlc3VsdDogUXJTY2FubmVyLlNjYW5SZXN1bHQpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfbGVnYWN5T25EZWNvZGU/OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfbGVnYWN5Q2FudmFzU2l6ZTogbnVtYmVyID0gUXJTY2FubmVyLkRFRkFVTFRfQ0FOVkFTX1NJWkU7XG4gICAgcHJpdmF0ZSBfcHJlZmVycmVkQ2FtZXJhOiBRclNjYW5uZXIuRmFjaW5nTW9kZSB8IFFyU2Nhbm5lci5EZXZpY2VJZCA9ICdlbnZpcm9ubWVudCc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfbWF4U2NhbnNQZXJTZWNvbmQ6IG51bWJlciA9IDI1O1xuICAgIHByaXZhdGUgX2xhc3RTY2FuVGltZXN0YW1wOiBudW1iZXIgPSAtMTtcbiAgICBwcml2YXRlIF9zY2FuUmVnaW9uOiBRclNjYW5uZXIuU2NhblJlZ2lvbjtcbiAgICBwcml2YXRlIF9jb2RlT3V0bGluZUhpZ2hsaWdodFJlbW92YWxUaW1lb3V0PzogbnVtYmVyO1xuICAgIHByaXZhdGUgX3FyRW5naW5lUHJvbWlzZTogUHJvbWlzZTxXb3JrZXIgfCBCYXJjb2RlRGV0ZWN0b3I+XG4gICAgcHJpdmF0ZSBfYWN0aXZlOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfcGF1c2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfZmxhc2hPbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2Rlc3Ryb3llZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50LFxuICAgICAgICBvbkRlY29kZTogKHJlc3VsdDogUXJTY2FubmVyLlNjYW5SZXN1bHQpID0+IHZvaWQsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG9uRGVjb2RlRXJyb3I/OiAoZXJyb3I6IEVycm9yIHwgc3RyaW5nKSA9PiB2b2lkLFxuICAgICAgICAgICAgY2FsY3VsYXRlU2NhblJlZ2lvbj86ICh2aWRlbzogSFRNTFZpZGVvRWxlbWVudCkgPT4gUXJTY2FubmVyLlNjYW5SZWdpb24sXG4gICAgICAgICAgICBwcmVmZXJyZWRDYW1lcmE/OiBRclNjYW5uZXIuRmFjaW5nTW9kZSB8IFFyU2Nhbm5lci5EZXZpY2VJZCxcbiAgICAgICAgICAgIG1heFNjYW5zUGVyU2Vjb25kPzogbnVtYmVyO1xuICAgICAgICAgICAgaGlnaGxpZ2h0U2NhblJlZ2lvbj86IGJvb2xlYW4sXG4gICAgICAgICAgICBoaWdobGlnaHRDb2RlT3V0bGluZT86IGJvb2xlYW4sXG4gICAgICAgICAgICBvdmVybGF5PzogSFRNTERpdkVsZW1lbnQsXG4gICAgICAgICAgICAvKioganVzdCBhIHRlbXBvcmFyeSBmbGFnIHVudGlsIHdlIHN3aXRjaCBlbnRpcmVseSB0byB0aGUgbmV3IGFwaSAqL1xuICAgICAgICAgICAgcmV0dXJuRGV0YWlsZWRTY2FuUmVzdWx0PzogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICApO1xuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudCxcbiAgICAgICAgb25EZWNvZGU6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZCxcbiAgICAgICAgb25EZWNvZGVFcnJvcj86IChlcnJvcjogRXJyb3IgfCBzdHJpbmcpID0+IHZvaWQsXG4gICAgICAgIGNhbGN1bGF0ZVNjYW5SZWdpb24/OiAodmlkZW86IEhUTUxWaWRlb0VsZW1lbnQpID0+IFFyU2Nhbm5lci5TY2FuUmVnaW9uLFxuICAgICAgICBwcmVmZXJyZWRDYW1lcmE/OiBRclNjYW5uZXIuRmFjaW5nTW9kZSB8IFFyU2Nhbm5lci5EZXZpY2VJZCxcbiAgICApO1xuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudCxcbiAgICAgICAgb25EZWNvZGU6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZCxcbiAgICAgICAgb25EZWNvZGVFcnJvcj86IChlcnJvcjogRXJyb3IgfCBzdHJpbmcpID0+IHZvaWQsXG4gICAgICAgIGNhbnZhc1NpemU/OiBudW1iZXIsXG4gICAgICAgIHByZWZlcnJlZENhbWVyYT86IFFyU2Nhbm5lci5GYWNpbmdNb2RlIHwgUXJTY2FubmVyLkRldmljZUlkLFxuICAgICk7XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY29uc3RydWN0b3IodmlkZW86IEhUTUxWaWRlb0VsZW1lbnQsIG9uRGVjb2RlOiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQsIGNhbnZhc1NpemU/OiBudW1iZXIpO1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudCxcbiAgICAgICAgb25EZWNvZGU6ICgocmVzdWx0OiBRclNjYW5uZXIuU2NhblJlc3VsdCkgPT4gdm9pZCkgfCAoKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkKSxcbiAgICAgICAgY2FudmFzU2l6ZU9yT25EZWNvZGVFcnJvck9yT3B0aW9ucz86IG51bWJlciB8ICgoZXJyb3I6IEVycm9yIHwgc3RyaW5nKSA9PiB2b2lkKSB8IHtcbiAgICAgICAgICAgIG9uRGVjb2RlRXJyb3I/OiAoZXJyb3I6IEVycm9yIHwgc3RyaW5nKSA9PiB2b2lkLFxuICAgICAgICAgICAgY2FsY3VsYXRlU2NhblJlZ2lvbj86ICh2aWRlbzogSFRNTFZpZGVvRWxlbWVudCkgPT4gUXJTY2FubmVyLlNjYW5SZWdpb24sXG4gICAgICAgICAgICBwcmVmZXJyZWRDYW1lcmE/OiBRclNjYW5uZXIuRmFjaW5nTW9kZSB8IFFyU2Nhbm5lci5EZXZpY2VJZCxcbiAgICAgICAgICAgIG1heFNjYW5zUGVyU2Vjb25kPzogbnVtYmVyO1xuICAgICAgICAgICAgaGlnaGxpZ2h0U2NhblJlZ2lvbj86IGJvb2xlYW4sXG4gICAgICAgICAgICBoaWdobGlnaHRDb2RlT3V0bGluZT86IGJvb2xlYW4sXG4gICAgICAgICAgICBvdmVybGF5PzogSFRNTERpdkVsZW1lbnQsXG4gICAgICAgICAgICAvKioganVzdCBhIHRlbXBvcmFyeSBmbGFnIHVudGlsIHdlIHN3aXRjaCBlbnRpcmVseSB0byB0aGUgbmV3IGFwaSAqL1xuICAgICAgICAgICAgcmV0dXJuRGV0YWlsZWRTY2FuUmVzdWx0PzogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgY2FudmFzU2l6ZU9yQ2FsY3VsYXRlU2NhblJlZ2lvbj86IG51bWJlciB8ICgodmlkZW86IEhUTUxWaWRlb0VsZW1lbnQpID0+IFFyU2Nhbm5lci5TY2FuUmVnaW9uKSxcbiAgICAgICAgcHJlZmVycmVkQ2FtZXJhPzogUXJTY2FubmVyLkZhY2luZ01vZGUgfCBRclNjYW5uZXIuRGV2aWNlSWQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuJHZpZGVvID0gdmlkZW87XG4gICAgICAgIHRoaXMuJGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGlmIChjYW52YXNTaXplT3JPbkRlY29kZUVycm9yT3JPcHRpb25zICYmIHR5cGVvZiBjYW52YXNTaXplT3JPbkRlY29kZUVycm9yT3JPcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy8gd2UgZ290IGFuIG9wdGlvbnMgb2JqZWN0IHVzaW5nIHRoZSBuZXcgYXBpXG4gICAgICAgICAgICB0aGlzLl9vbkRlY29kZSA9IG9uRGVjb2RlIGFzIFFyU2Nhbm5lclsnX29uRGVjb2RlJ107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2FudmFzU2l6ZU9yT25EZWNvZGVFcnJvck9yT3B0aW9ucyB8fCBjYW52YXNTaXplT3JDYWxjdWxhdGVTY2FuUmVnaW9uIHx8IHByZWZlcnJlZENhbWVyYSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignWW91XFwncmUgdXNpbmcgYSBkZXByZWNhdGVkIHZlcnNpb24gb2YgdGhlIFFyU2Nhbm5lciBjb25zdHJ1Y3RvciB3aGljaCB3aWxsIGJlIHJlbW92ZWQgaW4gJ1xuICAgICAgICAgICAgICAgICAgICArICd0aGUgZnV0dXJlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgdmlkZW8gYW5kIG9uRGVjb2RlIHdlcmUgc3BlY2lmaWVkIGFuZCB3ZSBjYW4ndCBkaXN0aW5ndWlzaCBiZXR3ZWVuIG5ldyBvciBvbGQgYXBpIHVzYWdlLiBGb3JcbiAgICAgICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3ZSBoYXZlIHRvIGFzc3VtZSB0aGUgb2xkIGFwaSBmb3Igbm93LiBUaGUgb3B0aW9ucyBvYmplY3QgaXMgbWFya2VkIGFzIG5vbi1cbiAgICAgICAgICAgICAgICAvLyBvcHRpb25hbCBpbiB0aGUgcGFyYW1ldGVyIGxpc3QgYWJvdmUgdG8gbWFrZSBjbGVhciB0aGF0IFNjYW5SZXN1bHQgaW5zdGVhZCBvZiBzdHJpbmcgaXMgb25seSBwYXNzZWRcbiAgICAgICAgICAgICAgICAvLyBpZiBhbiBvcHRpb25zIG9iamVjdCB3YXMgcHJvdmlkZWQuIEhvd2V2ZXIsIGluIHRoZSBmdXR1cmUgb25jZSBsZWdhY3kgc3VwcG9ydCBpcyByZW1vdmVkLCB0aGUgb3B0aW9uc1xuICAgICAgICAgICAgICAgIC8vIG9iamVjdCBzaG91bGQgYmVjb21lIG9wdGlvbmFsLlxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm90ZSB0aGF0IHRoZSB0eXBlIG9mIHRoZSBzY2FuIHJlc3VsdCBwYXNzZWQgdG8gb25EZWNvZGUgd2lsbCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS4gJ1xuICAgICAgICAgICAgICAgICAgICArICdUbyBhbHJlYWR5IHN3aXRjaCB0byB0aGUgbmV3IGFwaSB0b2RheSwgeW91IGNhbiBwYXNzIHJldHVybkRldGFpbGVkU2NhblJlc3VsdDogdHJ1ZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xlZ2FjeU9uRGVjb2RlID0gb25EZWNvZGUgYXMgUXJTY2FubmVyWydfbGVnYWN5T25EZWNvZGUnXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0eXBlb2YgY2FudmFzU2l6ZU9yT25EZWNvZGVFcnJvck9yT3B0aW9ucyA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgID8gY2FudmFzU2l6ZU9yT25EZWNvZGVFcnJvck9yT3B0aW9uc1xuICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgdGhpcy5fb25EZWNvZGVFcnJvciA9IG9wdGlvbnMub25EZWNvZGVFcnJvciB8fCAodHlwZW9mIGNhbnZhc1NpemVPck9uRGVjb2RlRXJyb3JPck9wdGlvbnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gY2FudmFzU2l6ZU9yT25EZWNvZGVFcnJvck9yT3B0aW9uc1xuICAgICAgICAgICAgOiB0aGlzLl9vbkRlY29kZUVycm9yKTtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlU2NhblJlZ2lvbiA9IG9wdGlvbnMuY2FsY3VsYXRlU2NhblJlZ2lvbiB8fCAodHlwZW9mIGNhbnZhc1NpemVPckNhbGN1bGF0ZVNjYW5SZWdpb249PT0nZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGNhbnZhc1NpemVPckNhbGN1bGF0ZVNjYW5SZWdpb25cbiAgICAgICAgICAgIDogdGhpcy5fY2FsY3VsYXRlU2NhblJlZ2lvbik7XG4gICAgICAgIHRoaXMuX3ByZWZlcnJlZENhbWVyYSA9IG9wdGlvbnMucHJlZmVycmVkQ2FtZXJhIHx8IHByZWZlcnJlZENhbWVyYSB8fCB0aGlzLl9wcmVmZXJyZWRDYW1lcmE7XG4gICAgICAgIHRoaXMuX2xlZ2FjeUNhbnZhc1NpemUgPSB0eXBlb2YgY2FudmFzU2l6ZU9yT25EZWNvZGVFcnJvck9yT3B0aW9ucyA9PT0gJ251bWJlcidcbiAgICAgICAgICAgID8gY2FudmFzU2l6ZU9yT25EZWNvZGVFcnJvck9yT3B0aW9uc1xuICAgICAgICAgICAgOiB0eXBlb2YgY2FudmFzU2l6ZU9yQ2FsY3VsYXRlU2NhblJlZ2lvbiA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IGNhbnZhc1NpemVPckNhbGN1bGF0ZVNjYW5SZWdpb25cbiAgICAgICAgICAgICAgICA6IHRoaXMuX2xlZ2FjeUNhbnZhc1NpemU7XG4gICAgICAgIHRoaXMuX21heFNjYW5zUGVyU2Vjb25kID0gb3B0aW9ucy5tYXhTY2Fuc1BlclNlY29uZCB8fCB0aGlzLl9tYXhTY2Fuc1BlclNlY29uZDtcblxuICAgICAgICB0aGlzLl9vblBsYXkgPSB0aGlzLl9vblBsYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fb25Mb2FkZWRNZXRhRGF0YSA9IHRoaXMuX29uTG9hZGVkTWV0YURhdGEuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU92ZXJsYXkgPSB0aGlzLl91cGRhdGVPdmVybGF5LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB2aWRlby5kaXNhYmxlUGljdHVyZUluUGljdHVyZSA9IHRydWU7XG4gICAgICAgIC8vIEFsbG93IGlubGluZSBwbGF5YmFjayBvbiBpUGhvbmUgaW5zdGVhZCBvZiByZXF1aXJpbmcgZnVsbCBzY3JlZW4gcGxheWJhY2ssXG4gICAgICAgIC8vIHNlZSBodHRwczovL3dlYmtpdC5vcmcvYmxvZy82Nzg0L25ldy12aWRlby1wb2xpY2llcy1mb3ItaW9zL1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgLy8gQWxsb3cgcGxheSgpIG9uIGlQaG9uZSB3aXRob3V0IHJlcXVpcmluZyBhIHVzZXIgZ2VzdHVyZS4gU2hvdWxkIG5vdCByZWFsbHkgYmUgbmVlZGVkIGFzIGNhbWVyYSBzdHJlYW1cbiAgICAgICAgLy8gaW5jbHVkZXMgbm8gYXVkaW8sIGJ1dCBqdXN0IHRvIGJlIHNhZmUuXG4gICAgICAgIHZpZGVvLm11dGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBBdm9pZCBTYWZhcmkgc3RvcHBpbmcgdGhlIHZpZGVvIHN0cmVhbSBvbiBhIGhpZGRlbiB2aWRlby5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jb3ptby9qc1FSL2lzc3Vlcy8xODVcbiAgICAgICAgbGV0IHNob3VsZEhpZGVWaWRlbyA9IGZhbHNlO1xuICAgICAgICBpZiAodmlkZW8uaGlkZGVuKSB7XG4gICAgICAgICAgICB2aWRlby5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHNob3VsZEhpZGVWaWRlbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHZpZGVvKSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2aWRlbyk7XG4gICAgICAgICAgICBzaG91bGRIaWRlVmlkZW8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZGVvQ29udGFpbmVyID0gdmlkZW8ucGFyZW50RWxlbWVudCE7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGlnaGxpZ2h0U2NhblJlZ2lvbiB8fCBvcHRpb25zLmhpZ2hsaWdodENvZGVPdXRsaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBnb3RFeHRlcm5hbE92ZXJsYXkgPSAhIW9wdGlvbnMub3ZlcmxheTtcbiAgICAgICAgICAgIHRoaXMuJG92ZXJsYXkgPSBvcHRpb25zLm92ZXJsYXkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb25zdCBvdmVybGF5U3R5bGUgPSB0aGlzLiRvdmVybGF5LnN0eWxlO1xuICAgICAgICAgICAgb3ZlcmxheVN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIG92ZXJsYXlTdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgb3ZlcmxheVN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLiRvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3NjYW4tcmVnaW9uLWhpZ2hsaWdodCcpO1xuICAgICAgICAgICAgaWYgKCFnb3RFeHRlcm5hbE92ZXJsYXkgJiYgb3B0aW9ucy5oaWdobGlnaHRTY2FuUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCBzdHlsZTsgY2FuIGJlIG92ZXJ3cml0dGVuIHZpYSBjc3MsIGUuZy4gYnkgY2hhbmdpbmcgdGhlIHN2ZydzIHN0cm9rZSBjb2xvciwgaGlkaW5nIHRoZVxuICAgICAgICAgICAgICAgIC8vIC5zY2FuLXJlZ2lvbi1oaWdobGlnaHQtc3ZnLCBzZXR0aW5nIGEgYm9yZGVyLCBvdXRsaW5lLCBiYWNrZ3JvdW5kLCBldGMuXG4gICAgICAgICAgICAgICAgdGhpcy4kb3ZlcmxheS5pbm5lckhUTUwgPSAnPHN2ZyBjbGFzcz1cInNjYW4tcmVnaW9uLWhpZ2hsaWdodC1zdmdcIiB2aWV3Qm94PVwiMCAwIDIzOCAyMzhcIiAnXG4gICAgICAgICAgICAgICAgICAgICsgJ3ByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2xlZnQ6MDt0b3A6MDsnXG4gICAgICAgICAgICAgICAgICAgICsgJ2ZpbGw6bm9uZTtzdHJva2U6I2U5YjIxMztzdHJva2Utd2lkdGg6NDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmRcIj4nXG4gICAgICAgICAgICAgICAgICAgICsgJzxwYXRoIGQ9XCJNMzEgMkgxMGE4IDggMCAwIDAtOCA4djIxTTIwNyAyaDIxYTggOCAwIDAgMSA4IDh2MjFtMCAxNzZ2MjFhOCA4IDAgMCAxLTggOGgtMjFtLTE3NiAnXG4gICAgICAgICAgICAgICAgICAgICsgJzBIMTBhOCA4IDAgMCAxLTgtOHYtMjFcIi8+PC9zdmc+JztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRvdmVybGF5LmZpcnN0RWxlbWVudENoaWxkIS5hbmltYXRlKHsgdHJhbnNmb3JtOiBbJ3NjYWxlKC45OCknLCAnc2NhbGUoMS4wMSknXSB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICdhbHRlcm5hdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZS1pbi1vdXQnLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLiRvdmVybGF5LCB0aGlzLiR2aWRlby5uZXh0U2libGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oaWdobGlnaHRDb2RlT3V0bGluZSkge1xuICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgc3R5bGU7IGNhbiBiZSBvdmVyd3JpdHRlbiB2aWEgY3NzXG4gICAgICAgICAgICAgICAgdGhpcy4kb3ZlcmxheS5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAgICAgICAgICAgICAgICdiZWZvcmVlbmQnLFxuICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cImNvZGUtb3V0bGluZS1oaWdobGlnaHRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwibm9uZVwiIHN0eWxlPVwiZGlzcGxheTpub25lO3dpZHRoOjEwMCU7J1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnaGVpZ2h0OjEwMCU7ZmlsbDpub25lO3N0cm9rZTojZTliMjEzO3N0cm9rZS13aWR0aDo1O3N0cm9rZS1kYXNoYXJyYXk6MjU7J1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnc3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kXCI+PHBvbHlnb24vPjwvc3ZnPicsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRjb2RlT3V0bGluZUhpZ2hsaWdodCA9IHRoaXMuJG92ZXJsYXkubGFzdEVsZW1lbnRDaGlsZCBhcyBTVkdTVkdFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NjYW5SZWdpb24gPSB0aGlzLl9jYWxjdWxhdGVTY2FuUmVnaW9uKHZpZGVvKTtcblxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgaW4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHdoaWNoIHNob3VsZCBhdm9pZCBhIHBvdGVudGlhbCBhZGRpdGlvbmFsIHJlLWZsb3cgZm9yIGdldENvbXB1dGVkU3R5bGUuXG4gICAgICAgICAgICBjb25zdCB2aWRlb1N0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodmlkZW8pO1xuICAgICAgICAgICAgaWYgKHZpZGVvU3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnYmxvY2snLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICAgICAgc2hvdWxkSGlkZVZpZGVvID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aWRlb1N0eWxlLnZpc2liaWxpdHkgIT09ICd2aXNpYmxlJykge1xuICAgICAgICAgICAgICAgIHZpZGVvLnN0eWxlLnNldFByb3BlcnR5KCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICAgICAgc2hvdWxkSGlkZVZpZGVvID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRIaWRlVmlkZW8pIHtcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSB2aWRlbyBpbiBhIHdheSB0aGF0IGRvZXNuJ3QgY2F1c2UgU2FmYXJpIHRvIHN0b3AgdGhlIHBsYXliYWNrLlxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUXJTY2FubmVyIGhhcyBvdmVyd3JpdHRlbiB0aGUgdmlkZW8gaGlkaW5nIHN0eWxlIHRvIGF2b2lkIFNhZmFyaSBzdG9wcGluZyB0aGUgcGxheWJhY2suJyk7XG4gICAgICAgICAgICAgICAgdmlkZW8uc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgICAgICAgICAgICB2aWRlby5zdHlsZS53aWR0aCA9ICcwJztcbiAgICAgICAgICAgICAgICB2aWRlby5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJG92ZXJsYXkgJiYgdGhpcy4kb3ZlcmxheS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG92ZXJsYXkucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLiRvdmVybGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRvdmVybGF5ITtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuJGNvZGVPdXRsaW5lSGlnaGxpZ2h0ITtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuJG92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVPdmVybGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCB0aGlzLl9vblBsYXkpO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMuX29uTG9hZGVkTWV0YURhdGEpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3VwZGF0ZU92ZXJsYXkpO1xuXG4gICAgICAgIHRoaXMuX3FyRW5naW5lUHJvbWlzZSA9IFFyU2Nhbm5lci5jcmVhdGVRckVuZ2luZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIGhhc0ZsYXNoKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBsZXQgc3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLiR2aWRlby5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLiR2aWRlby5zcmNPYmplY3QgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSkpIHJldHVybiBmYWxzZTsgLy8gc3JjT2JqZWN0IGlzIG5vdCBhIGNhbWVyYSBzdHJlYW1cbiAgICAgICAgICAgICAgICBzdHJlYW0gPSB0aGlzLiR2aWRlby5zcmNPYmplY3Q7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cmVhbSA9IChhd2FpdCB0aGlzLl9nZXRDYW1lcmFTdHJlYW0oKSkuc3RyZWFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICd0b3JjaCcgaW4gc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0uZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gY2xvc2UgdGhlIHN0cmVhbSB3ZSBqdXN0IG9wZW5lZCBmb3IgZGV0ZWN0aW5nIHdoZXRoZXIgaXQgc3VwcG9ydHMgZmxhc2hcbiAgICAgICAgICAgIGlmIChzdHJlYW0gJiYgc3RyZWFtICE9PSB0aGlzLiR2aWRlby5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NhbGwgaGFzRmxhc2ggYWZ0ZXIgc3VjY2Vzc2Z1bGx5IHN0YXJ0aW5nIHRoZSBzY2FubmVyIHRvIGF2b2lkIGNyZWF0aW5nICdcbiAgICAgICAgICAgICAgICAgICAgKyAnYSB0ZW1wb3JhcnkgdmlkZW8gc3RyZWFtJyk7XG4gICAgICAgICAgICAgICAgUXJTY2FubmVyLl9zdG9wVmlkZW9TdHJlYW0oc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRmxhc2hPbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYXNoT247XG4gICAgfVxuXG4gICAgYXN5bmMgdG9nZ2xlRmxhc2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9mbGFzaE9uKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnR1cm5GbGFzaE9mZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50dXJuRmxhc2hPbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdHVybkZsYXNoT24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9mbGFzaE9uIHx8IHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9mbGFzaE9uID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUgfHwgdGhpcy5fcGF1c2VkKSByZXR1cm47IC8vIGZsYXNoIHdpbGwgYmUgdHVybmVkIG9uIGxhdGVyIG9uIC5zdGFydCgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIWF3YWl0IHRoaXMuaGFzRmxhc2goKSkgdGhyb3cgJ05vIGZsYXNoIGF2YWlsYWJsZSc7XG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIHZpZGVvIHRyYWNrIGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QgYW5kIHRvIGJlIGEgTWVkaWFTdHJlYW0gZHVlIHRvIHRoZSBjaGVjayBpbiBoYXNGbGFzaFxuICAgICAgICAgICAgYXdhaXQgKHRoaXMuJHZpZGVvLnNyY09iamVjdCBhcyBNZWRpYVN0cmVhbSkuZ2V0VmlkZW9UcmFja3MoKVswXS5hcHBseUNvbnN0cmFpbnRzKHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBjb25zdHJhaW50ICd0b3JjaCcgaXMgdW5rbm93biB0byB0c1xuICAgICAgICAgICAgICAgIGFkdmFuY2VkOiBbeyB0b3JjaDogdHJ1ZSB9XSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFzaE9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdHVybkZsYXNoT2ZmKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2ZsYXNoT24pIHJldHVybjtcbiAgICAgICAgLy8gYXBwbHlDb25zdHJhaW50cyB3aXRoIHRvcmNoOiBmYWxzZSBkb2VzIG5vdCB3b3JrIHRvIHR1cm4gdGhlIGZsYXNobGlnaHQgb2ZmLCBhcyBhIHN0cmVhbSdzIHRvcmNoIHN0YXlzXG4gICAgICAgIC8vIGNvbnRpbnVvdXNseSBvbiwgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYVRyYWNrQ29uc3RyYWludHMjdG9yY2guIFRoZXJlZm9yZSxcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBzdG9wIHRoZSBzdHJlYW0gdG8gdHVybiB0aGUgZmxhc2hsaWdodCBvZmYuXG4gICAgICAgIHRoaXMuX2ZsYXNoT24gPSBmYWxzZTtcbiAgICAgICAgYXdhaXQgdGhpcy5fcmVzdGFydFZpZGVvU3RyZWFtKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy4kdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLl9vbkxvYWRlZE1ldGFEYXRhKTtcbiAgICAgICAgdGhpcy4kdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMuX29uUGxheSk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fdXBkYXRlT3ZlcmxheSk7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZmxhc2hPbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0b3AoKTsgLy8gc2V0cyB0aGlzLl9wYXVzZWQgPSB0cnVlIGFuZCB0aGlzLl9hY3RpdmUgPSBmYWxzZVxuICAgICAgICBRclNjYW5uZXIuX3Bvc3RXb3JrZXJNZXNzYWdlKHRoaXMuX3FyRW5naW5lUHJvbWlzZSwgJ2Nsb3NlJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHRocm93IG5ldyBFcnJvcignVGhlIFFSIHNjYW5uZXIgY2FuIG5vdCBiZSBzdGFydGVkIGFzIGl0IGhhZCBiZWVuIGRlc3Ryb3llZC4nKTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSAmJiAhdGhpcy5fcGF1c2VkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCAhPT0gJ2h0dHBzOicpIHtcbiAgICAgICAgICAgIC8vIHdhcm4gYnV0IHRyeSBzdGFydGluZyB0aGUgY2FtZXJhIGFueXdheXNcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhlIGNhbWVyYSBzdHJlYW0gaXMgb25seSBhY2Nlc3NpYmxlIGlmIHRoZSBwYWdlIGlzIHRyYW5zZmVycmVkIHZpYSBodHRwcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHJldHVybjsgLy8gY2FtZXJhIHdpbGwgYmUgc3RhcnRlZCBhcyBzb29uIGFzIHRhYiBpcyBpbiBmb3JlZ3JvdW5kXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy4kdmlkZW8uc3JjT2JqZWN0KSB7XG4gICAgICAgICAgICAvLyBjYW1lcmEgc3RyZWFtIGFscmVhZHkvc3RpbGwgc2V0XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiR2aWRlby5wbGF5KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBzdHJlYW0sIGZhY2luZ01vZGUgfSA9IGF3YWl0IHRoaXMuX2dldENhbWVyYVN0cmVhbSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUgfHwgdGhpcy5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gd2FzIHN0b3BwZWQgaW4gdGhlIG1lYW50aW1lXG4gICAgICAgICAgICAgICAgUXJTY2FubmVyLl9zdG9wVmlkZW9TdHJlYW0oc3RyZWFtKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zZXRWaWRlb01pcnJvcihmYWNpbmdNb2RlKTtcbiAgICAgICAgICAgIHRoaXMuJHZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuJHZpZGVvLnBsYXkoKTtcblxuICAgICAgICAgICAgLy8gUmVzdGFydCB0aGUgZmxhc2ggaWYgaXQgd2FzIHByZXZpb3VzbHkgb25cbiAgICAgICAgICAgIGlmICh0aGlzLl9mbGFzaE9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxhc2hPbiA9IGZhbHNlOyAvLyBmb3JjZSB0dXJuRmxhc2hPbiB0byByZXN0YXJ0IHRoZSBmbGFzaFxuICAgICAgICAgICAgICAgIHRoaXMudHVybkZsYXNoT24oKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0b3AoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYXN5bmMgcGF1c2Uoc3RvcFN0cmVhbUltbWVkaWF0ZWx5ID0gZmFsc2UpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUpIHJldHVybiB0cnVlO1xuICAgICAgICB0aGlzLiR2aWRlby5wYXVzZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLiRvdmVybGF5KSB7XG4gICAgICAgICAgICB0aGlzLiRvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdG9wU3RyZWFtID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJHZpZGVvLnNyY09iamVjdCBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV2b2tlIHNyY09iamVjdCBvbmx5IGlmIGl0J3MgYSBzdHJlYW0gd2hpY2ggd2FzIGxpa2VseSBzZXQgYnkgdXNcbiAgICAgICAgICAgICAgICBRclNjYW5uZXIuX3N0b3BWaWRlb1N0cmVhbSh0aGlzLiR2aWRlby5zcmNPYmplY3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuJHZpZGVvLnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHN0b3BTdHJlYW1JbW1lZGlhdGVseSkge1xuICAgICAgICAgICAgc3RvcFN0cmVhbSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTtcbiAgICAgICAgaWYgKCF0aGlzLl9wYXVzZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgc3RvcFN0cmVhbSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRDYW1lcmEoZmFjaW5nTW9kZU9yRGV2aWNlSWQ6IFFyU2Nhbm5lci5GYWNpbmdNb2RlIHwgUXJTY2FubmVyLkRldmljZUlkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChmYWNpbmdNb2RlT3JEZXZpY2VJZCA9PT0gdGhpcy5fcHJlZmVycmVkQ2FtZXJhKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3ByZWZlcnJlZENhbWVyYSA9IGZhY2luZ01vZGVPckRldmljZUlkO1xuICAgICAgICAvLyBSZXN0YXJ0IHRoZSBzY2FubmVyIHdpdGggdGhlIG5ldyBjYW1lcmEgd2hpY2ggd2lsbCBhbHNvIHVwZGF0ZSB0aGUgdmlkZW8gbWlycm9yIGFuZCB0aGUgc2NhbiByZWdpb24uXG4gICAgICAgIGF3YWl0IHRoaXMuX3Jlc3RhcnRWaWRlb1N0cmVhbSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBzY2FuSW1hZ2UoXG4gICAgICAgIGltYWdlT3JGaWxlT3JCbG9iT3JVcmw6IEhUTUxJbWFnZUVsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQgfCBPZmZzY3JlZW5DYW52YXMgfCBJbWFnZUJpdG1hcFxuICAgICAgICAgICAgfCBTVkdJbWFnZUVsZW1lbnQgfCBGaWxlIHwgQmxvYiB8IFVSTCB8IFN0cmluZyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2NhblJlZ2lvbj86IFFyU2Nhbm5lci5TY2FuUmVnaW9uIHwgbnVsbCxcbiAgICAgICAgICAgIHFyRW5naW5lPzogV29ya2VyIHwgQmFyY29kZURldGVjdG9yIHwgUHJvbWlzZTxXb3JrZXIgfCBCYXJjb2RlRGV0ZWN0b3I+IHwgbnVsbCxcbiAgICAgICAgICAgIGNhbnZhcz86IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCxcbiAgICAgICAgICAgIGRpc2FsbG93Q2FudmFzUmVzaXppbmc/OiBib29sZWFuLFxuICAgICAgICAgICAgYWxzb1RyeVdpdGhvdXRTY2FuUmVnaW9uPzogYm9vbGVhbixcbiAgICAgICAgICAgIC8qKiBqdXN0IGEgdGVtcG9yYXJ5IGZsYWcgdW50aWwgd2Ugc3dpdGNoIGVudGlyZWx5IHRvIHRoZSBuZXcgYXBpICovXG4gICAgICAgICAgICByZXR1cm5EZXRhaWxlZFNjYW5SZXN1bHQ/OiB0cnVlLFxuICAgICAgICB9LFxuICAgICk6IFByb21pc2U8UXJTY2FubmVyLlNjYW5SZXN1bHQ+O1xuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHN0YXRpYyBhc3luYyBzY2FuSW1hZ2UoXG4gICAgICAgIGltYWdlT3JGaWxlT3JCbG9iT3JVcmw6IEhUTUxJbWFnZUVsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQgfCBPZmZzY3JlZW5DYW52YXMgfCBJbWFnZUJpdG1hcFxuICAgICAgICAgICAgfCBTVkdJbWFnZUVsZW1lbnQgfCBGaWxlIHwgQmxvYiB8IFVSTCB8IFN0cmluZyxcbiAgICAgICAgc2NhblJlZ2lvbj86IFFyU2Nhbm5lci5TY2FuUmVnaW9uIHwgbnVsbCxcbiAgICAgICAgcXJFbmdpbmU/OiBXb3JrZXIgfCBCYXJjb2RlRGV0ZWN0b3IgfCBQcm9taXNlPFdvcmtlciB8IEJhcmNvZGVEZXRlY3Rvcj4gfCBudWxsLFxuICAgICAgICBjYW52YXM/OiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwsXG4gICAgICAgIGRpc2FsbG93Q2FudmFzUmVzaXppbmc/OiBib29sZWFuLFxuICAgICAgICBhbHNvVHJ5V2l0aG91dFNjYW5SZWdpb24/OiBib29sZWFuLFxuICAgICk6IFByb21pc2U8c3RyaW5nPjtcbiAgICBzdGF0aWMgYXN5bmMgc2NhbkltYWdlKFxuICAgICAgICBpbWFnZU9yRmlsZU9yQmxvYk9yVXJsOiBIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTFZpZGVvRWxlbWVudCB8IEhUTUxDYW52YXNFbGVtZW50IHwgT2Zmc2NyZWVuQ2FudmFzIHwgSW1hZ2VCaXRtYXBcbiAgICAgICAgICAgIHwgU1ZHSW1hZ2VFbGVtZW50IHwgRmlsZSB8IEJsb2IgfCBVUkwgfCBTdHJpbmcsXG4gICAgICAgIHNjYW5SZWdpb25Pck9wdGlvbnM/OiBRclNjYW5uZXIuU2NhblJlZ2lvbiB8IHtcbiAgICAgICAgICAgIHNjYW5SZWdpb24/OiBRclNjYW5uZXIuU2NhblJlZ2lvbiB8IG51bGwsXG4gICAgICAgICAgICBxckVuZ2luZT86IFdvcmtlciB8IEJhcmNvZGVEZXRlY3RvciB8IFByb21pc2U8V29ya2VyIHwgQmFyY29kZURldGVjdG9yPiB8IG51bGwsXG4gICAgICAgICAgICBjYW52YXM/OiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwsXG4gICAgICAgICAgICBkaXNhbGxvd0NhbnZhc1Jlc2l6aW5nPzogYm9vbGVhbixcbiAgICAgICAgICAgIGFsc29UcnlXaXRob3V0U2NhblJlZ2lvbj86IGJvb2xlYW4sXG4gICAgICAgICAgICAvKioganVzdCBhIHRlbXBvcmFyeSBmbGFnIHVudGlsIHdlIHN3aXRjaCBlbnRpcmVseSB0byB0aGUgbmV3IGFwaSAqL1xuICAgICAgICAgICAgcmV0dXJuRGV0YWlsZWRTY2FuUmVzdWx0PzogdHJ1ZSxcbiAgICAgICAgfSB8IG51bGwsXG4gICAgICAgIHFyRW5naW5lPzogV29ya2VyIHwgQmFyY29kZURldGVjdG9yIHwgUHJvbWlzZTxXb3JrZXIgfCBCYXJjb2RlRGV0ZWN0b3I+IHwgbnVsbCxcbiAgICAgICAgY2FudmFzPzogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsLFxuICAgICAgICBkaXNhbGxvd0NhbnZhc1Jlc2l6aW5nOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIGFsc29UcnlXaXRob3V0U2NhblJlZ2lvbjogYm9vbGVhbiA9IGZhbHNlLFxuICAgICk6IFByb21pc2U8c3RyaW5nIHwgUXJTY2FubmVyLlNjYW5SZXN1bHQ+IHtcbiAgICAgICAgbGV0IHNjYW5SZWdpb246IFFyU2Nhbm5lci5TY2FuUmVnaW9uIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHJldHVybkRldGFpbGVkU2NhblJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBpZiAoc2NhblJlZ2lvbk9yT3B0aW9ucyAmJiAoXG4gICAgICAgICAgICAnc2NhblJlZ2lvbicgaW4gc2NhblJlZ2lvbk9yT3B0aW9uc1xuICAgICAgICAgICAgfHwgJ3FyRW5naW5lJyBpbiBzY2FuUmVnaW9uT3JPcHRpb25zXG4gICAgICAgICAgICB8fCAnY2FudmFzJyBpbiBzY2FuUmVnaW9uT3JPcHRpb25zXG4gICAgICAgICAgICB8fCAnZGlzYWxsb3dDYW52YXNSZXNpemluZycgaW4gc2NhblJlZ2lvbk9yT3B0aW9uc1xuICAgICAgICAgICAgfHwgJ2Fsc29UcnlXaXRob3V0U2NhblJlZ2lvbicgaW4gc2NhblJlZ2lvbk9yT3B0aW9uc1xuICAgICAgICAgICAgfHwgJ3JldHVybkRldGFpbGVkU2NhblJlc3VsdCcgaW4gc2NhblJlZ2lvbk9yT3B0aW9uc1xuICAgICAgICApKSB7XG4gICAgICAgICAgICAvLyB3ZSBnb3QgYW4gb3B0aW9ucyBvYmplY3QgdXNpbmcgdGhlIG5ldyBhcGlcbiAgICAgICAgICAgIHNjYW5SZWdpb24gPSBzY2FuUmVnaW9uT3JPcHRpb25zLnNjYW5SZWdpb247XG4gICAgICAgICAgICBxckVuZ2luZSA9IHNjYW5SZWdpb25Pck9wdGlvbnMucXJFbmdpbmU7XG4gICAgICAgICAgICBjYW52YXMgPSBzY2FuUmVnaW9uT3JPcHRpb25zLmNhbnZhcztcbiAgICAgICAgICAgIGRpc2FsbG93Q2FudmFzUmVzaXppbmcgPSBzY2FuUmVnaW9uT3JPcHRpb25zLmRpc2FsbG93Q2FudmFzUmVzaXppbmcgfHwgZmFsc2U7XG4gICAgICAgICAgICBhbHNvVHJ5V2l0aG91dFNjYW5SZWdpb24gPSBzY2FuUmVnaW9uT3JPcHRpb25zLmFsc29UcnlXaXRob3V0U2NhblJlZ2lvbiB8fCBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybkRldGFpbGVkU2NhblJlc3VsdCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NhblJlZ2lvbk9yT3B0aW9ucyB8fCBxckVuZ2luZSB8fCBjYW52YXMgfHwgZGlzYWxsb3dDYW52YXNSZXNpemluZyB8fCBhbHNvVHJ5V2l0aG91dFNjYW5SZWdpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignWW91XFwncmUgdXNpbmcgYSBkZXByZWNhdGVkIGFwaSBmb3Igc2NhbkltYWdlIHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT25seSBpbWFnZU9yRmlsZU9yQmxvYk9yVXJsIHdhcyBzcGVjaWZpZWQgYW5kIHdlIGNhbid0IGRpc3Rpbmd1aXNoIGJldHdlZW4gbmV3IG9yIG9sZCBhcGkgdXNhZ2UuIEZvclxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2UgaGF2ZSB0byBhc3N1bWUgdGhlIG9sZCBhcGkgZm9yIG5vdy4gVGhlIG9wdGlvbnMgb2JqZWN0IGlzIG1hcmtlZCBhcyBub24tXG4gICAgICAgICAgICAvLyBvcHRpb25hbCBpbiB0aGUgcGFyYW1ldGVyIGxpc3QgYWJvdmUgdG8gbWFrZSBjbGVhciB0aGF0IFNjYW5SZXN1bHQgaW5zdGVhZCBvZiBzdHJpbmcgaXMgb25seSByZXR1cm5lZCBpZlxuICAgICAgICAgICAgLy8gYW4gb3B0aW9ucyBvYmplY3Qgd2FzIHByb3ZpZGVkLiBIb3dldmVyLCBpbiB0aGUgZnV0dXJlIG9uY2UgbGVnYWN5IHN1cHBvcnQgaXMgcmVtb3ZlZCwgdGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgICAgICAvLyBzaG91bGQgYmVjb21lIG9wdGlvbmFsLlxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdOb3RlIHRoYXQgdGhlIHJldHVybiB0eXBlIG9mIHNjYW5JbWFnZSB3aWxsIGNoYW5nZSBpbiB0aGUgZnV0dXJlLiBUbyBhbHJlYWR5IHN3aXRjaCB0byB0aGUgJ1xuICAgICAgICAgICAgICAgICsgJ25ldyBhcGkgdG9kYXksIHlvdSBjYW4gcGFzcyByZXR1cm5EZXRhaWxlZFNjYW5SZXN1bHQ6IHRydWUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBnb3RFeHRlcm5hbEVuZ2luZSA9ICEhcXJFbmdpbmU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IE9mZnNjcmVlbkNhbnZhcyB8IEltYWdlQml0bWFwXG4gICAgICAgICAgICAgICAgfCBTVkdJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICBsZXQgY2FudmFzQ29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgICAgICAgICAgW3FyRW5naW5lLCBpbWFnZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgcXJFbmdpbmUgfHwgUXJTY2FubmVyLmNyZWF0ZVFyRW5naW5lKCksXG4gICAgICAgICAgICAgICAgUXJTY2FubmVyLl9sb2FkSW1hZ2UoaW1hZ2VPckZpbGVPckJsb2JPclVybCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIFtjYW52YXMsIGNhbnZhc0NvbnRleHRdID0gUXJTY2FubmVyLl9kcmF3VG9DYW52YXMoaW1hZ2UsIHNjYW5SZWdpb24sIGNhbnZhcywgZGlzYWxsb3dDYW52YXNSZXNpemluZyk7XG4gICAgICAgICAgICBsZXQgZGV0YWlsZWRTY2FuUmVzdWx0OiBRclNjYW5uZXIuU2NhblJlc3VsdDtcblxuICAgICAgICAgICAgaWYgKHFyRW5naW5lIGluc3RhbmNlb2YgV29ya2VyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcXJFbmdpbmVXb3JrZXIgPSBxckVuZ2luZTsgLy8gZm9yIHRzIHRvIGtub3cgdGhhdCBpdCdzIHN0aWxsIGEgd29ya2VyIGxhdGVyIGluIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICBpZiAoIWdvdEV4dGVybmFsRW5naW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBzY2FubmluZyBvZiBpbnZlcnRlZCBjb2xvciBxciBjb2Rlcy5cbiAgICAgICAgICAgICAgICAgICAgUXJTY2FubmVyLl9wb3N0V29ya2VyTWVzc2FnZVN5bmMocXJFbmdpbmVXb3JrZXIsICdpbnZlcnNpb25Nb2RlJywgJ2JvdGgnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGV0YWlsZWRTY2FuUmVzdWx0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZW91dDogbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb25NZXNzYWdlOiAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4gdm9pZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9uRXJyb3I6IChlcnJvcjogRXJyb3JFdmVudCB8IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4cGVjdGVkUmVzcG9uc2VJZCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBvbk1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuaWQgIT09IGV4cGVjdGVkUmVzcG9uc2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHFyRW5naW5lV29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcXJFbmdpbmVXb3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLmRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXZlbnQuZGF0YS5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJQb2ludHM6IFFyU2Nhbm5lci5fY29udmVydFBvaW50cyhldmVudC5kYXRhLmNvcm5lclBvaW50cywgc2NhblJlZ2lvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChRclNjYW5uZXIuTk9fUVJfQ09ERV9GT1VORCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgPSAoZXJyb3I6IEVycm9yRXZlbnQgfCBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHFyRW5naW5lV29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcXJFbmdpbmVXb3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICFlcnJvciA/ICdVbmtub3duIEVycm9yJyA6ICgoZXJyb3IgYXMgRXJyb3JFdmVudCkubWVzc2FnZSB8fCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ1NjYW5uZXIgZXJyb3I6ICcgKyBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBxckVuZ2luZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgcXJFbmdpbmVXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gb25FcnJvcigndGltZW91dCcpLCAxMDAwMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcyEud2lkdGgsIGNhbnZhcyEuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRSZXNwb25zZUlkID0gUXJTY2FubmVyLl9wb3N0V29ya2VyTWVzc2FnZVN5bmMoXG4gICAgICAgICAgICAgICAgICAgICAgICBxckVuZ2luZVdvcmtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICdkZWNvZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2ltYWdlRGF0YS5kYXRhLmJ1ZmZlcl0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRldGFpbGVkU2NhblJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlPFFyU2Nhbm5lci5TY2FuUmVzdWx0PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHJlamVjdCgnU2Nhbm5lciBlcnJvcjogdGltZW91dCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgMTAwMDAsXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAoYXN5bmMgKCk6IFByb21pc2U8UXJTY2FubmVyLlNjYW5SZXN1bHQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3NjYW5SZXN1bHRdID0gYXdhaXQgcXJFbmdpbmUuZGV0ZWN0KGNhbnZhcyEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2NhblJlc3VsdCkgdGhyb3cgUXJTY2FubmVyLk5PX1FSX0NPREVfRk9VTkQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogc2NhblJlc3VsdC5yYXdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUG9pbnRzOiBRclNjYW5uZXIuX2NvbnZlcnRQb2ludHMoc2NhblJlc3VsdC5jb3JuZXJQb2ludHMsIHNjYW5SZWdpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKGUgYXMgRXJyb3IpLm1lc3NhZ2UgfHwgZSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9ub3QgaW1wbGVtZW50ZWR8c2VydmljZSB1bmF2YWlsYWJsZS8udGVzdChlcnJvck1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdCBpbXBsZW1lbnRlZCBjYW4gYXBwYXJlbnRseSBmb3Igc29tZSByZWFzb24gaGFwcGVuIGV2ZW4gdGhvdWdoIGdldFN1cHBvcnRlZEZvcm1hdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY3JlYXRlUXJTY2FubmVyIHJlcG9ydGVkIHRoYXQgaXQncyBzdXBwb3J0ZWQsIHNlZSBpc3N1ZSAjOTguXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlcnZpY2UgdW5hdmFpbGFibGUgY2FuIGhhcHBlbiBhZnRlciBzb21lIHRpbWUgd2hlbiB0aGUgQmFyY29kZURldGVjdG9yIGNyYXNoZWQgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbiB0aGVvcmV0aWNhbGx5IGJlIHJlY292ZXJlZCBmcm9tIGJ5IGNyZWF0aW5nIGEgbmV3IEJhcmNvZGVEZXRlY3Rvci4gSG93ZXZlciwgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3ZXIgYnJvd3NlcnMgdGhpcyBpc3N1ZSBkb2VzIG5vdCBzZWVtIHRvIGJlIHByZXNlbnQgYW55bW9yZSBhbmQgdGhlcmVmb3JlIHdlIGRvIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSB0aGlzIG9wdGltaXphdGlvbiBhbnltb3JlIGJ1dCBqdXN0IHNldCBfZGlzYWJsZUJhcmNvZGVEZXRlY3RvciBpbiBib3RoIGNhc2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIG5vdGUgdGhhdCBpZiB3ZSBnb3QgYW4gZXh0ZXJuYWwgcXJFbmdpbmUgdGhhdCBjcmFzaGVkLCB3ZSBzaG91bGQgcG9zc2libHkgbm90aWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBjYWxsZXIgYWJvdXQgaXQsIGJ1dCB3ZSBhbHNvIGRvbid0IGRvIHRoaXMgaGVyZSwgYXMgaXQncyBzdWNoIGFuIHVubGlrZWx5IGNhc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFyU2Nhbm5lci5fZGlzYWJsZUJhcmNvZGVEZXRlY3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHJ5IHdpdGhvdXQgcGFzc2luZyB0aGUgYnJva2VuIEJhcmNvZGVTY2FubmVyIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBRclNjYW5uZXIuc2NhbkltYWdlKGltYWdlT3JGaWxlT3JCbG9iT3JVcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYW5SZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhbGxvd0NhbnZhc1Jlc2l6aW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxzb1RyeVdpdGhvdXRTY2FuUmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgYFNjYW5uZXIgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKCksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuRGV0YWlsZWRTY2FuUmVzdWx0ID8gZGV0YWlsZWRTY2FuUmVzdWx0IDogZGV0YWlsZWRTY2FuUmVzdWx0LmRhdGE7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICghc2NhblJlZ2lvbiB8fCAhYWxzb1RyeVdpdGhvdXRTY2FuUmVnaW9uKSB0aHJvdyBlO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsZWRTY2FuUmVzdWx0ID0gYXdhaXQgUXJTY2FubmVyLnNjYW5JbWFnZShcbiAgICAgICAgICAgICAgICBpbWFnZU9yRmlsZU9yQmxvYk9yVXJsLFxuICAgICAgICAgICAgICAgIHsgcXJFbmdpbmUsIGNhbnZhcywgZGlzYWxsb3dDYW52YXNSZXNpemluZyB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5EZXRhaWxlZFNjYW5SZXN1bHQgPyBkZXRhaWxlZFNjYW5SZXN1bHQgOiBkZXRhaWxlZFNjYW5SZXN1bHQuZGF0YTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICghZ290RXh0ZXJuYWxFbmdpbmUpIHtcbiAgICAgICAgICAgICAgICBRclNjYW5uZXIuX3Bvc3RXb3JrZXJNZXNzYWdlKHFyRW5naW5lISwgJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRHcmF5c2NhbGVXZWlnaHRzKHJlZDogbnVtYmVyLCBncmVlbjogbnVtYmVyLCBibHVlOiBudW1iZXIsIHVzZUludGVnZXJBcHByb3hpbWF0aW9uOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICAvLyBOb3RlIHRoYXQgZm9yIHRoZSBuYXRpdmUgQmFyY29kZURlY29kZXIgb3IgaWYgdGhlIHdvcmtlciB3YXMgZGVzdHJveWVkLCB0aGlzIGlzIGEgbm8tb3AuIEhvd2V2ZXIsIHRoZSBuYXRpdmVcbiAgICAgICAgLy8gaW1wbGVtZW50YXRpb25zIHdvcmsgYWxzbyB3ZWxsIHdpdGggY29sb3JlZCBxciBjb2Rlcy5cbiAgICAgICAgUXJTY2FubmVyLl9wb3N0V29ya2VyTWVzc2FnZShcbiAgICAgICAgICAgIHRoaXMuX3FyRW5naW5lUHJvbWlzZSxcbiAgICAgICAgICAgICdncmF5c2NhbGVXZWlnaHRzJyxcbiAgICAgICAgICAgIHsgcmVkLCBncmVlbiwgYmx1ZSwgdXNlSW50ZWdlckFwcHJveGltYXRpb24gfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHNldEludmVyc2lvbk1vZGUoaW52ZXJzaW9uTW9kZTogUXJTY2FubmVyLkludmVyc2lvbk1vZGUpOiB2b2lkIHtcbiAgICAgICAgLy8gTm90ZSB0aGF0IGZvciB0aGUgbmF0aXZlIEJhcmNvZGVEZWNvZGVyIG9yIGlmIHRoZSB3b3JrZXIgd2FzIGRlc3Ryb3llZCwgdGhpcyBpcyBhIG5vLW9wLiBIb3dldmVyLCB0aGUgbmF0aXZlXG4gICAgICAgIC8vIGltcGxlbWVudGF0aW9ucyBzY2FuIG5vcm1hbCBhbmQgaW52ZXJ0ZWQgcXIgY29kZXMgYnkgZGVmYXVsdFxuICAgICAgICBRclNjYW5uZXIuX3Bvc3RXb3JrZXJNZXNzYWdlKHRoaXMuX3FyRW5naW5lUHJvbWlzZSwgJ2ludmVyc2lvbk1vZGUnLCBpbnZlcnNpb25Nb2RlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlUXJFbmdpbmUoKTogUHJvbWlzZTxXb3JrZXIgfCBCYXJjb2RlRGV0ZWN0b3I+O1xuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVRckVuZ2luZSh3b3JrZXJQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFdvcmtlciB8IEJhcmNvZGVEZXRlY3Rvcj47XG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZVFyRW5naW5lKHdvcmtlclBhdGg/OiBzdHJpbmcpOiBQcm9taXNlPFdvcmtlciB8IEJhcmNvZGVEZXRlY3Rvcj4ge1xuICAgICAgICBpZiAod29ya2VyUGF0aCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdTcGVjaWZ5aW5nIGEgd29ya2VyIHBhdGggaXMgbm90IHJlcXVpcmVkIGFuZCBub3Qgc3VwcG9ydGVkIGFueW1vcmUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBAdHMtaWdub3JlIG5vIHR5cGVzIGRlZmluZWQgZm9yIGltcG9ydFxuICAgICAgICBjb25zdCBjcmVhdGVXb3JrZXIgPSAoKSA9PiAoaW1wb3J0KCcuL3FyLXNjYW5uZXItd29ya2VyLm1pbi5qcycpIGFzIFByb21pc2U8eyBjcmVhdGVXb3JrZXI6ICgpID0+IFdvcmtlciB9PilcbiAgICAgICAgICAgIC50aGVuKChtb2R1bGUpID0+IG1vZHVsZS5jcmVhdGVXb3JrZXIoKSk7XG5cbiAgICAgICAgY29uc3QgdXNlQmFyY29kZURldGVjdG9yID0gIVFyU2Nhbm5lci5fZGlzYWJsZUJhcmNvZGVEZXRlY3RvclxuICAgICAgICAgICAgJiYgJ0JhcmNvZGVEZXRlY3RvcicgaW4gd2luZG93XG4gICAgICAgICAgICAmJiBCYXJjb2RlRGV0ZWN0b3IuZ2V0U3VwcG9ydGVkRm9ybWF0c1xuICAgICAgICAgICAgJiYgKGF3YWl0IEJhcmNvZGVEZXRlY3Rvci5nZXRTdXBwb3J0ZWRGb3JtYXRzKCkpLmluY2x1ZGVzKCdxcl9jb2RlJyk7XG5cbiAgICAgICAgaWYgKCF1c2VCYXJjb2RlRGV0ZWN0b3IpIHJldHVybiBjcmVhdGVXb3JrZXIoKTtcblxuICAgICAgICAvLyBPbiBNYWNzIHdpdGggYW4gTTEvTTIgcHJvY2Vzc29yIGFuZCBtYWNPUyBWZW50dXJhIChtYWNPUyB2ZXJzaW9uIDEzKSwgdGhlIEJhcmNvZGVEZXRlY3RvciBpcyBicm9rZW4gaW5cbiAgICAgICAgLy8gQ2hyb21pdW0gYmFzZWQgYnJvd3NlcnMsIHJlZ2FyZGxlc3Mgb2YgdGhlIHZlcnNpb24uIEZvciB0aGF0IGNvbnN0ZWxsYXRpb24sIHRoZSBCYXJjb2RlRGV0ZWN0b3IgZG9lcyBub3RcbiAgICAgICAgLy8gZXJyb3IgYnV0IGRvZXMgbm90IGRldGVjdCBRUiBjb2Rlcy4gTWFjcyB3aXRob3V0IGFuIE0xL00yIG9yIGJlZm9yZSBWZW50dXJhIGFyZSBmaW5lLlxuICAgICAgICAvLyBTZWUgaXNzdWUgIzIwOSBhbmQgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTM4MjQ0MlxuICAgICAgICAvLyBUT0RPIHVwZGF0ZSB0aGlzIG9uY2UgdGhlIGlzc3VlIGluIG1hY09TIGlzIGZpeGVkXG4gICAgICAgIGNvbnN0IHVzZXJBZ2VudERhdGEgPSBuYXZpZ2F0b3IudXNlckFnZW50RGF0YTtcbiAgICAgICAgY29uc3QgaXNDaHJvbWl1bU9uTWFjV2l0aEFybVZlbnR1cmEgPSB1c2VyQWdlbnREYXRhIC8vIGFsbCBDaHJvbWl1bSBicm93c2VycyBzdXBwb3J0IHVzZXJBZ2VudERhdGFcbiAgICAgICAgICAgICYmIHVzZXJBZ2VudERhdGEuYnJhbmRzLnNvbWUoKHsgYnJhbmQgfSkgPT4gL0Nocm9taXVtL2kudGVzdChicmFuZCkpXG4gICAgICAgICAgICAmJiAvbWFjID9PUy9pLnRlc3QodXNlckFnZW50RGF0YS5wbGF0Zm9ybSlcbiAgICAgICAgICAgIC8vIERvZXMgaXQgaGF2ZSBhbiBBUk0gY2hpcCAoZS5nLiBNMS9NMikgYW5kIFZlbnR1cmE/IENoZWNrIHRoaXMgbGFzdCBhcyBnZXRIaWdoRW50cm9weVZhbHVlcyBjYW5cbiAgICAgICAgICAgIC8vIHRoZW9yZXRpY2FsbHkgdHJpZ2dlciBhIGJyb3dzZXIgcHJvbXB0LCBhbHRob3VnaCBubyBicm93c2VyIGN1cnJlbnRseSBkb2VzIHNlZW0gdG8gc2hvdyBvbmUuXG4gICAgICAgICAgICAvLyBJZiBicm93c2VyIG9yIHVzZXIgcmVmdXNlZCB0byByZXR1cm4gdGhlIHJlcXVlc3RlZCB2YWx1ZXMsIGFzc3VtZSBicm9rZW4gQVJNIFZlbnR1cmEsIHRvIGJlIHNhZmUuXG4gICAgICAgICAgICAmJiBhd2FpdCB1c2VyQWdlbnREYXRhLmdldEhpZ2hFbnRyb3B5VmFsdWVzKFsnYXJjaGl0ZWN0dXJlJywgJ3BsYXRmb3JtVmVyc2lvbiddKVxuICAgICAgICAgICAgICAgIC50aGVuKCh7IGFyY2hpdGVjdHVyZSwgcGxhdGZvcm1WZXJzaW9uIH0pID0+XG4gICAgICAgICAgICAgICAgICAgIC9hcm0vaS50ZXN0KGFyY2hpdGVjdHVyZSB8fCAnYXJtJykgJiYgcGFyc2VJbnQocGxhdGZvcm1WZXJzaW9uIHx8ICcxMycpID49IC8qIFZlbnR1cmEgKi8gMTMpXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHRydWUpO1xuICAgICAgICBpZiAoaXNDaHJvbWl1bU9uTWFjV2l0aEFybVZlbnR1cmEpIHJldHVybiBjcmVhdGVXb3JrZXIoKTtcblxuICAgICAgICByZXR1cm4gbmV3IEJhcmNvZGVEZXRlY3Rvcih7IGZvcm1hdHM6IFsncXJfY29kZSddIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX29uUGxheSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc2NhblJlZ2lvbiA9IHRoaXMuX2NhbGN1bGF0ZVNjYW5SZWdpb24odGhpcy4kdmlkZW8pO1xuICAgICAgICB0aGlzLl91cGRhdGVPdmVybGF5KCk7XG4gICAgICAgIGlmICh0aGlzLiRvdmVybGF5KSB7XG4gICAgICAgICAgICB0aGlzLiRvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zY2FuRnJhbWUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkxvYWRlZE1ldGFEYXRhKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zY2FuUmVnaW9uID0gdGhpcy5fY2FsY3VsYXRlU2NhblJlZ2lvbih0aGlzLiR2aWRlbyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU92ZXJsYXkoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vblZpc2liaWxpdHlDaGFuZ2UoKTogdm9pZCB7XG4gICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NhbGN1bGF0ZVNjYW5SZWdpb24odmlkZW86IEhUTUxWaWRlb0VsZW1lbnQpOiBRclNjYW5uZXIuU2NhblJlZ2lvbiB7XG4gICAgICAgIC8vIERlZmF1bHQgc2NhbiByZWdpb24gY2FsY3VsYXRpb24uIE5vdGUgdGhhdCB0aGlzIGNhbiBiZSBvdmVyd3JpdHRlbiBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgIGNvbnN0IHNtYWxsZXN0RGltZW5zaW9uID0gTWF0aC5taW4odmlkZW8udmlkZW9XaWR0aCwgdmlkZW8udmlkZW9IZWlnaHQpO1xuICAgICAgICBjb25zdCBzY2FuUmVnaW9uU2l6ZSA9IE1hdGgucm91bmQoMiAvIDMgKiBzbWFsbGVzdERpbWVuc2lvbik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBNYXRoLnJvdW5kKCh2aWRlby52aWRlb1dpZHRoIC0gc2NhblJlZ2lvblNpemUpIC8gMiksXG4gICAgICAgICAgICB5OiBNYXRoLnJvdW5kKCh2aWRlby52aWRlb0hlaWdodCAtIHNjYW5SZWdpb25TaXplKSAvIDIpLFxuICAgICAgICAgICAgd2lkdGg6IHNjYW5SZWdpb25TaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBzY2FuUmVnaW9uU2l6ZSxcbiAgICAgICAgICAgIGRvd25TY2FsZWRXaWR0aDogdGhpcy5fbGVnYWN5Q2FudmFzU2l6ZSxcbiAgICAgICAgICAgIGRvd25TY2FsZWRIZWlnaHQ6IHRoaXMuX2xlZ2FjeUNhbnZhc1NpemUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXBkYXRlT3ZlcmxheSgpOiB2b2lkIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFJ1bm5pbmcgaW4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHdoaWNoIHNob3VsZCBhdm9pZCBhIHBvdGVudGlhbCBhZGRpdGlvbmFsIHJlLWZsb3cgZm9yIGdldENvbXB1dGVkU3R5bGVcbiAgICAgICAgICAgIC8vIGFuZCBvZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0LCBvZmZzZXRMZWZ0LCBvZmZzZXRUb3AuXG4gICAgICAgICAgICBpZiAoIXRoaXMuJG92ZXJsYXkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gdGhpcy4kdmlkZW87XG4gICAgICAgICAgICBjb25zdCB2aWRlb1dpZHRoID0gdmlkZW8udmlkZW9XaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvSGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50V2lkdGggPSB2aWRlby5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSB2aWRlby5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IHZpZGVvLm9mZnNldExlZnQ7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IHZpZGVvLm9mZnNldFRvcDtcblxuICAgICAgICAgICAgY29uc3QgdmlkZW9TdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZpZGVvKTtcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvT2JqZWN0Rml0ID0gdmlkZW9TdHlsZS5vYmplY3RGaXQ7XG4gICAgICAgICAgICBjb25zdCB2aWRlb0FzcGVjdFJhdGlvID0gdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudEFzcGVjdFJhdGlvID0gZWxlbWVudFdpZHRoIC8gZWxlbWVudEhlaWdodDtcbiAgICAgICAgICAgIGxldCB2aWRlb1NjYWxlZFdpZHRoOiBudW1iZXI7XG4gICAgICAgICAgICBsZXQgdmlkZW9TY2FsZWRIZWlnaHQ6IG51bWJlcjtcbiAgICAgICAgICAgIHN3aXRjaCAodmlkZW9PYmplY3RGaXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9TY2FsZWRXaWR0aCA9IHZpZGVvV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvU2NhbGVkSGVpZ2h0ID0gdmlkZW9IZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGwnOlxuICAgICAgICAgICAgICAgICAgICB2aWRlb1NjYWxlZFdpZHRoID0gZWxlbWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2aWRlb1NjYWxlZEhlaWdodCA9IGVsZW1lbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IC8vICdjb3ZlcicsICdjb250YWlucycsICdzY2FsZS1kb3duJ1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9PYmplY3RGaXQgPT09ICdjb3ZlcidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdmlkZW9Bc3BlY3RSYXRpbyA+IGVsZW1lbnRBc3BlY3RSYXRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgOiB2aWRlb0FzcGVjdFJhdGlvIDwgZWxlbWVudEFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgc2NhbGVkIGhlaWdodCBpcyB0aGUgZWxlbWVudCBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gZm9yICdjb3ZlcicgaWYgdGhlIHZpZGVvIGFzcGVjdCByYXRpbyBpcyB3aWRlciB0aGFuIHRoZSBlbGVtZW50IGFzcGVjdCByYXRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAoc2NhbGVkIGhlaWdodCBtYXRjaGVzIGVsZW1lbnQgaGVpZ2h0IGFuZCBzY2FsZWQgd2lkdGggb3ZlcmZsb3dzIGVsZW1lbnQgd2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAtIGZvciAnY29udGFpbnMnLydzY2FsZS1kb3duJyBpZiBlbGVtZW50IGFzcGVjdCByYXRpbyBpcyB3aWRlciB0aGFuIHRoZSB2aWRlbyBhc3BlY3QgcmF0aW9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgKHNjYWxlZCBoZWlnaHQgbWF0Y2hlZCBlbGVtZW50IGhlaWdodCBhbmQgZWxlbWVudCB3aWR0aCBvdmVyZmxvd3Mgc2NhbGVkIHdpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9TY2FsZWRIZWlnaHQgPSBlbGVtZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9TY2FsZWRXaWR0aCA9IHZpZGVvU2NhbGVkSGVpZ2h0ICogdmlkZW9Bc3BlY3RSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvU2NhbGVkV2lkdGggPSBlbGVtZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlb1NjYWxlZEhlaWdodCA9IHZpZGVvU2NhbGVkV2lkdGggLyB2aWRlb0FzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWRlb09iamVjdEZpdCA9PT0gJ3NjYWxlLWRvd24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgJ3NjYWxlLWRvd24nIHRoZSBkaW1lbnNpb25zIGFyZSB0aGUgbWluaW11bSBvZiAnY29udGFpbnMnIGFuZCAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvU2NhbGVkV2lkdGggPSBNYXRoLm1pbih2aWRlb1NjYWxlZFdpZHRoLCB2aWRlb1dpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvU2NhbGVkSGVpZ2h0ID0gTWF0aC5taW4odmlkZW9TY2FsZWRIZWlnaHQsIHZpZGVvSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnZXRDb21wdXRlZFN0eWxlIGlzIHNvIG5pY2UgdG8gY29udmVydCBrZXl3b3JkcyAobGVmdCwgY2VudGVyLCByaWdodCwgdG9wLCBib3R0b20pIHRvIHBlcmNlbnQgYW5kIG1ha2VzXG4gICAgICAgICAgICAvLyBzdXJlIHRvIHNldCB0aGUgZGVmYXVsdCBvZiA1MCUgaWYgb25seSBvbmUgb3Igbm8gY29tcG9uZW50IHdhcyBwcm92aWRlZCwgdGhlcmVmb3JlIHdlIGNhbiBiZSBzdXJlIHRoYXRcbiAgICAgICAgICAgIC8vIGJvdGggY29tcG9uZW50cyBhcmUgc2V0LiBBZGRpdGlvbmFsbHksIGl0IGNvbnZlcnRzIHVuaXRzIG90aGVyIHRoYW4gcHggKGUuZy4gcmVtKSB0byBweC5cbiAgICAgICAgICAgIGNvbnN0IFt2aWRlb1gsIHZpZGVvWV0gPSB2aWRlb1N0eWxlLm9iamVjdFBvc2l0aW9uLnNwbGl0KCcgJykubWFwKChsZW5ndGgsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGhWYWx1ZSA9IHBhcnNlRmxvYXQobGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoLmVuZHNXaXRoKCclJylcbiAgICAgICAgICAgICAgICAgICAgPyAoIWkgPyBlbGVtZW50V2lkdGggLSB2aWRlb1NjYWxlZFdpZHRoIDogZWxlbWVudEhlaWdodCAtIHZpZGVvU2NhbGVkSGVpZ2h0KSAqIGxlbmd0aFZhbHVlIC8gMTAwXG4gICAgICAgICAgICAgICAgICAgIDogbGVuZ3RoVmFsdWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcmVnaW9uV2lkdGggPSB0aGlzLl9zY2FuUmVnaW9uLndpZHRoIHx8IHZpZGVvV2lkdGg7XG4gICAgICAgICAgICBjb25zdCByZWdpb25IZWlnaHQgPSB0aGlzLl9zY2FuUmVnaW9uLmhlaWdodCB8fCB2aWRlb0hlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lvblggPSB0aGlzLl9zY2FuUmVnaW9uLnggfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lvblkgPSB0aGlzLl9zY2FuUmVnaW9uLnkgfHwgMDtcblxuICAgICAgICAgICAgY29uc3Qgb3ZlcmxheVN0eWxlID0gdGhpcy4kb3ZlcmxheS5zdHlsZTtcbiAgICAgICAgICAgIG92ZXJsYXlTdHlsZS53aWR0aCA9IGAke3JlZ2lvbldpZHRoIC8gdmlkZW9XaWR0aCAqIHZpZGVvU2NhbGVkV2lkdGh9cHhgO1xuICAgICAgICAgICAgb3ZlcmxheVN0eWxlLmhlaWdodCA9IGAke3JlZ2lvbkhlaWdodCAvIHZpZGVvSGVpZ2h0ICogdmlkZW9TY2FsZWRIZWlnaHR9cHhgO1xuICAgICAgICAgICAgb3ZlcmxheVN0eWxlLnRvcCA9IGAke2VsZW1lbnRZICsgdmlkZW9ZICsgcmVnaW9uWSAvIHZpZGVvSGVpZ2h0ICogdmlkZW9TY2FsZWRIZWlnaHR9cHhgO1xuICAgICAgICAgICAgY29uc3QgaXNWaWRlb01pcnJvcmVkID0gL3NjYWxlWFxcKC0xXFwpLy50ZXN0KHZpZGVvLnN0eWxlLnRyYW5zZm9ybSEpO1xuICAgICAgICAgICAgb3ZlcmxheVN0eWxlLmxlZnQgPSBgJHtlbGVtZW50WFxuICAgICAgICAgICAgICAgICsgKGlzVmlkZW9NaXJyb3JlZCA/IGVsZW1lbnRXaWR0aCAtIHZpZGVvWCAtIHZpZGVvU2NhbGVkV2lkdGggOiB2aWRlb1gpXG4gICAgICAgICAgICAgICAgKyAoaXNWaWRlb01pcnJvcmVkID8gdmlkZW9XaWR0aCAtIHJlZ2lvblggLSByZWdpb25XaWR0aCA6IHJlZ2lvblgpIC8gdmlkZW9XaWR0aCAqIHZpZGVvU2NhbGVkV2lkdGh9cHhgO1xuICAgICAgICAgICAgLy8gYXBwbHkgc2FtZSBtaXJyb3IgYXMgb24gdmlkZW9cbiAgICAgICAgICAgIG92ZXJsYXlTdHlsZS50cmFuc2Zvcm0gPSB2aWRlby5zdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9jb252ZXJ0UG9pbnRzKFxuICAgICAgICBwb2ludHM6IFFyU2Nhbm5lci5Qb2ludFtdLFxuICAgICAgICBzY2FuUmVnaW9uPzogUXJTY2FubmVyLlNjYW5SZWdpb24gfCBudWxsLFxuICAgICk6IFFyU2Nhbm5lci5Qb2ludFtdIHtcbiAgICAgICAgaWYgKCFzY2FuUmVnaW9uKSByZXR1cm4gcG9pbnRzO1xuICAgICAgICBjb25zdCBvZmZzZXRYID0gc2NhblJlZ2lvbi54IHx8IDA7XG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSBzY2FuUmVnaW9uLnkgfHwgMDtcbiAgICAgICAgY29uc3Qgc2NhbGVGYWN0b3JYID0gc2NhblJlZ2lvbi53aWR0aCAmJiBzY2FuUmVnaW9uLmRvd25TY2FsZWRXaWR0aFxuICAgICAgICAgICAgPyBzY2FuUmVnaW9uLndpZHRoIC8gc2NhblJlZ2lvbi5kb3duU2NhbGVkV2lkdGhcbiAgICAgICAgICAgIDogMTtcbiAgICAgICAgY29uc3Qgc2NhbGVGYWN0b3JZID0gc2NhblJlZ2lvbi5oZWlnaHQgJiYgc2NhblJlZ2lvbi5kb3duU2NhbGVkSGVpZ2h0XG4gICAgICAgICAgICA/IHNjYW5SZWdpb24uaGVpZ2h0IC8gc2NhblJlZ2lvbi5kb3duU2NhbGVkSGVpZ2h0XG4gICAgICAgICAgICA6IDE7XG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKSB7XG4gICAgICAgICAgICBwb2ludC54ID0gcG9pbnQueCAqIHNjYWxlRmFjdG9yWCArIG9mZnNldFg7XG4gICAgICAgICAgICBwb2ludC55ID0gcG9pbnQueSAqIHNjYWxlRmFjdG9yWSArIG9mZnNldFk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zY2FuRnJhbWUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlIHx8IHRoaXMuJHZpZGVvLnBhdXNlZCB8fCB0aGlzLiR2aWRlby5lbmRlZCkgcmV0dXJuO1xuICAgICAgICAvLyBJZiByZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrIGlzIGF2YWlsYWJsZSB1c2UgdGhhdCB0byBhdm9pZCB1bm5lY2Vzc2FyeSBzY2FucyBvbiB0aGUgc2FtZSBmcmFtZSBhcyB0aGVcbiAgICAgICAgLy8gY2FtZXJhJ3MgZnJhbWVyYXRlIGNhbiBiZSBsb3dlciB0aGFuIHRoZSBzY3JlZW4gcmVmcmVzaCByYXRlIGFuZCB0aGlzLl9tYXhTY2Fuc1BlclNlY29uZCwgZXNwZWNpYWxseSBpbiBkYXJrXG4gICAgICAgIC8vIHNldHRpbmdzIHdoZXJlIHRoZSBleHBvc3VyZSB0aW1lIGlzIGxvbmdlci4gQm90aCwgcmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayBhbmQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGFyZSBub3RcbiAgICAgICAgLy8gYmVpbmcgZmlyZWQgaWYgdGhlIHRhYiBpcyBpbiB0aGUgYmFja2dyb3VuZCwgd2hpY2ggaXMgd2hhdCB3ZSB3YW50LlxuICAgICAgICBjb25zdCByZXF1ZXN0RnJhbWUgPSAncmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjaycgaW4gdGhpcy4kdmlkZW9cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgID8gdGhpcy4kdmlkZW8ucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjay5iaW5kKHRoaXMuJHZpZGVvKVxuICAgICAgICAgICAgOiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIHJlcXVlc3RGcmFtZShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kdmlkZW8ucmVhZHlTdGF0ZSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCBzY2FucyB1bnRpbCB0aGUgdmlkZW8gaXMgcmVhZHkgYXMgZHJhd0ltYWdlKCkgb25seSB3b3JrcyBjb3JyZWN0bHkgb24gYSB2aWRlbyB3aXRoIHJlYWR5U3RhdGVcbiAgICAgICAgICAgICAgICAvLyA+IDEsIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2RyYXdJbWFnZSNOb3Rlcy5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFsc28gYXZvaWRzIGZhbHNlIHBvc2l0aXZlcyBmb3IgdmlkZW9zIHBhdXNlZCBhZnRlciBhIHN1Y2Nlc3NmdWwgc2NhbiB3aGljaCByZW1haW5zIHZpc2libGUgb25cbiAgICAgICAgICAgICAgICAvLyB0aGUgY2FudmFzIHVudGlsIHRoZSB2aWRlbyBpcyBzdGFydGVkIGFnYWluIGFuZCByZWFkeS5cbiAgICAgICAgICAgICAgICB0aGlzLl9zY2FuRnJhbWUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RTY2FuID0gRGF0ZS5ub3coKSAtIHRoaXMuX2xhc3RTY2FuVGltZXN0YW1wO1xuICAgICAgICAgICAgY29uc3QgbWluaW11bVRpbWVCZXR3ZWVuU2NhbnMgPSAxMDAwIC8gdGhpcy5fbWF4U2NhbnNQZXJTZWNvbmQ7XG4gICAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdFNjYW4gPCBtaW5pbXVtVGltZUJldHdlZW5TY2Fucykge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1pbmltdW1UaW1lQmV0d2VlblNjYW5zIC0gdGltZVNpbmNlTGFzdFNjYW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdTY2FuIHJhdGU6JywgTWF0aC5yb3VuZCgxMDAwIC8gKERhdGUubm93KCkgLSB0aGlzLl9sYXN0U2NhblRpbWVzdGFtcCkpKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RTY2FuVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgbGV0IHJlc3VsdDogUXJTY2FubmVyLlNjYW5SZXN1bHQgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IFFyU2Nhbm5lci5zY2FuSW1hZ2UodGhpcy4kdmlkZW8sIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhblJlZ2lvbjogdGhpcy5fc2NhblJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgcXJFbmdpbmU6IHRoaXMuX3FyRW5naW5lUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzOiB0aGlzLiRjYW52YXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EZWNvZGVFcnJvcihlcnJvciBhcyBFcnJvciB8IHN0cmluZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChRclNjYW5uZXIuX2Rpc2FibGVCYXJjb2RlRGV0ZWN0b3IgJiYgIShhd2FpdCB0aGlzLl9xckVuZ2luZVByb21pc2UgaW5zdGFuY2VvZiBXb3JrZXIpKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgZGlzYWJsZWQgQmFyY29kZURldGVjdG9yXG4gICAgICAgICAgICAgICAgdGhpcy5fcXJFbmdpbmVQcm9taXNlID0gUXJTY2FubmVyLmNyZWF0ZVFyRW5naW5lKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25EZWNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25EZWNvZGUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2xlZ2FjeU9uRGVjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xlZ2FjeU9uRGVjb2RlKHJlc3VsdC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kY29kZU91dGxpbmVIaWdobGlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2NvZGVPdXRsaW5lSGlnaGxpZ2h0UmVtb3ZhbFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2RlT3V0bGluZUhpZ2hsaWdodFJlbW92YWxUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb2RlT3V0bGluZUhpZ2hsaWdodC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAndmlld0JveCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLl9zY2FuUmVnaW9uLnggfHwgMH0gYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCR7dGhpcy5fc2NhblJlZ2lvbi55IHx8IDB9IGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGAke3RoaXMuX3NjYW5SZWdpb24ud2lkdGggfHwgdGhpcy4kdmlkZW8udmlkZW9XaWR0aH0gYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCR7dGhpcy5fc2NhblJlZ2lvbi5oZWlnaHQgfHwgdGhpcy4kdmlkZW8udmlkZW9IZWlnaHR9YCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9seWdvbiA9IHRoaXMuJGNvZGVPdXRsaW5lSGlnaGxpZ2h0LmZpcnN0RWxlbWVudENoaWxkITtcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvbi5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIHJlc3VsdC5jb3JuZXJQb2ludHMubWFwKCh7eCwgeX0pID0+IGAke3h9LCR7eX1gKS5qb2luKCcgJykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb2RlT3V0bGluZUhpZ2hsaWdodC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRjb2RlT3V0bGluZUhpZ2hsaWdodCAmJiAhdGhpcy5fY29kZU91dGxpbmVIaWdobGlnaHRSZW1vdmFsVGltZW91dCkge1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgYWZ0ZXIgdGltZW91dCB0byBtYWtlIGl0IGZsYXNoIGxlc3Mgd2hlbiBvbiBzb21lIGZyYW1lcyB0aGUgUVIgY29kZSBpcyBkZXRlY3RlZCBhbmQgb24gc29tZSBub3RcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2RlT3V0bGluZUhpZ2hsaWdodFJlbW92YWxUaW1lb3V0ID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gdGhpcy4kY29kZU91dGxpbmVIaWdobGlnaHQhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgIDEwMCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zY2FuRnJhbWUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfb25EZWNvZGVFcnJvcihlcnJvcjogRXJyb3IgfCBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgLy8gZGVmYXVsdCBlcnJvciBoYW5kbGVyOyBjYW4gYmUgb3ZlcndyaXR0ZW4gaW4gdGhlIGNvbnN0cnVjdG9yXG4gICAgICAgIGlmIChlcnJvciA9PT0gUXJTY2FubmVyLk5PX1FSX0NPREVfRk9VTkQpIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldENhbWVyYVN0cmVhbSgpOiBQcm9taXNlPHsgc3RyZWFtOiBNZWRpYVN0cmVhbSwgZmFjaW5nTW9kZTogUXJTY2FubmVyLkZhY2luZ01vZGUgfT4ge1xuICAgICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHRocm93ICdDYW1lcmEgbm90IGZvdW5kLic7XG5cbiAgICAgICAgY29uc3QgcHJlZmVyZW5jZVR5cGUgPSAvXihlbnZpcm9ubWVudHx1c2VyKSQvLnRlc3QodGhpcy5fcHJlZmVycmVkQ2FtZXJhKVxuICAgICAgICAgICAgPyAnZmFjaW5nTW9kZSdcbiAgICAgICAgICAgIDogJ2RldmljZUlkJztcbiAgICAgICAgY29uc3QgY29uc3RyYWludHNXaXRob3V0Q2FtZXJhOiBBcnJheTxNZWRpYVRyYWNrQ29uc3RyYWludHM+ID0gW3tcbiAgICAgICAgICAgIHdpZHRoOiB7IG1pbjogMTAyNCB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHdpZHRoOiB7IG1pbjogNzY4IH1cbiAgICAgICAgfSwge31dO1xuICAgICAgICBjb25zdCBjb25zdHJhaW50c1dpdGhDYW1lcmEgPSBjb25zdHJhaW50c1dpdGhvdXRDYW1lcmEubWFwKChjb25zdHJhaW50KSA9PiBPYmplY3QuYXNzaWduKHt9LCBjb25zdHJhaW50LCB7XG4gICAgICAgICAgICBbcHJlZmVyZW5jZVR5cGVdOiB7IGV4YWN0OiB0aGlzLl9wcmVmZXJyZWRDYW1lcmEgfSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGZvciAoY29uc3QgY29uc3RyYWludHMgb2YgWy4uLmNvbnN0cmFpbnRzV2l0aENhbWVyYSwgLi4uY29uc3RyYWludHNXaXRob3V0Q2FtZXJhXSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IHZpZGVvOiBjb25zdHJhaW50cywgYXVkaW86IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBkZXRlcm1pbmUgdGhlIGZhY2luZyBtb2RlIGZyb20gdGhlIHN0cmVhbSwgb3RoZXJ3aXNlIHVzZSBhIGd1ZXNzIG9yICdlbnZpcm9ubWVudCcgYXNcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0LiBOb3RlIHRoYXQgdGhlIGd1ZXNzIGlzIG5vdCBhbHdheXMgYWNjdXJhdGUgYXMgU2FmYXJpIHJldHVybnMgY2FtZXJhcyBvZiBkaWZmZXJlbnQgZmFjaW5nXG4gICAgICAgICAgICAgICAgLy8gbW9kZSwgZXZlbiBmb3IgZXhhY3QgZmFjaW5nTW9kZSBjb25zdHJhaW50cy5cbiAgICAgICAgICAgICAgICBjb25zdCBmYWNpbmdNb2RlID0gdGhpcy5fZ2V0RmFjaW5nTW9kZShzdHJlYW0pXG4gICAgICAgICAgICAgICAgICAgIHx8IChjb25zdHJhaW50cy5mYWNpbmdNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuX3ByZWZlcnJlZENhbWVyYSBhcyBRclNjYW5uZXIuRmFjaW5nTW9kZSAvLyBhIGZhY2luZyBtb2RlIHdlIHdlcmUgYWJsZSB0byBmdWxmaWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICh0aGlzLl9wcmVmZXJyZWRDYW1lcmEgPT09ICdlbnZpcm9ubWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd1c2VyJyAvLyBzd2l0Y2ggYXMgX3ByZWZlcnJlZENhbWVyYSB3YXMgZW52aXJvbm1lbnQgYnV0IHdlIGFyZSBub3QgYWJsZSB0byBmdWxmaWxsIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnZW52aXJvbm1lbnQnIC8vIHN3aXRjaCBmcm9tIHVuZnVsZmlsbGVkIHVzZXIgZmFjaW5nTW9kZSBvciBkZWZhdWx0IHRvIGVudmlyb25tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RyZWFtLCBmYWNpbmdNb2RlIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgJ0NhbWVyYSBub3QgZm91bmQuJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9yZXN0YXJ0VmlkZW9TdHJlYW0oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBhbHdheXMgcGF1c2UgdGhlIHN0cmVhbSBhbmQgbm90IG9ubHkgaWYgIXRoaXMuX3BhdXNlZCBhcyBldmVuIGlmIHRoaXMuX3BhdXNlZCA9PT0gdHJ1ZSwgdGhlXG4gICAgICAgIC8vIHN0cmVhbSBtaWdodCBzdGlsbCBiZSBydW5uaW5nLCBhcyBpdCdzIGJ5IGRlZmF1bHQgb25seSBzdG9wcGVkIGFmdGVyIGEgZGVsYXkgb2YgMzAwbXMuXG4gICAgICAgIGNvbnN0IHdhc1BhdXNlZCA9IHRoaXMuX3BhdXNlZDtcbiAgICAgICAgY29uc3QgcGF1c2VkID0gYXdhaXQgdGhpcy5wYXVzZSh0cnVlKTtcbiAgICAgICAgaWYgKCFwYXVzZWQgfHwgd2FzUGF1c2VkIHx8ICF0aGlzLl9hY3RpdmUpIHJldHVybjtcbiAgICAgICAgYXdhaXQgdGhpcy5zdGFydCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9zdG9wVmlkZW9TdHJlYW0oc3RyZWFtIDogTWVkaWFTdHJlYW0pOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiBzdHJlYW0uZ2V0VHJhY2tzKCkpIHtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AoKTsgLy8gIG5vdGUgdGhhdCB0aGlzIHdpbGwgYWxzbyBhdXRvbWF0aWNhbGx5IHR1cm4gdGhlIGZsYXNobGlnaHQgb2ZmXG4gICAgICAgICAgICBzdHJlYW0ucmVtb3ZlVHJhY2sodHJhY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0VmlkZW9NaXJyb3IoZmFjaW5nTW9kZTogUXJTY2FubmVyLkZhY2luZ01vZGUpOiB2b2lkIHtcbiAgICAgICAgLy8gaW4gdXNlciBmYWNpbmcgbW9kZSBtaXJyb3IgdGhlIHZpZGVvIHRvIG1ha2UgaXQgZWFzaWVyIGZvciB0aGUgdXNlciB0byBwb3NpdGlvbiB0aGUgUVIgY29kZVxuICAgICAgICBjb25zdCBzY2FsZUZhY3RvciA9IGZhY2luZ01vZGUgPT09ICd1c2VyJz8gLTEgOiAxO1xuICAgICAgICB0aGlzLiR2aWRlby5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcgKyBzY2FsZUZhY3RvciArICcpJztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRGYWNpbmdNb2RlKHZpZGVvU3RyZWFtOiBNZWRpYVN0cmVhbSk6IFFyU2Nhbm5lci5GYWNpbmdNb2RlIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB2aWRlb1N0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgICBpZiAoIXZpZGVvVHJhY2spIHJldHVybiBudWxsOyAvLyB1bmtub3duXG4gICAgICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9Kb2R1c05vZHVzL3JlYWN0LXFyLXJlYWRlci9ibG9iL21hc3Rlci9zcmMvZ2V0RGV2aWNlSWQuanMjTDEzXG4gICAgICAgIHJldHVybiAvcmVhcnxiYWNrfGVudmlyb25tZW50L2kudGVzdCh2aWRlb1RyYWNrLmxhYmVsKVxuICAgICAgICAgICAgPyAnZW52aXJvbm1lbnQnXG4gICAgICAgICAgICA6IC9mcm9udHx1c2VyfGZhY2UvaS50ZXN0KHZpZGVvVHJhY2subGFiZWwpXG4gICAgICAgICAgICAgICAgPyAndXNlcidcbiAgICAgICAgICAgICAgICA6IG51bGw7IC8vIHVua25vd25cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfZHJhd1RvQ2FudmFzKFxuICAgICAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IE9mZnNjcmVlbkNhbnZhcyB8IEltYWdlQml0bWFwXG4gICAgICAgICAgICB8IFNWR0ltYWdlRWxlbWVudCxcbiAgICAgICAgc2NhblJlZ2lvbj86IFFyU2Nhbm5lci5TY2FuUmVnaW9uIHwgbnVsbCxcbiAgICAgICAgY2FudmFzPzogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsLFxuICAgICAgICBkaXNhbGxvd0NhbnZhc1Jlc2l6aW5nPSBmYWxzZSxcbiAgICApOiBbSFRNTENhbnZhc0VsZW1lbnQsIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRF0ge1xuICAgICAgICBjYW52YXMgPSBjYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IHNjYW5SZWdpb25YID0gc2NhblJlZ2lvbiAmJiBzY2FuUmVnaW9uLnggPyBzY2FuUmVnaW9uLnggOiAwO1xuICAgICAgICBjb25zdCBzY2FuUmVnaW9uWSA9IHNjYW5SZWdpb24gJiYgc2NhblJlZ2lvbi55ID8gc2NhblJlZ2lvbi55IDogMDtcbiAgICAgICAgY29uc3Qgc2NhblJlZ2lvbldpZHRoID0gc2NhblJlZ2lvbiAmJiBzY2FuUmVnaW9uLndpZHRoXG4gICAgICAgICAgICA/IHNjYW5SZWdpb24ud2lkdGhcbiAgICAgICAgICAgIDogKGltYWdlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnZpZGVvV2lkdGggfHwgaW1hZ2Uud2lkdGggYXMgbnVtYmVyO1xuICAgICAgICBjb25zdCBzY2FuUmVnaW9uSGVpZ2h0ID0gc2NhblJlZ2lvbiAmJiBzY2FuUmVnaW9uLmhlaWdodFxuICAgICAgICAgICAgPyBzY2FuUmVnaW9uLmhlaWdodFxuICAgICAgICAgICAgOiAoaW1hZ2UgYXMgSFRNTFZpZGVvRWxlbWVudCkudmlkZW9IZWlnaHQgfHwgaW1hZ2UuaGVpZ2h0IGFzIG51bWJlcjtcblxuICAgICAgICBpZiAoIWRpc2FsbG93Q2FudmFzUmVzaXppbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gc2NhblJlZ2lvbiAmJiBzY2FuUmVnaW9uLmRvd25TY2FsZWRXaWR0aFxuICAgICAgICAgICAgICAgID8gc2NhblJlZ2lvbi5kb3duU2NhbGVkV2lkdGhcbiAgICAgICAgICAgICAgICA6IHNjYW5SZWdpb25XaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IHNjYW5SZWdpb24gJiYgc2NhblJlZ2lvbi5kb3duU2NhbGVkSGVpZ2h0XG4gICAgICAgICAgICAgICAgPyBzY2FuUmVnaW9uLmRvd25TY2FsZWRIZWlnaHRcbiAgICAgICAgICAgICAgICA6IHNjYW5SZWdpb25IZWlnaHQ7XG4gICAgICAgICAgICAvLyBTZXR0aW5nIHRoZSBjYW52YXMgd2lkdGggb3IgaGVpZ2h0IGNsZWFycyB0aGUgY2FudmFzLCBldmVuIGlmIHRoZSB2YWx1ZXMgZGlkbid0IGNoYW5nZSwgdGhlcmVmb3JlIG9ubHlcbiAgICAgICAgICAgIC8vIHNldCB0aGVtIGlmIHRoZXkgYWN0dWFsbHkgY2hhbmdlZC5cbiAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IGNhbnZhc1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FudmFzLmhlaWdodCAhPT0gY2FudmFzSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KSE7XG4gICAgICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7IC8vIGdpdmVzIGxlc3MgYmx1cnJ5IGltYWdlc1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgc2NhblJlZ2lvblgsIHNjYW5SZWdpb25ZLCBzY2FuUmVnaW9uV2lkdGgsIHNjYW5SZWdpb25IZWlnaHQsXG4gICAgICAgICAgICAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBbY2FudmFzLCBjb250ZXh0XTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBfbG9hZEltYWdlKFxuICAgICAgICBpbWFnZU9yRmlsZU9yQmxvYk9yVXJsOiBIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTFZpZGVvRWxlbWVudCB8IEhUTUxDYW52YXNFbGVtZW50IHwgT2Zmc2NyZWVuQ2FudmFzIHwgSW1hZ2VCaXRtYXBcbiAgICAgICAgICAgIHwgU1ZHSW1hZ2VFbGVtZW50IHwgRmlsZSB8IEJsb2IgfCBVUkwgfCBTdHJpbmcsXG4gICAgKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTFZpZGVvRWxlbWVudCB8IEhUTUxDYW52YXNFbGVtZW50IHwgT2Zmc2NyZWVuQ2FudmFzIHwgSW1hZ2VCaXRtYXBcbiAgICAgICAgfCBTVkdJbWFnZUVsZW1lbnQgPiB7XG4gICAgICAgIGlmIChpbWFnZU9yRmlsZU9yQmxvYk9yVXJsIGluc3RhbmNlb2YgSW1hZ2UpIHtcbiAgICAgICAgICAgIGF3YWl0IFFyU2Nhbm5lci5fYXdhaXRJbWFnZUxvYWQoaW1hZ2VPckZpbGVPckJsb2JPclVybCk7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VPckZpbGVPckJsb2JPclVybDtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZU9yRmlsZU9yQmxvYk9yVXJsIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudFxuICAgICAgICAgICAgfHwgaW1hZ2VPckZpbGVPckJsb2JPclVybCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50XG4gICAgICAgICAgICB8fCBpbWFnZU9yRmlsZU9yQmxvYk9yVXJsIGluc3RhbmNlb2YgU1ZHSW1hZ2VFbGVtZW50XG4gICAgICAgICAgICB8fCAnT2Zmc2NyZWVuQ2FudmFzJyBpbiB3aW5kb3cgJiYgaW1hZ2VPckZpbGVPckJsb2JPclVybCBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhc1xuICAgICAgICAgICAgfHwgJ0ltYWdlQml0bWFwJyBpbiB3aW5kb3cgJiYgaW1hZ2VPckZpbGVPckJsb2JPclVybCBpbnN0YW5jZW9mIEltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VPckZpbGVPckJsb2JPclVybDtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZU9yRmlsZU9yQmxvYk9yVXJsIGluc3RhbmNlb2YgRmlsZSB8fCBpbWFnZU9yRmlsZU9yQmxvYk9yVXJsIGluc3RhbmNlb2YgQmxvYlxuICAgICAgICAgICAgfHwgaW1hZ2VPckZpbGVPckJsb2JPclVybCBpbnN0YW5jZW9mIFVSTCB8fCB0eXBlb2YgaW1hZ2VPckZpbGVPckJsb2JPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpZiAoaW1hZ2VPckZpbGVPckJsb2JPclVybCBpbnN0YW5jZW9mIEZpbGUgfHwgaW1hZ2VPckZpbGVPckJsb2JPclVybCBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlT3JGaWxlT3JCbG9iT3JVcmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZU9yRmlsZU9yQmxvYk9yVXJsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IFFyU2Nhbm5lci5fYXdhaXRJbWFnZUxvYWQoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlT3JGaWxlT3JCbG9iT3JVcmwgaW5zdGFuY2VvZiBGaWxlIHx8IGltYWdlT3JGaWxlT3JCbG9iT3JVcmwgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2Uuc3JjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAnVW5zdXBwb3J0ZWQgaW1hZ2UgdHlwZS4nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgX2F3YWl0SW1hZ2VMb2FkKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChpbWFnZS5jb21wbGV0ZSAmJiBpbWFnZS5uYXR1cmFsV2lkdGggIT09IDApIHJldHVybjsgLy8gYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoZXZlbnQ6IEVycm9yRXZlbnQgfCBFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgaW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgRXJyb3JFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0ltYWdlIGxvYWQgZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgX3Bvc3RXb3JrZXJNZXNzYWdlKFxuICAgICAgICBxckVuZ2luZU9yUXJFbmdpbmVQcm9taXNlOiBXb3JrZXIgfCBCYXJjb2RlRGV0ZWN0b3IgfCBQcm9taXNlPFdvcmtlciB8IEJhcmNvZGVEZXRlY3Rvcj4sXG4gICAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgICAgZGF0YT86IGFueSxcbiAgICAgICAgdHJhbnNmZXI/OiBUcmFuc2ZlcmFibGVbXSxcbiAgICApOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4gUXJTY2FubmVyLl9wb3N0V29ya2VyTWVzc2FnZVN5bmMoYXdhaXQgcXJFbmdpbmVPclFyRW5naW5lUHJvbWlzZSwgdHlwZSwgZGF0YSwgdHJhbnNmZXIpO1xuICAgIH1cblxuICAgIC8vIHN5bmMgdmVyc2lvbiBvZiBfcG9zdFdvcmtlck1lc3NhZ2Ugd2l0aG91dCBwZXJmb3JtYW5jZSBvdmVyaGVhZCBvZiBhc3luYyBmdW5jdGlvbnNcbiAgICBwcml2YXRlIHN0YXRpYyBfcG9zdFdvcmtlck1lc3NhZ2VTeW5jKFxuICAgICAgICBxckVuZ2luZTogV29ya2VyIHwgQmFyY29kZURldGVjdG9yLFxuICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgIGRhdGE/OiBhbnksXG4gICAgICAgIHRyYW5zZmVyPzogVHJhbnNmZXJhYmxlW10sXG4gICAgKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCEocXJFbmdpbmUgaW5zdGFuY2VvZiBXb3JrZXIpKSByZXR1cm4gLTE7XG4gICAgICAgIGNvbnN0IGlkID0gUXJTY2FubmVyLl93b3JrZXJNZXNzYWdlSWQrKztcbiAgICAgICAgcXJFbmdpbmUucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgfSwgdHJhbnNmZXIpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxufVxuXG5kZWNsYXJlIG5hbWVzcGFjZSBRclNjYW5uZXIge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2NhblJlZ2lvbiB7XG4gICAgICAgIHg/OiBudW1iZXI7XG4gICAgICAgIHk/OiBudW1iZXI7XG4gICAgICAgIHdpZHRoPzogbnVtYmVyO1xuICAgICAgICBoZWlnaHQ/OiBudW1iZXI7XG4gICAgICAgIGRvd25TY2FsZWRXaWR0aD86IG51bWJlcjtcbiAgICAgICAgZG93blNjYWxlZEhlaWdodD86IG51bWJlcjtcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBGYWNpbmdNb2RlID0gJ2Vudmlyb25tZW50JyB8ICd1c2VyJztcbiAgICBleHBvcnQgdHlwZSBEZXZpY2VJZCA9IHN0cmluZztcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ2FtZXJhIHtcbiAgICAgICAgaWQ6IERldmljZUlkO1xuICAgICAgICBsYWJlbDogc3RyaW5nO1xuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIEludmVyc2lvbk1vZGUgPSAnb3JpZ2luYWwnIHwgJ2ludmVydCcgfCAnYm90aCc7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIFBvaW50IHtcbiAgICAgICAgeDogbnVtYmVyO1xuICAgICAgICB5OiBudW1iZXI7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBTY2FuUmVzdWx0IHtcbiAgICAgICAgZGF0YTogc3RyaW5nO1xuICAgICAgICAvLyBJbiBjbG9ja3dpc2Ugb3JkZXIsIHN0YXJ0aW5nIGF0IHRvcCBsZWZ0LCBidXQgdGhpcyBtaWdodCBub3QgYmUgZ3VhcmFudGVlZCBpbiB0aGUgZnV0dXJlLlxuICAgICAgICBjb3JuZXJQb2ludHM6IFFyU2Nhbm5lci5Qb2ludFtdO1xuICAgIH1cbn1cblxuLy8gc2ltcGxpZmllZCBmcm9tIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vc2hhcGUtZGV0ZWN0aW9uLWFwaS8jYmFyY29kZS1kZXRlY3Rpb24tYXBpXG5kZWNsYXJlIGNsYXNzIEJhcmNvZGVEZXRlY3RvciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IHsgZm9ybWF0czogc3RyaW5nW10gfSk7XG4gICAgc3RhdGljIGdldFN1cHBvcnRlZEZvcm1hdHMoKTogUHJvbWlzZTxzdHJpbmdbXT47XG4gICAgZGV0ZWN0KGltYWdlOiBJbWFnZUJpdG1hcFNvdXJjZSk6IFByb21pc2U8QXJyYXk8eyByYXdWYWx1ZTogc3RyaW5nLCBjb3JuZXJQb2ludHM6IFFyU2Nhbm5lci5Qb2ludFtdIH0+Pjtcbn1cblxuLy8gc2ltcGxpZmllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sdWtld2FybG93L3VzZXItYWdlbnQtZGF0YS10eXBlcy9ibG9iL21hc3Rlci9pbmRleC5kLnRzXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIE5hdmlnYXRvciB7XG4gICAgICAgIHJlYWRvbmx5IHVzZXJBZ2VudERhdGE/OiB7XG4gICAgICAgICAgICByZWFkb25seSBwbGF0Zm9ybTogc3RyaW5nO1xuICAgICAgICAgICAgcmVhZG9ubHkgYnJhbmRzOiBBcnJheTx7XG4gICAgICAgICAgICAgICAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcbiAgICAgICAgICAgICAgICByZWFkb25seSB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgICAgICAgICB9PjtcbiAgICAgICAgICAgIGdldEhpZ2hFbnRyb3B5VmFsdWVzKGhpbnRzOiBzdHJpbmdbXSk6IFByb21pc2U8e1xuICAgICAgICAgICAgICAgIHJlYWRvbmx5IGFyY2hpdGVjdHVyZT86IHN0cmluZztcbiAgICAgICAgICAgICAgICByZWFkb25seSBwbGF0Zm9ybVZlcnNpb24/OiBzdHJpbmc7XG4gICAgICAgICAgICB9PjtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFFyU2Nhbm5lcjtcbiIsICJpbXBvcnQgUXJTY2FubmVyIGZyb20gXCJxci1zY2FubmVyXCI7XG53aW5kb3cuUXJTY2FubmVyID0gUXJTY2FubmVyO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7O21CQVNFQSxNQUFBQSxJQUFZQyxPQUNWLElBQUtDLGdCQUNBQyxJQUFjQyxLQUFBQSxDQUFuQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztjYVhKLEdBMEdJQyxHQUFBQSxHQUFBQSxHQUFBQSxHQUFB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LElBQUEsT0FBQTtBQUNJVixVQUFNNUIsb0JBQW9CLFFBQVEwSyxDQUFsQztBQUNBOUksVUFBTTVCLG9CQUFvQixTQUFTMEssQ0FBbkM7QUFDSS9ILHFCQUFpQmdJLGFBQ2pCckksRUFBTyxrQkFBUCxJQUVBdkIsRUFBQTtNQUFBO0FBR1JhLFFBQU0xRSxpQkFBaUIsUUFBUXdOLENBQS9CO0FBQ0E5SSxRQUFNMUUsaUJBQWlCLFNBQVN3TixDQUFoQztJQUFBLENBWEU7RUFBQTtFQWVXeEssYUFBQUEsbUJBQ2pCMEssR0FDQUMsR0FDQWpJLEdBQ0FrSSxHQUptQztBQU1uQyxXQUFPek4sR0FBVStFLHVCQUF1QixNQUFNd0ksR0FBMkJDLEdBQU1qSSxHQUFNa0ksQ0FBOUU7RUFBQTtFQUlJMUksT0FBQUEsdUJBQ1hkLEdBQ0F1SixHQUNBakksR0FDQWtJLEdBSmlDO0FBTWpDLFFBQUksRUFBRXhKLGFBQW9CWSxRQUFTLFFBQU87QUFDMUMsUUFBQSxJQUFBLEdBQUE7QUFDQVosTUFBU3lKLFlBQVksRUFDakJ0TSxJQUFBQSxHQUNBb00sTUFBQUEsR0FDQWpJLE1BQUFBLEVBSGlCLEdBSWxCa0ksQ0FKSDtBQUtBLFdBQU9yTTtFQUFBQTtBQXhpQ2Y7QUFDb0JwQixFQUFBQSxzQkFBc0I7QUFDdEJBLEVBQUFBLG1CQUFtQjtBQUNwQkEsRUFBQUEsMEJBQTBCO0FBQzFCQSxFQUFBQSxtQkFBbUI7QUFBQSxJQUFBLHlCQUFBOzs7QUNIdEMsT0FBTyxZQUFZOyIsCiAgIm5hbWVzIjogWyJjb25zdHJ1Y3RvciIsICJkYXRhIiwgIndpZHRoIiwgImhlaWdodCIsICJsZW5ndGgiLCAiY29uc3RydWN0b3IiLCAib25EZWNvZGUiLCAiREVGQVVMVF9DQU5WQVNfU0laRSIsICIkdmlkZW8iLCAiJGNhbnZhcyIsICJjcmVhdGVFbGVtZW50IiwgIl9vbkRlY29kZSIsICJjYW52YXNTaXplT3JDYWxjdWxhdGVTY2FuUmVnaW9uIiwgImNvbnNvbGUiLCAiX2xlZ2FjeU9uRGVjb2RlIiwgImNhbnZhc1NpemVPck9uRGVjb2RlRXJyb3JPck9wdGlvbnMiLCAiX29uRGVjb2RlRXJyb3IiLCAib3B0aW9ucyIsICJvbkRlY29kZUVycm9yIiwgIl9jYWxjdWxhdGVTY2FuUmVnaW9uIiwgImNhbGN1bGF0ZVNjYW5SZWdpb24iLCAiX3ByZWZlcnJlZENhbWVyYSIsICJwcmVmZXJyZWRDYW1lcmEiLCAiX2xlZ2FjeUNhbnZhc1NpemUiLCAiX21heFNjYW5zUGVyU2Vjb25kIiwgIm1heFNjYW5zUGVyU2Vjb25kIiwgIl9vblBsYXkiLCAiYmluZCIsICJfb25Mb2FkZWRNZXRhRGF0YSIsICJfb25WaXNpYmlsaXR5Q2hhbmdlIiwgIl91cGRhdGVPdmVybGF5IiwgInZpZGVvIiwgImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlIiwgInBsYXlzSW5saW5lIiwgIm11dGVkIiwgInNob3VsZEhpZGVWaWRlbyIsICJoaWRkZW4iLCAiZG9jdW1lbnQiLCAiYm9keSIsICJjb250YWlucyIsICJhcHBlbmRDaGlsZCIsICJoaWdobGlnaHRTY2FuUmVnaW9uIiwgImhpZ2hsaWdodENvZGVPdXRsaW5lIiwgIiRvdmVybGF5IiwgIm92ZXJsYXkiLCAib3ZlcmxheVN0eWxlIiwgInBvc2l0aW9uIiwgImRpc3BsYXkiLCAicG9pbnRlckV2ZW50cyIsICJjbGFzc0xpc3QiLCAiYWRkIiwgImdvdEV4dGVybmFsT3ZlcmxheSIsICJpbm5lckhUTUwiLCAiZmlyc3RFbGVtZW50Q2hpbGQiLCAiYW5pbWF0ZSIsICJ0cmFuc2Zvcm0iLCAiZHVyYXRpb24iLCAiaXRlcmF0aW9ucyIsICJJbmZpbml0eSIsICJkaXJlY3Rpb24iLCAiZWFzaW5nIiwgImUiLCAidmlkZW9Db250YWluZXIiLCAiaW5zZXJ0QmVmb3JlIiwgIm5leHRTaWJsaW5nIiwgImluc2VydEFkamFjZW50SFRNTCIsICIkY29kZU91dGxpbmVIaWdobGlnaHQiLCAibGFzdEVsZW1lbnRDaGlsZCIsICJfc2NhblJlZ2lvbiIsICJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCAidmlkZW9TdHlsZSIsICJzdHlsZSIsICJzZXRQcm9wZXJ0eSIsICJ2aXNpYmlsaXR5IiwgIndhcm4iLCAib3BhY2l0eSIsICJ3aWR0aCIsICJoZWlnaHQiLCAicGFyZW50RWxlbWVudCIsICJyZW1vdmVDaGlsZCIsICJhZGRFdmVudExpc3RlbmVyIiwgIndpbmRvdyIsICJfcXJFbmdpbmVQcm9taXNlIiwgIlFyU2Nhbm5lciIsICJjcmVhdGVRckVuZ2luZSIsICJ3b3JrZXJQYXRoIiwgImhhc0NhbWVyYSIsICJsaXN0Q2FtZXJhcyIsICJsZW5ndGgiLCAicmVxdWVzdExhYmVscyIsICJuYXZpZ2F0b3IiLCAibWVkaWFEZXZpY2VzIiwgImZpbHRlciIsICJkZXZpY2UiLCAib3BlbmVkU3RyZWFtIiwgImVudW1lcmF0ZUNhbWVyYXMiLCAiZXZlcnkiLCAiY2FtZXJhIiwgImxhYmVsIiwgImdldFVzZXJNZWRpYSIsICJhdWRpbyIsICJtYXAiLCAiaSIsICJpZCIsICJkZXZpY2VJZCIsICJfc3RvcFZpZGVvU3RyZWFtIiwgImhhc0ZsYXNoIiwgInN0cmVhbSIsICJzcmNPYmplY3QiLCAiTWVkaWFTdHJlYW0iLCAiX2dldENhbWVyYVN0cmVhbSIsICJnZXRWaWRlb1RyYWNrcyIsICJnZXRTZXR0aW5ncyIsICJpc0ZsYXNoT24iLCAiX2ZsYXNoT24iLCAidG9nZ2xlRmxhc2giLCAidHVybkZsYXNoT2ZmIiwgInR1cm5GbGFzaE9uIiwgIl9kZXN0cm95ZWQiLCAiX2FjdGl2ZSIsICJfcGF1c2VkIiwgImFwcGx5Q29uc3RyYWludHMiLCAiYWR2YW5jZWQiLCAidG9yY2giLCAiX3Jlc3RhcnRWaWRlb1N0cmVhbSIsICJkZXN0cm95IiwgInJlbW92ZUV2ZW50TGlzdGVuZXIiLCAic3RvcCIsICJfcG9zdFdvcmtlck1lc3NhZ2UiLCAic3RhcnQiLCAiRXJyb3IiLCAibG9jYXRpb24iLCAicHJvdG9jb2wiLCAicGxheSIsICJmYWNpbmdNb2RlIiwgIl9zZXRWaWRlb01pcnJvciIsICJjYXRjaCIsICJwYXVzZSIsICJzdG9wU3RyZWFtSW1tZWRpYXRlbHkiLCAic3RvcFN0cmVhbSIsICJQcm9taXNlIiwgInJlc29sdmUiLCAic2V0VGltZW91dCIsICJzZXRDYW1lcmEiLCAiZmFjaW5nTW9kZU9yRGV2aWNlSWQiLCAic2NhbkltYWdlIiwgImltYWdlT3JGaWxlT3JCbG9iT3JVcmwiLCAic2NhblJlZ2lvbk9yT3B0aW9ucyIsICJxckVuZ2luZSIsICJjYW52YXMiLCAiZGlzYWxsb3dDYW52YXNSZXNpemluZyIsICJhbHNvVHJ5V2l0aG91dFNjYW5SZWdpb24iLCAic2NhblJlZ2lvbiIsICJyZXR1cm5EZXRhaWxlZFNjYW5SZXN1bHQiLCAiaW1hZ2UiLCAiY2FudmFzQ29udGV4dCIsICJhbGwiLCAiX2xvYWRJbWFnZSIsICJfZHJhd1RvQ2FudmFzIiwgImRldGFpbGVkU2NhblJlc3VsdCIsICJXb3JrZXIiLCAiZ290RXh0ZXJuYWxFbmdpbmUiLCAiX3Bvc3RXb3JrZXJNZXNzYWdlU3luYyIsICJxckVuZ2luZVdvcmtlciIsICJyZWplY3QiLCAidGltZW91dCIsICJvbk1lc3NhZ2UiLCAib25FcnJvciIsICJleHBlY3RlZFJlc3BvbnNlSWQiLCAiZXZlbnQiLCAiZGF0YSIsICJjbGVhclRpbWVvdXQiLCAiY29ybmVyUG9pbnRzIiwgIl9jb252ZXJ0UG9pbnRzIiwgIk5PX1FSX0NPREVfRk9VTkQiLCAiZXJyb3IiLCAiaW1hZ2VEYXRhIiwgImJ1ZmZlciIsICJyYWNlIiwgInNjYW5SZXN1bHQiLCAicmF3VmFsdWUiLCAibWVzc2FnZSIsICJ0ZXN0IiwgImVycm9yTWVzc2FnZSIsICJfZGlzYWJsZUJhcmNvZGVEZXRlY3RvciIsICJzZXRHcmF5c2NhbGVXZWlnaHRzIiwgInJlZCIsICJncmVlbiIsICJibHVlIiwgInVzZUludGVnZXJBcHByb3hpbWF0aW9uIiwgInNldEludmVyc2lvbk1vZGUiLCAiaW52ZXJzaW9uTW9kZSIsICJ0aGVuIiwgImNyZWF0ZVdvcmtlciIsICJCYXJjb2RlRGV0ZWN0b3IiLCAiZ2V0U3VwcG9ydGVkRm9ybWF0cyIsICJpbmNsdWRlcyIsICJ1c2VyQWdlbnREYXRhIiwgImJyYW5kcyIsICJzb21lIiwgImJyYW5kIiwgInBsYXRmb3JtIiwgImdldEhpZ2hFbnRyb3B5VmFsdWVzIiwgImFyY2hpdGVjdHVyZSIsICJwbGF0Zm9ybVZlcnNpb24iLCAicGFyc2VJbnQiLCAiZm9ybWF0cyIsICJfc2NhbkZyYW1lIiwgIngiLCAiTWF0aCIsICJyb3VuZCIsICJ2aWRlb1dpZHRoIiwgInNjYW5SZWdpb25TaXplIiwgInkiLCAidmlkZW9IZWlnaHQiLCAiZG93blNjYWxlZFdpZHRoIiwgImRvd25TY2FsZWRIZWlnaHQiLCAidmlkZW9PYmplY3RGaXQiLCAidmlkZW9TY2FsZWRXaWR0aCIsICJ2aWRlb1NjYWxlZEhlaWdodCIsICJlbGVtZW50V2lkdGgiLCAiZWxlbWVudEhlaWdodCIsICJ2aWRlb0FzcGVjdFJhdGlvIiwgImVsZW1lbnRBc3BlY3RSYXRpbyIsICJtaW4iLCAidmlkZW9ZIiwgImxlbmd0aFZhbHVlIiwgInBhcnNlRmxvYXQiLCAiZW5kc1dpdGgiLCAicmVnaW9uV2lkdGgiLCAicmVnaW9uSGVpZ2h0IiwgInRvcCIsICJlbGVtZW50WSIsICJyZWdpb25ZIiwgImxlZnQiLCAiZWxlbWVudFgiLCAiaXNWaWRlb01pcnJvcmVkIiwgInZpZGVvWCIsICJyZWdpb25YIiwgInBvaW50cyIsICJwb2ludCIsICJzY2FsZUZhY3RvclgiLCAib2Zmc2V0WCIsICJzY2FsZUZhY3RvclkiLCAib2Zmc2V0WSIsICJwYXVzZWQiLCAiZW5kZWQiLCAicmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayIsICJyZWFkeVN0YXRlIiwgInRpbWVTaW5jZUxhc3RTY2FuIiwgIm1pbmltdW1UaW1lQmV0d2VlblNjYW5zIiwgIl9sYXN0U2NhblRpbWVzdGFtcCIsICJEYXRlIiwgIm5vdyIsICJyZXN1bHQiLCAiX2NvZGVPdXRsaW5lSGlnaGxpZ2h0UmVtb3ZhbFRpbWVvdXQiLCAidW5kZWZpbmVkIiwgInNldEF0dHJpYnV0ZSIsICJqb2luIiwgImxvZyIsICJjb25zdHJhaW50IiwgInByZWZlcmVuY2VUeXBlIiwgImV4YWN0IiwgImNvbnN0cmFpbnRzIiwgIndhc1BhdXNlZCIsICJ0cmFjayIsICJyZW1vdmVUcmFjayIsICJfZ2V0RmFjaW5nTW9kZSIsICJ2aWRlb1N0cmVhbSIsICJ2aWRlb1RyYWNrIiwgInNjYW5SZWdpb25XaWR0aCIsICJzY2FuUmVnaW9uSGVpZ2h0IiwgImNhbnZhc1dpZHRoIiwgImNhbnZhc0hlaWdodCIsICJhbHBoYSIsICJjb250ZXh0IiwgImltYWdlU21vb3RoaW5nRW5hYmxlZCIsICJkcmF3SW1hZ2UiLCAic2NhblJlZ2lvblgiLCAic2NhblJlZ2lvblkiLCAiSW1hZ2UiLCAiX2F3YWl0SW1hZ2VMb2FkIiwgIkhUTUxWaWRlb0VsZW1lbnQiLCAiSFRNTENhbnZhc0VsZW1lbnQiLCAiU1ZHSW1hZ2VFbGVtZW50IiwgIk9mZnNjcmVlbkNhbnZhcyIsICJJbWFnZUJpdG1hcCIsICJGaWxlIiwgIkJsb2IiLCAiVVJMIiwgInNyYyIsICJjcmVhdGVPYmplY3RVUkwiLCAidG9TdHJpbmciLCAicmV2b2tlT2JqZWN0VVJMIiwgImNvbXBsZXRlIiwgIm5hdHVyYWxXaWR0aCIsICJsaXN0ZW5lciIsICJFcnJvckV2ZW50IiwgInFyRW5naW5lT3JRckVuZ2luZVByb21pc2UiLCAidHlwZSIsICJ0cmFuc2ZlciIsICJwb3N0TWVzc2FnZSJdCn0K
